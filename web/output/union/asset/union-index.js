var T,baidu=T=baidu||{version:"1.3.9"};baidu.guid="$BAIDU$";window[baidu.guid]=window[baidu.guid]||{};baidu.ajax=baidu.ajax||{};baidu.fn=baidu.fn||{};baidu.fn.blank=function(){};baidu.ajax.request=function(g,m){var d=m||{},t=d.data||"",h=!(d.async===false),f=d.username||"",a=d.password||"",c=(d.method||"GET").toUpperCase(),b=d.headers||{},l=d.timeout||0,n={},q,u,k;function p(){if(k.readyState==4){try{var w=k.status}catch(v){s("failure");return}s(w);if((w>=200&&w<300)||w==304||w==1223){s("success")}else{s("failure")}window.setTimeout(function(){k.onreadystatechange=baidu.fn.blank;if(h){k=null}},0)}}function o(){if(window.ActiveXObject){try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(v){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(v){}}}if(window.XMLHttpRequest){return new XMLHttpRequest()}}function s(x){x="on"+x;var w=n[x],y=baidu.ajax[x];if(w){if(q){clearTimeout(q)}if(x!="onsuccess"){w(k)}else{try{k.responseText}catch(v){return w(k)}w(k,k.responseText)}}else{if(y){if(x=="onsuccess"){return}y(k)}}}for(u in d){n[u]=d[u]}b["X-Requested-With"]="XMLHttpRequest";try{k=o();if(c=="GET"){if(t){g+=(g.indexOf("?")>=0?"&":"?")+t;t=null}if(d.noCache){g+=(g.indexOf("?")>=0?"&":"?")+"b"+(+new Date)+"=1"}}if(f){k.open(c,g,h,f,a)}else{k.open(c,g,h)}if(h){k.onreadystatechange=p}if(c=="POST"){k.setRequestHeader("Content-Type",(b["Content-Type"]||"application/x-www-form-urlencoded"))}for(u in b){if(b.hasOwnProperty(u)){k.setRequestHeader(u,b[u])}}s("beforerequest");if(l){q=setTimeout(function(){k.onreadystatechange=baidu.fn.blank;k.abort();s("timeout")},l)}k.send(t);if(!h){p()}}catch(r){s("failure")}return k};baidu.ajax.form=function(a,c){c=c||{};var g=a.elements,p=g.length,b=a.getAttribute("method"),f=a.getAttribute("action"),v=c.replacer||function(x,w){return x},s={},u=[],n,r,t,o,d,h,k,m,l;function q(w,x){u.push(w+"="+x)}for(n in c){if(c.hasOwnProperty(n)){s[n]=c[n]}}for(n=0;n<p;n++){r=g[n];o=r.name;if(!r.disabled&&o){t=r.type;d=r.value;switch(t){case"radio":case"checkbox":if(!r.checked){break}case"textarea":case"text":case"password":case"hidden":case"select-one":q(o,v(d,o));break;case"select-multiple":h=r.options;m=h.length;for(k=0;k<m;k++){l=h[k];if(l.selected){q(o,v(l.value,o))}}break}}}s.data=u.join("&");s.method=a.getAttribute("method")||"GET";return baidu.ajax.request(f,s)};baidu.ajax.get=function(b,a){return baidu.ajax.request(b,{onsuccess:a})};baidu.ajax.post=function(b,c,a){return baidu.ajax.request(b,{onsuccess:a,method:"POST",data:c})};baidu.array=baidu.array||{};baidu.array.indexOf=function(f,b,d){var a=f.length,c=b;d=d|0;if(d<0){d=Math.max(0,a+d)}for(;d<a;d++){if(d in f&&f[d]===b){return d}}return -1};baidu.array.contains=function(a,b){return(baidu.array.indexOf(a,b)>=0)};baidu.each=baidu.array.forEach=baidu.array.each=function(h,f,b){var d,g,c,a=h.length;if("function"==typeof f){for(c=0;c<a;c++){g=h[c];d=f.call(b||h,g,c);if(d===false){break}}}return h};baidu.array.empty=function(a){a.length=0};baidu.array.every=function(f,d,b){var c=0,a=f.length;for(;c<a;c++){if(c in f&&!d.call(b||f,f[c],c)){return false}}return true};baidu.array.filter=function(k,g,d){var c=[],b=0,a=k.length,h,f;if("function"==typeof g){for(f=0;f<a;f++){h=k[f];if(true===g.call(d||k,h,f)){c[b++]=h}}}return c};baidu.array.find=function(f,c){var d,b,a=f.length;if("function"==typeof c){for(b=0;b<a;b++){d=f[b];if(true===c.call(f,d,b)){return d}}}return null};baidu.array.hash=function(f,b){var g={},d=b&&b.length,c=0,a=f.length;for(;c<a;c++){g[f[c]]=(d&&d>c)?b[c]:true}return g};baidu.array.lastIndexOf=function(d,b,c){var a=d.length;c=c|0;if(!c||c>=a){c=a-1}if(c<0){c+=a}for(;c>=0;c--){if(c in d&&d[c]===b){return c}}return -1};baidu.array.map=function(g,f,b){var d=[],c=0,a=g.length;for(;c<a;c++){d[c]=f.call(b||g,g[c],c)}return d};baidu.array.reduce=function(g,c,d){var b=0,a=g.length,f=0;if(arguments.length<3){for(;b<a;b++){d=g[b++];f=1;break}if(!f){return}}for(;b<a;b++){if(b in g){d=c(d,g[b],b,g)}}return d};baidu.array.remove=function(c,b){var a=c.length;while(a--){if(a in c&&c[a]===b){c.splice(a,1)}}return c};baidu.array.removeAt=function(b,a){return b.splice(a,1)[0]};baidu.array.some=function(f,d,b){var c=0,a=f.length;for(;c<a;c++){if(c in f&&d.call(b||f,f[c],c)){return true}}return false};baidu.array.unique=function(f,g){var b=f.length,a=f.slice(0),d,c;if("function"!=typeof g){g=function(k,h){return k===h}}while(--b>0){c=a[b];d=b;while(d--){if(g(c,a[d])){a.splice(b,1);break}}}return a};baidu.async=baidu.async||{};baidu.object=baidu.object||{};baidu.extend=baidu.object.extend=function(c,a){for(var b in a){if(a.hasOwnProperty(b)){c[b]=a[b]}}return c};baidu.lang=baidu.lang||{};baidu.lang.isFunction=function(a){return"[object Function]"==Object.prototype.toString.call(a)};baidu.async._isDeferred=function(b){var a=baidu.lang.isFunction;return b&&a(b.success)&&a(b.then)&&a(b.fail)&&a(b.cancel)};baidu.async.Deferred=function(){var b=this;baidu.extend(b,{_fired:0,_firing:0,_cancelled:0,_resolveChain:[],_rejectChain:[],_result:[],_isError:0});function a(){if(b._cancelled||b._firing){return}if(b._nextDeferred){b._nextDeferred.then(b._resolveChain[0],b._rejectChain[0]);return}b._firing=1;var g=b._isError?b._rejectChain:b._resolveChain,c=b._result[b._isError?1:0];while(g[0]&&(!b._cancelled)){try{var d=g.shift().call(b,c);if(baidu.async._isDeferred(d)){b._nextDeferred=d;[].push.apply(d._resolveChain,b._resolveChain);[].push.apply(d._rejectChain,b._rejectChain);g=b._resolveChain=[];b._rejectChain=[]}}catch(f){throw f}finally{b._fired=1;b._firing=0}}}b.resolve=b.fireSuccess=function(c){b._result[0]=c;a();return b};b.reject=b.fireFail=function(c){b._result[1]=c;b._isError=1;a();return b};b.then=function(c,d){b._resolveChain.push(c);b._rejectChain.push(d);if(b._fired){a()}return b};b.success=function(c){return b.then(c,baidu.fn.blank)};b.fail=function(c){return b.then(baidu.fn.blank,c)};b.cancel=function(){b._cancelled=1}};baidu.async.get=function(b){var a=new baidu.async.Deferred();baidu.ajax.request(b,{onsuccess:function(d,c){a.resolve({xhr:d,responseText:c})},onfailure:function(c){a.reject({xhr:c})}});return a};baidu.async.post=function(b,c){var a=new baidu.async.Deferred();baidu.ajax.request(b,{method:"POST",data:c,onsuccess:function(f,d){a.resolve({xhr:f,responseText:d})},onfailure:function(d){a.reject({xhr:d})}});return a};baidu.async.when=function(c,b,d){if(baidu.async._isDeferred(c)){c.then(b,d);return c}var a=new baidu.async.Deferred();a.then(b,d).resolve(c);return a};baidu.browser=baidu.browser||{};baidu.browser.chrome=/chrome\/(\d+\.\d+)/i.test(navigator.userAgent)?+RegExp["\x241"]:undefined;baidu.browser.firefox=/firefox\/(\d+\.\d+)/i.test(navigator.userAgent)?+RegExp["\x241"]:undefined;baidu.browser.ie=baidu.ie=/msie (\d+\.\d+)/i.test(navigator.userAgent)?(document.documentMode||+RegExp["\x241"]):undefined;baidu.browser.isGecko=/gecko/i.test(navigator.userAgent)&&!/like gecko/i.test(navigator.userAgent);baidu.browser.isStrict=document.compatMode=="CSS1Compat";baidu.browser.isWebkit=/webkit/i.test(navigator.userAgent);try{if(/(\d+\.\d+)/.test(external.max_version)){baidu.browser.maxthon=+RegExp["\x241"]}}catch(e){}baidu.browser.opera=/opera(\/| )(\d+(\.\d+)?)(.+?(version\/(\d+(\.\d+)?)))?/i.test(navigator.userAgent)?+(RegExp["\x246"]||RegExp["\x242"]):undefined;(function(){var a=navigator.userAgent;baidu.browser.safari=/(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(a)&&!/chrome/i.test(a)?+(RegExp["\x241"]||RegExp["\x242"]):undefined})();baidu.cookie=baidu.cookie||{};baidu.cookie._isValidKey=function(a){return(new RegExp('^[^\\x00-\\x20\\x7f\\(\\)<>@,;:\\\\\\"\\[\\]\\?=\\{\\}\\/\\u0080-\\uffff]+\x24')).test(a)};baidu.cookie.getRaw=function(b){if(baidu.cookie._isValidKey(b)){var c=new RegExp("(^| )"+b+"=([^;]*)(;|\x24)"),a=c.exec(document.cookie);if(a){return a[2]||null}}return null};baidu.cookie.get=function(a){var b=baidu.cookie.getRaw(a);if("string"==typeof b){b=decodeURIComponent(b);return b}return null};baidu.cookie.setRaw=function(c,d,b){if(!baidu.cookie._isValidKey(c)){return}b=b||{};var a=b.expires;if("number"==typeof b.expires){a=new Date();a.setTime(a.getTime()+b.expires)}document.cookie=c+"="+d+(b.path?"; path="+b.path:"")+(a?"; expires="+a.toGMTString():"")+(b.domain?"; domain="+b.domain:"")+(b.secure?"; secure":"")};baidu.cookie.remove=function(b,a){a=a||{};a.expires=new Date(0);baidu.cookie.setRaw(b,"",a)};baidu.cookie.set=function(b,c,a){baidu.cookie.setRaw(b,encodeURIComponent(c),a)};baidu.date=baidu.date||{};baidu.number=baidu.number||{};baidu.number.pad=function(d,c){var f="",b=(d<0),a=String(Math.abs(d));if(a.length<c){f=(new Array(c-a.length+1)).join("0")}return(b?"-":"")+f+a};baidu.date.format=function(a,g){if("string"!=typeof g){return a.toString()}function d(o,n){g=g.replace(o,n)}var b=baidu.number.pad,h=a.getFullYear(),f=a.getMonth()+1,m=a.getDate(),k=a.getHours(),c=a.getMinutes(),l=a.getSeconds();d(/yyyy/g,b(h,4));d(/yy/g,b(parseInt(h.toString().slice(2),10),2));d(/MM/g,b(f,2));d(/M/g,f);d(/dd/g,b(m,2));d(/d/g,m);d(/HH/g,b(k,2));d(/H/g,k);d(/hh/g,b(k%12,2));d(/h/g,k%12);d(/mm/g,b(c,2));d(/m/g,c);d(/ss/g,b(l,2));d(/s/g,l);return g};baidu.date.parse=function(c){var a=new RegExp("^\\d+(\\-|\\/)\\d+(\\-|\\/)\\d+\x24");if("string"==typeof c){if(a.test(c)||isNaN(Date.parse(c))){var g=c.split(/ |T/),b=g.length>1?g[1].split(/[^\d]/):[0,0,0],f=g[0].split(/[^\d]/);return new Date(f[0]-0,f[1]-1,f[2]-0,b[0]-0,b[1]-0,b[2]-0)}else{return new Date(c)}}return new Date()};baidu.dom=baidu.dom||{};baidu.dom._NAME_ATTRS=(function(){var a={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",usemap:"useMap",frameborder:"frameBorder"};if(baidu.browser.ie<8){a["for"]="htmlFor";a["class"]="className"}else{a.htmlFor="for";a.className="class"}return a})();baidu.lang.isString=function(a){return"[object String]"==Object.prototype.toString.call(a)};baidu.isString=baidu.lang.isString;baidu.dom._g=function(a){if(baidu.lang.isString(a)){return document.getElementById(a)}return a};baidu._g=baidu.dom._g;baidu.dom.g=function(a){if("string"==typeof a||a instanceof String){return document.getElementById(a)}else{if(a&&a.nodeName&&(a.nodeType==1||a.nodeType==9)){return a}}return null};baidu.g=baidu.G=baidu.dom.g;baidu.dom._matchNode=function(a,c,d){a=baidu.dom.g(a);for(var b=a[d];b;b=b[c]){if(b.nodeType==1){return b}}return null};baidu.dom._styleFilter=baidu.dom._styleFilter||[];baidu.dom._styleFilter[baidu.dom._styleFilter.length]={get:function(c,d){if(/color/i.test(c)&&d.indexOf("rgb(")!=-1){var f=d.split(",");d="#";for(var b=0,a;a=f[b];b++){a=parseInt(a.replace(/[^\d]/gi,""),10).toString(16);d+=a.length==1?"0"+a:a}d=d.toUpperCase()}return d}};baidu.dom._styleFilter.filter=function(b,f,g){for(var a=0,d=baidu.dom._styleFilter,c;c=d[a];a++){if(c=c[g]){f=c(b,f)}}return f};baidu.dom._styleFilter[baidu.dom._styleFilter.length]={set:function(a,b){if(b.constructor==Number&&!/zIndex|fontWeight|opacity|zoom|lineHeight/i.test(a)){b=b+"px"}return b}};baidu.dom._styleFixer=baidu.dom._styleFixer||{};baidu.dom._styleFixer.display=baidu.browser.ie&&baidu.browser.ie<8?{set:function(a,b){a=a.style;if(b=="inline-block"){a.display="inline";a.zoom=1}else{a.display=b}}}:baidu.browser.firefox&&baidu.browser.firefox<3?{set:function(a,b){a.style.display=b=="inline-block"?"-moz-inline-box":b}}:null;baidu.dom._styleFixer["float"]=baidu.browser.ie?"styleFloat":"cssFloat";baidu.dom._styleFixer.opacity=baidu.browser.ie?{get:function(a){var b=a.style.filter;return b&&b.indexOf("opacity=")>=0?(parseFloat(b.match(/opacity=([^)]*)/)[1])/100)+"":"1"},set:function(a,c){var b=a.style;b.filter=(b.filter||"").replace(/alpha\([^\)]*\)/gi,"")+(c==1?"":"alpha(opacity="+c*100+")");b.zoom=1}}:null;baidu.dom.getDocument=function(a){a=baidu.dom.g(a);return a.nodeType==9?a:a.ownerDocument||a.document};baidu.dom.getComputedStyle=function(b,a){b=baidu.dom._g(b);var d=baidu.dom.getDocument(b),c;if(d.defaultView&&d.defaultView.getComputedStyle){c=d.defaultView.getComputedStyle(b,null);if(c){return c[a]||c.getPropertyValue(a)}}return""};baidu.string=baidu.string||{};baidu.string.toCamelCase=function(a){if(a.indexOf("-")<0&&a.indexOf("_")<0){return a}return a.replace(/[-_][^-_]/g,function(b){return b.charAt(1).toUpperCase()})};baidu.dom.getStyle=function(c,b){var f=baidu.dom;c=f.g(c);b=baidu.string.toCamelCase(b);var d=c.style[b]||(c.currentStyle?c.currentStyle[b]:"")||f.getComputedStyle(c,b);if(!d){var a=f._styleFixer[b];if(a){d=a.get?a.get(c):baidu.dom.getStyle(c,a)}}if(a=f._styleFilter){d=a.filter(b,d,"get")}return d};baidu.getStyle=baidu.dom.getStyle;baidu.dom._styleFixer.textOverflow=(function(){var b={};function a(f){var g=f.length;if(g>0){g=f[g-1];f.length--}else{g=null}return g}function c(f,g){f[baidu.browser.firefox?"textContent":"innerText"]=g}function d(p,k,u){var m=baidu.browser.ie?p.currentStyle||p.style:getComputedStyle(p,null),t=m.fontWeight,s="font-family:"+m.fontFamily+";font-size:"+m.fontSize+";word-spacing:"+m.wordSpacing+";font-weight:"+((parseInt(t)||0)==401?700:t)+";font-style:"+m.fontStyle+";font-variant:"+m.fontVariant,f=b[s];if(!f){m=p.appendChild(document.createElement("div"));m.style.cssText="float:left;"+s;f=b[s]=[];for(var q=0;q<256;q++){q==32?(m.innerHTML="&nbsp;"):c(m,String.fromCharCode(q));f[q]=m.offsetWidth}c(m,"\u4e00");f[256]=m.offsetWidth;c(m,"\u4e00\u4e00");f[257]=m.offsetWidth-f[256]*2;f[258]=f[".".charCodeAt(0)]*3+f[257]*3;p.removeChild(m)}for(var n=p.firstChild,r=f[256],h=f[257],g=f[258],w=[],u=u?g:0;n;n=n.nextSibling){if(k<u){p.removeChild(n)}else{if(n.nodeType==3){for(var q=0,v=n.nodeValue,l=v.length;q<l;q++){m=v.charCodeAt(q);w[w.length]=[k,n,q];k-=(q?h:0)+(m<256?f[m]:r);if(k<u){break}}}else{m=n.tagName;if(m=="IMG"||m=="TABLE"){m=n;n=n.previousSibling;p.removeChild(m)}else{w[w.length]=[k,n];k-=n.offsetWidth}}}}if(k<u){while(m=a(w)){k=m[0];n=m[1];m=m[2];if(n.nodeType==3){if(k>=g){n.nodeValue=n.nodeValue.substring(0,m)+"...";return true}else{if(!m){p.removeChild(n)}}}else{if(d(n,k,true)){return true}else{p.removeChild(n)}}}p.innerHTML=""}}return{get:function(h){var g=baidu.browser,f=dom.getStyle;return(g.opera?f("OTextOverflow"):g.firefox?h._baiduOverflow:f("textOverflow"))||"clip"},set:function(g,k){var f=baidu.browser;if(g.tagName=="TD"||g.tagName=="TH"||f.firefox){g._baiduHTML&&(g.innerHTML=g._baiduHTML);if(k=="ellipsis"){g._baiduHTML=g.innerHTML;var l=document.createElement("div"),h=g.appendChild(l).offsetWidth;g.removeChild(l);d(g,h)}else{g._baiduHTML=""}}l=g.style;f.opera?(l.OTextOverflow=k):f.firefox?(g._baiduOverflow=k):(l.textOverflow=k)}}})();(function(){var a=new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+\x24)","g");baidu.string.trim=function(b){return String(b).replace(a,"")}})();baidu.trim=baidu.string.trim;baidu.dom.addClass=function(g,h){g=baidu.dom.g(g);var b=h.split(/\s+/),a=g.className,f=" "+a+" ",d=0,c=b.length;for(;d<c;d++){if(f.indexOf(" "+b[d]+" ")<0){a+=(a?" ":"")+b[d]}}g.className=a;return g};baidu.addClass=baidu.dom.addClass;baidu.dom.children=function(b){b=baidu.dom.g(b);for(var a=[],c=b.firstChild;c;c=c.nextSibling){if(c.nodeType==1){a.push(c)}}return a};baidu.dom.contains=function(a,b){var c=baidu.dom._g;a=c(a);b=c(b);return a.contains?a!=b&&a.contains(b):!!(a.compareDocumentPosition(b)&16)};baidu.dom.setAttr=function(b,a,c){b=baidu.dom.g(b);if("style"==a){b.style.cssText=c}else{a=baidu.dom._NAME_ATTRS[a]||a;b.setAttribute(a,c)}return b};baidu.setAttr=baidu.dom.setAttr;baidu.dom.setAttrs=function(c,a){c=baidu.dom.g(c);for(var b in a){baidu.dom.setAttr(c,b,a[b])}return c};baidu.setAttrs=baidu.dom.setAttrs;baidu.dom.create=function(c,a){var d=document.createElement(c),b=a||{};return baidu.dom.setAttrs(d,b)};(function(){var a=window[baidu.guid];baidu.lang.guid=function(){return"TANGRAM__"+(a._counter++).toString(36)};a._counter=a._counter||1})();window[baidu.guid]._instances=window[baidu.guid]._instances||{};baidu.lang.Class=function(a){this.guid=a||baidu.lang.guid();window[baidu.guid]._instances[this.guid]=this};window[baidu.guid]._instances=window[baidu.guid]._instances||{};baidu.lang.Class.prototype.dispose=function(){delete window[baidu.guid]._instances[this.guid];for(var a in this){if(!baidu.lang.isFunction(this[a])){delete this[a]}}this.disposed=true};baidu.lang.Class.prototype.toString=function(){return"[object "+(this._className||"Object")+"]"};baidu.lang.Event=function(a,b){this.type=a;this.returnValue=true;this.target=b||null;this.currentTarget=null};baidu.lang.Class.prototype.addEventListener=function(d,c,b){if(!baidu.lang.isFunction(c)){return}!this.__listeners&&(this.__listeners={});var a=this.__listeners,f;if(typeof b=="string"&&b){if(/[^\w\-]/.test(b)){throw ("nonstandard key:"+b)}else{c.hashCode=b;f=b}}d.indexOf("on")!=0&&(d="on"+d);typeof a[d]!="object"&&(a[d]={});f=f||baidu.lang.guid();c.hashCode=f;a[d][f]=c};baidu.lang.Class.prototype.removeEventListener=function(d,c){if(typeof c!="undefined"){if((baidu.lang.isFunction(c)&&!(c=c.hashCode))||(!baidu.lang.isString(c))){return}}!this.__listeners&&(this.__listeners={});d.indexOf("on")!=0&&(d="on"+d);var b=this.__listeners;if(!b[d]){return}if(typeof c!="undefined"){b[d][c]&&delete b[d][c]}else{for(var a in b[d]){delete b[d][a]}}};baidu.lang.Class.prototype.dispatchEvent=function(d,a){if(baidu.lang.isString(d)){d=new baidu.lang.Event(d)}!this.__listeners&&(this.__listeners={});a=a||{};for(var c in a){d[c]=a[c]}var c,b=this.__listeners,f=d.type;d.target=d.target||this;d.currentTarget=this;f.indexOf("on")!=0&&(f="on"+f);baidu.lang.isFunction(this[f])&&this[f].apply(this,arguments);if(typeof b[f]=="object"){for(c in b[f]){b[f][c].apply(this,arguments)}}return d.returnValue};baidu.lang.createSingle=function(b){var d=new baidu.lang.Class();for(var a in b){d[a]=b[a]}return d};baidu.dom.ddManager=baidu.lang.createSingle({_targetsDroppingOver:{}});baidu.event=baidu.event||{};baidu.event._listeners=baidu.event._listeners||[];baidu.event.on=function(b,f,h){f=f.replace(/^on/i,"");b=baidu.dom._g(b);var g=function(l){h.call(b,l)},a=baidu.event._listeners,d=baidu.event._eventFilter,k,c=f;f=f.toLowerCase();if(d&&d[f]){k=d[f](b,f,g);c=k.type;g=k.listener}if(b.addEventListener){b.addEventListener(c,g,false)}else{if(b.attachEvent){b.attachEvent("on"+c,g)}}a[a.length]=[b,f,h,g,c];return b};baidu.on=baidu.event.on;baidu.event.un=function(c,g,b){c=baidu.dom._g(c);g=g.replace(/^on/i,"").toLowerCase();var l=baidu.event._listeners,d=l.length,f=!b,k,h,a;while(d--){k=l[d];if(k[1]===g&&k[0]===c&&(f||k[2]===b)){h=k[4];a=k[3];if(c.removeEventListener){c.removeEventListener(h,a,false)}else{if(c.detachEvent){c.detachEvent("on"+h,a)}}l.splice(d,1)}}return c};baidu.un=baidu.event.un;baidu.event.preventDefault=function(a){if(a.preventDefault){a.preventDefault()}else{a.returnValue=false}};baidu.page=baidu.page||{};baidu.page.getScrollTop=function(){var a=document;return window.pageYOffset||a.documentElement.scrollTop||a.body.scrollTop};baidu.page.getScrollLeft=function(){var a=document;return window.pageXOffset||a.documentElement.scrollLeft||a.body.scrollLeft};(function(){baidu.page.getMousePosition=function(){return{x:baidu.page.getScrollLeft()+a.x,y:baidu.page.getScrollTop()+a.y}};var a={x:0,y:0};baidu.event.on(document,"onmousemove",function(b){b=window.event||b;a.x=b.clientX;a.y=b.clientY})})();baidu.dom.getPosition=function(a){a=baidu.dom.g(a);var m=baidu.dom.getDocument(a),d=baidu.browser,h=baidu.dom.getStyle,c=d.isGecko>0&&m.getBoxObjectFor&&h(a,"position")=="absolute"&&(a.style.top===""||a.style.left===""),k={left:0,top:0},g=(d.ie&&!d.isStrict)?m.body:m.documentElement,n,b;if(a==g){return k}if(a.getBoundingClientRect){b=a.getBoundingClientRect();k.left=Math.floor(b.left)+Math.max(m.documentElement.scrollLeft,m.body.scrollLeft);k.top=Math.floor(b.top)+Math.max(m.documentElement.scrollTop,m.body.scrollTop);k.left-=m.documentElement.clientLeft;k.top-=m.documentElement.clientTop;var l=m.body,o=parseInt(h(l,"borderLeftWidth")),f=parseInt(h(l,"borderTopWidth"));if(d.ie&&!d.isStrict){k.left-=isNaN(o)?2:o;k.top-=isNaN(f)?2:f}}else{n=a;do{k.left+=n.offsetLeft;k.top+=n.offsetTop;if(d.isWebkit>0&&h(n,"position")=="fixed"){k.left+=m.body.scrollLeft;k.top+=m.body.scrollTop;break}n=n.offsetParent}while(n&&n!=a);if(d.opera>0||(d.isWebkit>0&&h(a,"position")=="absolute")){k.top-=m.body.offsetTop}n=a.offsetParent;while(n&&n!=m.body){k.left-=n.scrollLeft;if(!d.opera||n.tagName!="TR"){k.top-=n.scrollTop}n=n.offsetParent}}return k};(function(){var p,o,h,f,s,k,t,a,r,g=baidu.lang.isFunction,d,m,c;baidu.dom.drag=function(v,u){r=a=null;if(!(p=baidu.dom.g(v))){return false}o=baidu.object.extend({autoStop:true,capture:true,interval:16,handler:p},u);m=baidu.dom.getPosition(p.offsetParent);c=baidu.dom.getPosition(p);if(baidu.getStyle(p,"position")=="absolute"){s=c.top-(p.offsetParent==document.body?0:m.top);k=c.left-(p.offsetParent==document.body?0:m.left)}else{s=parseFloat(baidu.getStyle(p,"top"))||-parseFloat(baidu.getStyle(p,"bottom"))||0;k=parseFloat(baidu.getStyle(p,"left"))||-parseFloat(baidu.getStyle(p,"right"))||0}if(o.mouseEvent){h=baidu.page.getScrollLeft()+o.mouseEvent.clientX;f=baidu.page.getScrollTop()+o.mouseEvent.clientY}else{var w=baidu.page.getMousePosition();h=w.x;f=w.y}o.autoStop&&baidu.event.on(o.handler,"mouseup",q);o.autoStop&&baidu.event.on(window,"mouseup",q);baidu.event.on(document,"selectstart",l);if(o.capture&&o.handler.setCapture){o.handler.setCapture()}else{if(o.capture&&window.captureEvents){window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP)}}t=document.body.style.MozUserSelect;document.body.style.MozUserSelect="none";if(g(o.ondragstart)){o.ondragstart(p,o)}d=setInterval(b,o.interval);return{stop:q,update:n}};function n(u){baidu.extend(o,u)}function q(){clearInterval(d);if(o.capture&&o.handler.releaseCapture){o.handler.releaseCapture()}else{if(o.capture&&window.releaseEvents){window.releaseEvents(Event.MOUSEMOVE|Event.MOUSEUP)}}document.body.style.MozUserSelect=t;baidu.event.un(document,"selectstart",l);o.autoStop&&baidu.event.un(o.handler,"mouseup",q);o.autoStop&&baidu.event.un(window,"mouseup",q);if(g(o.ondragend)){o.ondragend(p,o)}}function b(y){var u=o.range,x=baidu.page.getMousePosition(),v=k+x.x-h,w=s+x.y-f;if(typeof u=="object"&&u&&u.length==4){v=Math.max(u[3],v);v=Math.min(u[1]-p.offsetWidth,v);w=Math.max(u[0],w);w=Math.min(u[2]-p.offsetHeight,w)}p.style.top=w+"px";p.style.left=v+"px";if((a!==v||r!==w)&&(a!==null||r!==null)){if(g(o.ondrag)){o.ondrag(p,o)}}a=v;r=w}function l(u){return baidu.event.preventDefault(u,false)}})();baidu.dom.setStyle=function(c,b,d){var f=baidu.dom,a;c=f.g(c);b=baidu.string.toCamelCase(b);if(a=f._styleFilter){d=a.filter(b,d,"set")}a=f._styleFixer[b];(a&&a.set)?a.set(c,d):(c.style[a||b]=d);return c};baidu.setStyle=baidu.dom.setStyle;baidu.dom.draggable=function(b,m){m=baidu.object.extend({toggle:function(){return true}},m||{});m.autoStop=true;b=baidu.dom.g(b);m.handler=m.handler||b;var a,k=["ondragstart","ondrag","ondragend"],c=k.length-1,d,l,g={dispose:function(){l&&l.stop();baidu.event.un(m.handler,"onmousedown",h);baidu.lang.Class.prototype.dispose.call(g)}},f=this;if(a=baidu.dom.ddManager){for(;c>=0;c--){d=k[c];m[d]=(function(n){var o=m[n];return function(){baidu.lang.isFunction(o)&&o.apply(f,arguments);a.dispatchEvent(n,{DOM:b})}})(d)}}if(b){function h(o){var n=m.mouseEvent=window.event||o;if(n.button>1||(baidu.lang.isFunction(m.toggle)&&!m.toggle())){return}if(baidu.dom.getStyle(b,"position")=="static"){baidu.dom.setStyle(b,"position","relative")}if(baidu.lang.isFunction(m.onbeforedragstart)){m.onbeforedragstart(b)}l=baidu.dom.drag(b,m);g.stop=l.stop;g.update=l.update;baidu.event.preventDefault(n)}baidu.event.on(m.handler,"onmousedown",h)}return{cancel:function(){g.dispose()}}};baidu.dom.intersect=function(l,k){var h=baidu.dom.g,f=baidu.dom.getPosition,a=Math.max,c=Math.min;l=h(l);k=h(k);var d=f(l),b=f(k);return a(d.left,b.left)<=c(d.left+l.offsetWidth,b.left+k.offsetWidth)&&a(d.top,b.top)<=c(d.top+l.offsetHeight,b.top+k.offsetHeight)};baidu.dom.droppable=function(f,c){c=c||{};var d=baidu.dom.ddManager,h=baidu.dom.g(f),b=baidu.lang.guid(),g=function(m){var l=d._targetsDroppingOver,k={trigger:m.DOM,reciever:h};if(baidu.dom.intersect(h,m.DOM)){if(!l[b]){(typeof c.ondropover=="function")&&c.ondropover.call(h,k);d.dispatchEvent("ondropover",k);l[b]=true}}else{if(l[b]){(typeof c.ondropout=="function")&&c.ondropout.call(h,k);d.dispatchEvent("ondropout",k)}delete l[b]}},a=function(l){var k={trigger:l.DOM,reciever:h};if(baidu.dom.intersect(h,l.DOM)){typeof c.ondrop=="function"&&c.ondrop.call(h,k);d.dispatchEvent("ondrop",k)}delete d._targetsDroppingOver[b]};d.addEventListener("ondrag",g);d.addEventListener("ondragend",a);return{cancel:function(){d.removeEventListener("ondrag",g);d.removeEventListener("ondragend",a)}}};baidu.dom.empty=function(a){a=baidu.dom.g(a);while(a.firstChild){a.removeChild(a.firstChild)}return a};baidu.dom.first=function(a){return baidu.dom._matchNode(a,"nextSibling","firstChild")};baidu.dom.getAttr=function(b,a){b=baidu.dom.g(b);if("style"==a){return b.style.cssText}a=baidu.dom._NAME_ATTRS[a]||a;return b.getAttribute(a)};baidu.getAttr=baidu.dom.getAttr;baidu.dom.setStyles=function(b,c){b=baidu.dom.g(b);for(var a in c){baidu.dom.setStyle(b,a,c[a])}return b};baidu.setStyles=baidu.dom.setStyles;baidu.page.getViewHeight=function(){var b=document,a=b.compatMode=="BackCompat"?b.body:b.documentElement;return a.clientHeight};baidu.page.getViewWidth=function(){var b=document,a=b.compatMode=="BackCompat"?b.body:b.documentElement;return a.clientWidth};baidu.dom.fixable=function(a,b){var w=baidu.g(a),r=baidu.browser.ie&&baidu.browser.ie<=7?true:false,m=b.vertival||"top",u=b.horizontal||"left",t=typeof b.autofix!="undefined"?b.autofix:true,l,d,k=false,o=b.onrender||new Function(),c=b.onupdate||new Function(),n=b.onrelease||new Function();if(!w){return}l=h();d={y:r?(l.position=="static"?baidu.dom.getPosition(w).top:baidu.dom.getPosition(w).top-baidu.dom.getPosition(w.parentNode).top):w.offsetTop,x:r?(l.position=="static"?baidu.dom.getPosition(w).left:baidu.dom.getPosition(w).left-baidu.dom.getPosition(w.parentNode).left):w.offsetLeft};baidu.extend(d,b.offset||{});t&&v();function s(){return{top:m=="top"?d.y:baidu.page.getViewHeight()-d.y-l.height,left:u=="left"?d.x:baidu.page.getViewWidth()-d.x-l.width}}function p(){var x=s();w.style.setExpression("left","eval((document.body.scrollLeft || document.documentElement.scrollLeft) + "+x.left+") + 'px'");w.style.setExpression("top","eval((document.body.scrollTop || document.documentElement.scrollTop) + "+x.top+") + 'px'")}function h(){var x={position:baidu.getStyle(w,"position"),height:function(){var y=baidu.getStyle(w,"height");return(y!="auto")?(/\d+/.exec(y)[0]):w.offsetHeight}(),width:function(){var y=baidu.getStyle(w,"width");return(y!="auto")?(/\d+/.exec(y)[0]):w.offsetWidth}()};f("top",x);f("left",x);f("bottom",x);f("right",x);return x}function f(y,z){var x;if(z.position=="static"){z[y]=""}else{x=baidu.getStyle(w,y);if(x=="auto"||x=="0px"){z[y]=""}else{z[y]=x}}}function v(){if(k){return}baidu.setStyles(w,{top:"",left:"",bottom:"",right:""});if(!r){var x={position:"fixed"};x[m=="top"?"top":"bottom"]=d.y+"px";x[u=="left"?"left":"right"]=d.x+"px";baidu.setStyles(w,x)}else{baidu.setStyle(w,"position","absolute");p()}o();k=true}function q(){if(!k){return}var x={position:l.position,left:l.left==""?"auto":l.left,top:l.top==""?"auto":l.top,bottom:l.bottom==""?"auto":l.bottom,right:l.right==""?"auto":l.right};if(r){w.style.removeExpression("left");w.style.removeExpression("top")}baidu.setStyles(w,x);n();k=false}function g(x){if(!x){return}o=x.onrender||o;c=x.onupdate||c;n=x.onrelease||n;m=x.vertival||"top";u=x.horizontal||"left";baidu.extend(d,x.offset||{});c()}return{render:v,update:g,release:q}};baidu.dom.getAncestorBy=function(a,b){a=baidu.dom.g(a);while((a=a.parentNode)&&a.nodeType==1){if(b(a)){return a}}return null};baidu.dom.getAncestorByClass=function(a,b){a=baidu.dom.g(a);b=new RegExp("(^|\\s)"+baidu.string.trim(b)+"(\\s|\x24)");while((a=a.parentNode)&&a.nodeType==1){if(b.test(a.className)){return a}}return null};baidu.dom.getAncestorByTag=function(b,a){b=baidu.dom.g(b);a=a.toUpperCase();while((b=b.parentNode)&&b.nodeType==1){if(b.tagName==a){return b}}return null};baidu.dom.getParent=function(a){a=baidu.dom._g(a);return a.parentElement||a.parentNode||null};baidu.dom.getText=function(d){var b="",f,c=0,a;d=baidu._g(d);if(d.nodeType===3||d.nodeType===4){b+=d.nodeValue}else{if(d.nodeType!==8){f=d.childNodes;for(a=f.length;c<a;c++){b+=baidu.dom.getText(f[c])}}}return b};baidu.dom.getWindow=function(a){a=baidu.dom.g(a);var b=baidu.dom.getDocument(a);return b.parentWindow||b.defaultView||null};baidu.dom.hasAttr=function(c,b){c=baidu.g(c);var a=c.attributes.getNamedItem(b);return !!(a&&a.specified)};baidu.dom.hasClass=function(c,d){c=baidu.dom.g(c);var b=baidu.string.trim(d).split(/\s+/),a=b.length;d=c.className.split(/\s+/).join(" ");while(a--){if(!(new RegExp("(^| )"+b[a]+"( |\x24)")).test(d)){return false}}return true};baidu.dom.hide=function(a){a=baidu.dom.g(a);a.style.display="none";return a};baidu.hide=baidu.dom.hide;baidu.dom.insertAfter=function(d,c){var b,a;b=baidu.dom._g;d=b(d);c=b(c);a=c.parentNode;if(a){a.insertBefore(d,c.nextSibling)}return d};baidu.dom.insertBefore=function(d,c){var b,a;b=baidu.dom._g;d=b(d);c=b(c);a=c.parentNode;if(a){a.insertBefore(d,c)}return d};baidu.dom.insertHTML=function(d,a,c){d=baidu.dom.g(d);var b,f;if(d.insertAdjacentHTML&&!baidu.browser.opera){d.insertAdjacentHTML(a,c)}else{b=d.ownerDocument.createRange();a=a.toUpperCase();if(a=="AFTERBEGIN"||a=="BEFOREEND"){b.selectNodeContents(d);b.collapse(a=="AFTERBEGIN")}else{f=a=="BEFOREBEGIN";b[f?"setStartBefore":"setEndAfter"](d);b.collapse(f)}b.insertNode(b.createContextualFragment(c))}return d};baidu.insertHTML=baidu.dom.insertHTML;baidu.dom.last=function(a){return baidu.dom._matchNode(a,"previousSibling","lastChild")};baidu.dom.next=function(a){return baidu.dom._matchNode(a,"nextSibling","nextSibling")};baidu.dom.prev=function(a){return baidu.dom._matchNode(a,"previousSibling","previousSibling")};baidu.string.escapeReg=function(a){return String(a).replace(new RegExp("([.*+?^=!:\x24{}()|[\\]/\\\\])","g"),"\\\x241")};baidu.dom.q=function(k,f,b){var l=[],d=baidu.string.trim,h,g,a,c;if(!(k=d(k))){return l}if("undefined"==typeof f){f=document}else{f=baidu.dom.g(f);if(!f){return l}}b&&(b=d(b).toUpperCase());if(f.getElementsByClassName){a=f.getElementsByClassName(k);h=a.length;for(g=0;g<h;g++){c=a[g];if(b&&c.tagName!=b){continue}l[l.length]=c}}else{k=new RegExp("(^|\\s)"+baidu.string.escapeReg(k)+"(\\s|\x24)");a=b?f.getElementsByTagName(b):(f.all||f.getElementsByTagName("*"));h=a.length;for(g=0;g<h;g++){c=a[g];k.test(c.className)&&(l[l.length]=c)}}return l};baidu.q=baidu.Q=baidu.dom.q;baidu.dom.query=(function(){var al=document;al._Q_rev=0;var s=false;var G=function(){al._Q_rev++;s=true};if(al.addEventListener){al.addEventListener("DOMNodeInserted",G,false);al.addEventListener("DOMNodeRemoved",G,false)}var K;var aa;var M=window.ActiveXObject&&!al.addEventListener;(function(){var d=al.createElement("div");d.innerHTML='<a name="d"></a><div id="d"></div>';K=d.getElementsByTagName("*")["d"]===d.lastChild;d.innerHTML='<div class="t e"></div><div class="t"></div>';d.lastChild.className="e";aa=d.getElementsByClassName&&d.getElementsByClassName("e").length==2})();var W=!!al.getElementsByName;var ad=typeof al.documentElement.nextElementSibling!=="undefined";var k=!!al.documentElement.children;var b=k&&!!al.documentElement.children.tags;var R=/(?:\s*([ ~+>,])\s*)?(?:([:.#]?)((?:[\w\u00A1-\uFFFF-]|\\.)+|\*)|\[\s*((?:[\w\u00A1-\uFFFF-]|\\.)+)(?:\s*([~^$|*!]?=)\s*((['"]).*?\7|[^\]]*))?\s*\])/g;function a(d){return d.replace(/^\s*|\s*$/,"")}function L(d,Q){return(Q.kind=d,Q)}var C=function(){var ar;var ao;function Q(at){var au=(at.lastIndex=ao,at.exec(ar));return au&&au.index==ao?(ao=at.lastIndex,au):null}function aq(au){var at=au.charAt(0);return at=='"'||at=="'"?au.slice(1,-1):au}function d(){throw ["ParseError",ar,ao]}function ap(){var ay,aA,at=[],aw=[at],ax=[aw];while(ay=Q(R)){if(ay[1]){if(ay[1]==","){ax.push(aw=[])}if(at.length){aw.push(at=[])}if(ay[1]!=","){at.comb=ay[1]}}aA=[ay[4]||ay[3]];if(ay[6]){aA.push(aq(ay[6]))}aA.kind=ay[5]||(ay[4]?"[":ay[2]||"T");if(aA[0]=="*"&&aA.kind!="T"){d()}if(ay[2]==":"){aA.kind=":"+ay[3];if(ar.charAt(ao)=="("){ao++;if(ay[3]=="not"||ay[3]=="has"){var av=ao;aA[0]=ap();aA[1]=ar.slice(av,ao);if(ar.charAt(ao)==")"){ao++}else{d()}}else{var az=ar.indexOf(")",ao);if(az!=-1){aA[0]=a(ar.slice(ao,az));ao=az+1}else{d()}if(ay[3].indexOf("nth")==0){var au=aA[0];au=(au=="even"?"2n":au=="odd"?"2n+1":(au.indexOf("n")==-1?"0n":"")+au.replace(/\s*/g,"")).split("n");aA[0]=!au[0]?1:Number(au[0])|0;aA[1]=Number(au[1])|0}else{if(ay[3]=="contains"){aA[0]=aq(aA[0])}}}}}at.push(aA)}return ax}return function(at){return(ar=at,ao=0,at=ap(),Q(/\s*/g),ao<ar.length)?d():at}}();var am={"#":9,N:W?7:0,".":aa?6:0,T:5};var n={"#":9,"=":9,"[":8,N:9,T:8,".":5,"~=":3,"|=":3,"*=":3,":not":6,":has":1,":contains":3,":nth-child":2,":nth-last-child":2,":first-child":3,":last-child":3,":only-child":3,":not-ex":7};var H={id:"#",name:"N"};var an=function(Q,d){return Q.tR-d.tR};var Z=/:(nth|eq|gt|lt|first|last|even|odd)$/;function ak(ao){var aq,ap;var Q=ao.length;while(Q--){var ar=ao[Q];if(ar.kind==":html"){ar=L("T","html")}if(ar.kind=="="){if(H[ar[0]]){ar=L(H[ar[0]],[ar[1]])}}else{if(ar.kind=="~="&&ar[0]=="className"){ar=L(".",[ar[1]])}}if(ar.kind=="T"){if(ar[0]=="*"){ar.kind="*"}else{ao.tag=ar}ap=ar[0].toLowerCase()}else{if(ar.kind=="."){if(!ao.classes){ao.classes=ar}else{ao.classes.push(ar[0]);ar.kind="*"}}}if(ar.kind==":not"&&!((ap=ar[0],ap.length==1)&&(ap=ap[0],ap.length==1))){ar.kind=":not-ex"}if(Z.test(ar.kind)){ar[0]=Number(ar[0])|0;var d=L(ar.kind,ar.slice(0));ar.kind="*";if(!ao.allPoses){ao.allPoses=[d]}else{ao.allPoses.push(d)}}ar.fR=am[ar.kind]|0;ar.tR=n[ar.kind]|0;if(ar.fR&&(!aq||ar.fR>aq.fR)){aq=ar}ao[Q]=ar}ao.sort(an);ao.$=aq;return ao}function w(aq){var ao=[];var at=[ao];var Q=aq.length;while(Q--){var d=aq[Q];d=ak(d);d.N="node"+Q;if(d.allPoses){if(!aq.allPoses){aq.allPoses=[]}aq.allPoses.push.apply(aq.allPoses,d.allPoses)}if(d.$&&(!ao.fR||d.$.fR>ao.fR||(d.$.fR==ao.fR&&at.length==1))){ao.fR=d.$.fR;ao.fI=ao.length}ao.push(d);if(d.comb==" "&&Q&&ao.fI!=null){at.push(ao=[]);ao.fR=0}if(Q==aq.length-1&&d.tag){aq.tag=d.tag}}for(var ap=0;ap<at.length;ap++){ao=at[ap];var ar=at[ap+1];if(ar!=null){if(ao.fR>ar.fR||(ao.fR==ar.fR&&ar.fI!=0)){at.splice(ap+1,1);ao.push.apply(ao,ar);ap--}else{ao.R=ar[0].N}}else{ao.R="root"}}if(at[0].fI==null){at[0].fI=0;at[0][0].$=L("*",["*"])}return at}function N(d,Q){return d.replace(/#\{([^}]+)\}/g,function(ao,ap){return Q[ap]==null?ao:Q[ap]+""})}var x=0;var v="/*^var doc=root.ownerDocument||root;^*/";var f=v+"/*^var xhtml=Q._isXHTML(doc);^*/";var c=M?"#{0}.contains(#{1})":"#{0}.compareDocumentPosition(#{1})&16";var Y="#{N}._Q_id||(#{N}._Q_id=++qid)";var g={"#":'var #{N}=Q._byId("#{P}", #{R});if(#{N}){#{X}}',N:v+'var #{N}A=doc.getElementsByName("#{P}");for(var #{N}I=0,#{N};#{N}=#{N}A[#{N}I];#{N}I++){if(#{R}===doc||'+N(c,["#{R}","#{N}"])+"){#{X}}}",T:'var #{N}A=#{R}.getElementsByTagName("#{P}");for(var #{N}I=0,#{N};#{N}=#{N}A[#{N}I];#{N}I++){#{X}}',".":'var #{N}A=#{R}.getElementsByClassName("#{P}");for(var #{N}I=0,#{N};#{N}=#{N}A[#{N}I];#{N}I++){#{X}}',"*":'var #{N}A=#{R}.getElementsByTagName("*");for(var #{N}I=0,#{N};#{N}=#{N}A[#{N}I];#{N}I++){#{X}}',"+":ad?"/*^var #{N};^*/if(#{N}=#{R}.nextElementSibling){#{X}}":"var #{N}=#{R};while(#{N}=#{N}.nextSibling){if(#{N}.nodeType==1){#{X}break;}}","~":ad?"/*^var #{N}H={};^*/var #{N}=#{R};while(#{N}=#{N}.nextElementSibling){if(#{N}H["+Y+"])break;#{N}H["+Y+"]=1;#{X}}":"/*^var #{N}H={};^*/var #{N}=#{R};while(#{N}=#{N}.nextSibling){if(#{N}.nodeType==1){if(#{N}H["+Y+"])break;#{N}H["+Y+"]=1;#{X}}}",">":"var #{N}A=#{R}.children||#{R}.childNodes;for(var #{N}I=0,#{N};#{N}=#{N}A[#{N}I];#{N}I++){if(#{N}.nodeType==1){#{X}}}",">T":'var #{N}A=#{R}.children.tags("#{P}");for(var #{N}I=0,#{N};#{N}=#{N}A[#{N}I];#{N}I++){#{X}}'};var I="var #{R}V={_:false};NP_#{R}:{P_#{R}:{#{X}break NP_#{R};}#{R}V._=true;#{Y}}";var ab="if(t=#{N}H["+Y+"]){if(t._){break P_#{R};}else{break NP_#{R};}}#{N}H["+Y+"]=#{R}V;#{X}";var D=N(ab,{X:"if(#{N}!==#{R}){#{X}}"});var F="break P_#{R};";var z={">":"/*^var #{N}H={};^*/var #{N}=#{C}.parentNode;"+D," ":"/*^var #{N}H={};^*/var #{N}=#{C};while(#{N}=#{N}.parentNode){"+D+"}","+":ad?"/*^var #{N}H={};var #{N};^*/if(#{N}=#{C}.previousElementSibling){#{X}}":"/*^var #{N}H={};^*/var #{N}=#{C};while(#{N}=#{N}.previousSibling){#{X}break;}","~":ad?"/*^var #{N}H={};^*/var #{N}=#{C};while(#{N}=#{N}.previousElementSibling){"+ab+"}":"/*^var #{N}H={};^*/var #{N}=#{C};while(#{N}=#{N}.previousSibling){"+ab+"}"};var E="function(root){var result=[];var qid=Q.qid,t,l=result.length;BQ:{#{X}}Q.qid=qid;return result;}";var ai="/*^var #{N}L;^*/if(!#{N}L||!("+N(c,["#{N}L","#{N}"])+")){#{X}#{N}L=#{N};}";var m="result[l++]=#{N};";var ah=f+'/*^var input_t=!xhtml?"INPUT":"input";^*/';var X="/*^var pos=-1;^*/";var J={T:f+'/*^var #{N}T=!xhtml?("#{0}").toUpperCase():"#{0}";^*/#{N}.nodeName==#{N}T',"#":'#{N}.id=="#{0}"',N:'#{N}.name=="#{0}"',"[":M?'(t=#{N}.getAttributeNode("#{0}"))&&(t.specified)':'#{N}.hasAttribute("#{0}")',"=":'#{A}=="#{1}"',"!=":'#{A}!="#{1}"',"^=":'(t=#{A})&&t.slice(0,#{L})=="#{1}"',"$=":'(t=#{A})&&t.slice(-#{L})=="#{1}"',"*=":'(t=#{A})&&t.indexOf("#{1}")!==-1',"|=":'(t=#{A})&&(t=="#{1}"||t.slice(0,#{L})=="#{P}")',"~=":'(t=#{A})&&(" "+t+" ").indexOf("#{P}")!==-1',":element":"#{N}.nodeType==1",":contains":'(#{N}.textContent||#{N}.innerText).indexOf("#{0}")!==-1',":first-child":ad?"#{N}.parentNode.firstElementChild===#{N}":"Q._isFirstChild(#{N})",":nth-child":v+"/*^var rev=doc._Q_rev||(doc._Q_rev=Q.qid++);^*/Q._index(#{N},#{0},#{1},rev)",":last-child":ad?"#{N}.parentNode.lastElementChild===#{N}":"Q._isLastChild(#{N})",":only-child":ad?"(t=#{N}.parentNode)&&(t.firstElementChild===#{N}&&t.lastElementChild===#{N})":"Q._isOnlyChild(#{N})",":not-ex":'/*^var _#{G}=Q._hash(Q("#{1}",root));qid=Q.qid;^*/!_#{G}['+Y+"]",":has":'(t=Q("#{1}", #{N}),qid=Q.qid,t.length>0)',":parent":"!!#{N}.firstChild",":empty":"!#{N}.firstChild",":header":"/h\\d/i.test(#{N}.nodeName)",":input":"/input|select|textarea|button/i.test(#{N}.nodeName)",":enabled":'#{N}.disabled===false&&#{N}.type!=="hidden"',":disabled":"#{N}.disabled===true",":checked":"#{N}.checked===true",":selected":"(#{N}.parentNode.selectedIndex,#{N}.selected===true)",":focus":v+"#{N}===doc.activeElement",":button":ah+'#{N}.nodeName==="button"||(#{N}.nodeName===input_t&&#{N}.type==="button")',":submit":ah+'#{N}.nodeName===input_t&&#{N}.type==="submit"',":reset":ah+'#{N}.nodeName===input_t&&#{N}.type==="reset"',":text":ah+'#{N}.nodeName===input_t&&#{N}.type==="text"&&(t=#{N}.getAttribute("type"),t==="text"||t===null)',":radio":ah+'#{N}.nodeName===input_t&&#{N}.type==="radio"',":checkbox":ah+'#{N}.nodeName===input_t&&#{N}.type==="checkbox"',":file":ah+'#{N}.nodeName===input_t&&#{N}.type==="file"',":password":ah+'#{N}.nodeName===input_t&&#{N}.type==="password"',":image":ah+'#{N}.nodeName===input_t&&#{N}.type==="image"'};function ac(d){if(d=="for"){return"#{N}.htmlFor"}if(d=="class"){return"#{N}.className"}if(d=="type"){return'#{N}.getAttribute("type")'}if(d=="href"){return'#{N}.getAttribute("href",2)'}return'(#{N}["'+d+'"]||#{N}.getAttribute("'+d+'"))'}function p(ap){if(ap.kind.indexOf("=")!==-1){ap.A=ac(ap[0])}var Q;switch(ap.kind){case".":var d=ap.length;var ao=[];while(d--){ao.push('t.indexOf(" #{'+d+'} ")!==-1')}return N('(t=#{N}.className)&&((t=" "+t+" "),('+ao.join(" && ")+"))",ap);case"^=":case"$=":ap.L=ap[1].length;break;case"|=":ap.L=ap[1].length+1;ap.P=ap[1]+"-";break;case"~=":ap.P=" "+ap[1]+" ";break;case":nth-child":if(ap[0]==1&&ap[1]==0){return""}break;case":not":Q=U(ap[0][0][0]);return Q?"!("+Q+")":"false";case":not-ex":case":has":ap.G=x++;break;case"*":return""}return N(J[ap.kind],ap)}function U(Q){var aq=[];var d=Q.length;var ao;while(d--){var ap=Q[d];if(ao=p(ap)){aq.push(ao)}}return aq.join(" && ")}function P(d){var Q=U(d);return Q?N("if("+Q+"){#{X}}",{N:d.N}):"#{X}"}var S={"#":1,T:1,".":1,N:1,":element":1};function af(d,ap,ao){ao=ao||d.comb;var Q;if(ao==" "){var aq=d.$;if(aq){Q=g[aq.kind];aq.kind="*"}else{Q=g["*"];if(M&&!S[d[d.length-1].kind]){d.push(L(":element",[]))}}}else{if(b&&ao==">"&&d.tag){Q=g[">T"];aq=d.tag;d.tag.kind="*"}else{Q=g[ao]}}return N(Q,{P:aq&&(aq.kind=="."?aq.join(" "):aq[0]),N:d.N,R:ap,X:P(d)})}function u(ap,Q){var aq="#{X}";var ao=ap.fI;while(ao--){aq=N(aq,{X:af(ap[ao],ap[ao+1].N)})}var d;if(!Q){if(ap.fI==0&&(ao=ap[0].$.kind)&&(ao!="S"&&ao!="#")){d=N(ai,{N:ap[0].N});aq=N(aq,{X:d})}}else{d=N(Q,{N:ap[0].N});aq=N(aq,{X:d})}return aq}function l(d,ao,Q){return N(z[Q],{N:d.N,C:ao,X:P(d)})}function ae(ao){var aq=I;for(var ap=ao.fI+1,d=ao.length;ap<d;ap++){var Q=ao[ap];var ar=ao[ap-1];aq=N(aq,{X:l(Q,ar.N,ao[ap-1].comb)})}aq=N(aq,{X:F});aq=N(aq,{R:ao.R});return aq}function B(ao,Q){var ap=af(ao[ao.fI],ao.R," ");var d=u(ao,Q);if(ao.fI<ao.length-1){var aq=ae(ao);d=N(aq,{Y:d})}return N(ap,{X:d})}function ag(Q){var ap={};var d=Q.length;while(d--){var ar=Q[d];if(ar.kind==":first"){ar=L(":nth",[0])}else{if(ar.kind==":last"){ap.last=1}}if(ar.kind==":lt"){ap.lt=ap.lt===undefined?ar[0]:Math.min(ap.lt,ar[0])}else{if(ar.kind==":gt"){ap.gt=ap.gt===undefined?ar[0]:Math.max(ap.gt,ar[0])}else{if(ar.kind==":eq"||ar.kind==":nth"){if(ap.eq&&ap.eq!==ar[0]){ap.no=true}else{ap.eq=ar[0]}}else{if(ar.kind==":even"||ar.kind==":odd"){ap[ar.kind.slice(1)]=1}}}}}if((ap.lt!=null&&ap.eq!=null&&ap.eq>=ap.lt)||(ap.lt!=null&&ap.gt!=null&&ap.lt<=ap.gt)||(ap.even&&ap.odd)){ap.no=1}if(ap.no){return"/*^break BQ;^*/"}var aq=[];if(ap.even){aq.push("pos%2===0")}else{if(ap.odd){aq.push("pos%2===1")}}var ao=ap.eq==null?m:"if(pos==="+ap.eq+"){result=[#{N}];break BQ;}";if(ap.gt!=null){aq.push("pos>"+ap.gt)}ao=aq.length?"if ("+aq.join("&&")+"){"+ao+"}":ao;ao=ap.lt!=null?"if (pos<"+ap.lt+"){"+ao+"}else break BQ;":ao;if(ap.last){ao+="/*$result=result.slice(-1);$*/"}return ao}function r(ap){var ar=w(ap);var d=ap.allPoses?X+"pos++;"+ag(ap.allPoses):m;x=0;var aq="#{X}";var Q=ar.length;while(Q--){var ao=ar[Q];aq=N(aq,{X:B(ao,Q==0?d:false)})}return aq}var y;if(al.documentElement.sourceIndex){y=function(Q,d){return Q===d?0:Q.sourceIndex-d.sourceIndex}}else{if(al.compareDocumentPosition){y=function(Q,d){return Q===d?0:d.compareDocumentPosition(Q)&2?-1:1}}}function o(at,ar){if(!at.length){return at}at.sort(y);if(ar){return at}var ap=[at[0]];var aq,Q=0;for(var ao=1,d=at.length;ao<d;ao++){if(ap[Q]!==(aq=at[ao])){ap[++Q]=aq}}return ap}function q(ar){var at=C(ar);var av={};var ao=at.length;while(ao--){var d=at[ao];var Q=r(d);if(av&&d.tag&&!av[d.tag[0]]){av[d.tag[0]]=1}else{av=null}var aq={};var ap=[];var au=[];Q=Q.replace(/\/\*\^(.*?)\^\*\//g,function(aw,ax){return(aq[ax]||(aq[ax]=ap.push(ax)),"")});Q=Q.replace(/\/\*\$(.*?)\$\*\//g,function(aw,ax){return(aq[ax]||(aq[ax]=au.push(ax)),"")});Q=N(E,{X:ap.join("")+Q+au.join("")});at[ao]=new Function("Q","return("+Q+")")(h)}if(at.length==1){return at[0]}return function(ax){var ay=at.length;var aw=[];while(ay--){aw.push.apply(aw,at[ay](ax))}return o(aw,av!=null)}}h._hash=function(d){var ap=d._Q_hash;if(ap==null){ap=d._Q_hash={};var Q=d.length;var aq=h.qid;while(Q--){var ao=d[Q];ap[ao._Q_id||(ao._Q_id=++aq)]=1}h.qid=aq}return ap};var A=Array.prototype.slice;h._toArray1=function(ao){var Q=ao.length;var d=new Array(Q);while(Q--){d[Q]=ao[Q]}return d};h._toArray=function(Q){try{return A.call(Q,0)}catch(d){}return(h._toArray=h._toArray1)(Q)};function O(Q,d){throw ["NotImpl"]}var t={};var V=false;function aj(ar,d){var aq=d.ownerDocument||d;var Q;if(!aq.getElementById){return O(ar,d)}if(d===aq&&aq.querySelectorAll&&!/#/.test(ar)){try{return h._toArray(aq.querySelectorAll(ar))}catch(ao){}}var ap=t[ar]||(t[ar]=q(ar));if(!V){V=true;if(!s){aq._Q_rev=h.qid++}Q=ap(d);V=false}else{Q=ap(d)}return Q}h.qid=1;h._byId=function(ap,d){if(K){return d.getElementsByTagName("*")[ap]}var ao=d.ownerDocument||d;var Q=ao.getElementById(ap);if(Q&&((d===ao)||h.contains(d,Q))&&(!M||(Q.id===ap||Q.getAttributeNode("id").nodeValue===ap))){return Q}return null};h._in=function(d,ar){var aq=h._hash(ar);var Q=[];for(var ao=0;ao<d.length;ao++){var ap=d[ao];if(aq[ap._Q_id||(ap._Q_id=++h.qid)]){Q.push(ap)}}return Q};h.matches=function(d,Q){return h(d,null,null,Q)};h.contains=al.documentElement.contains?function(Q,d){return Q!==d&&Q.contains(d)}:function(Q,d){return Q!==d&&Q.compareDocumentPosition(d)&16};h._has=function(ao,d){for(var Q=0,ap;ap=d[Q++];){if(!h.contains(ao,ap)){return false}}return true};h._index=function(ao,au,at,aq){var av=ao.parentNode;if(av._Q_magic!==aq){var Q;var ar=1;if(ad){Q=av.firstElementChild;while(Q){Q._Q_index=ar++;Q=Q.nextElementSibling}}else{var d=av.children||av.childNodes;for(var ap=0;Q=d[ap];ap++){if(Q.nodeType==1){Q._Q_index=ar++}Q=Q.nextSibling}}av._Q_count1=ar;av._Q_magic=aq}return au?(ao._Q_index-at)%au==0:ao._Q_index==at};h._isOnlyChild=function(d){return h._isFirstChild(d)&&h._isLastChild(d)};h._isFirstChild=function(d){while(d=d.previousSibling){if(d.nodeType==1){return false}}return true};h._isLastChild=function(d){while(d=d.nextSibling){if(d.nodeType==1){return false}}return true};h._isXHTML=function(d){return d.documentElement.nodeName=="html"};function h(aq,ao,d,Q){ao=ao||al;var ap=aj(aq,ao);if(Q){ap=h._in(Q,ap)}if(d){ap.push.apply(d,ap)}else{d=ap}return d}return h})();(function(){var a=baidu.dom.ready=function(){var h=false,g=[],c;if(document.addEventListener){c=function(){document.removeEventListener("DOMContentLoaded",c,false);d()}}else{if(document.attachEvent){c=function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",c);d()}}}}function d(){if(!d.isReady){d.isReady=true;for(var l=0,k=g.length;l<k;l++){g[l]()}}}function b(){try{document.documentElement.doScroll("left")}catch(k){setTimeout(b,1);return}d()}function f(){if(h){return}h=true;if(document.addEventListener){document.addEventListener("DOMContentLoaded",c,false);window.addEventListener("load",d,false)}else{if(document.attachEvent){document.attachEvent("onreadystatechange",c);window.attachEvent("onload",d);var k=false;try{k=window.frameElement==null}catch(l){}if(document.documentElement.doScroll&&k){b()}}}}f();return function(k){d.isReady?k():g.push(k)}}();a.isReady=false})();baidu.dom.remove=function(a){a=baidu.dom._g(a);var b=a.parentNode;b&&b.removeChild(a)};baidu.dom.removeClass=function(g,h){g=baidu.dom.g(g);var d=g.className.split(/\s+/),k=h.split(/\s+/),b,a=k.length,c,f=0;for(;f<a;++f){for(c=0,b=d.length;c<b;++c){if(d[c]==k[f]){d.splice(c,1);break}}}g.className=d.join(" ");return g};baidu.removeClass=baidu.dom.removeClass;baidu.dom.removeStyle=function(){var b=document.createElement("DIV"),a,c=baidu.dom._g;if(b.style.removeProperty){a=function(f,d){f=c(f);f.style.removeProperty(d);return f}}else{if(b.style.removeAttribute){a=function(f,d){f=c(f);f.style.removeAttribute(baidu.string.toCamelCase(d));return f}}}b=null;return a}();baidu.object.each=function(f,c){var b,a,d;if("function"==typeof c){for(a in f){if(f.hasOwnProperty(a)){d=f[a];b=c.call(f,d,a);if(b===false){break}}}}return f};baidu.lang.isNumber=function(a){return"[object Number]"==Object.prototype.toString.call(a)&&isFinite(a)};baidu.event.getTarget=function(a){return a.target||a.srcElement};baidu.dom.setBorderBoxSize=function(c,b){var a={};b.width&&(a.width=parseFloat(b.width));b.height&&(a.height=parseFloat(b.height));function d(g,f){return parseFloat(baidu.getStyle(g,f))||0}if(baidu.browser.isStrict){if(b.width){a.width=parseFloat(b.width)-d(c,"paddingLeft")-d(c,"paddingRight")-d(c,"borderLeftWidth")-d(c,"borderRightWidth");a.width<0&&(a.width=0)}if(b.height){a.height=parseFloat(b.height)-d(c,"paddingTop")-d(c,"paddingBottom")-d(c,"borderTopWidth")-d(c,"borderBottomWidth");a.height<0&&(a.height=0)}}return baidu.dom.setStyles(c,a)};baidu.dom.setOuterHeight=baidu.dom.setBorderBoxHeight=function(b,a){return baidu.dom.setBorderBoxSize(b,{height:a})};baidu.dom.setOuterWidth=baidu.dom.setBorderBoxWidth=function(a,b){return baidu.dom.setBorderBoxSize(a,{width:b})};baidu.dom.resizable=function(d,h){var B,o,l={},c,a={},t,z,w,b,f,m,q,u=false,x={direction:["e","s","se"],minWidth:16,minHeight:16,classPrefix:"tangram",directionHandlePosition:{}};if(!(B=baidu.dom.g(d))&&baidu.getStyle(B,"position")=="static"){return false}b=B.offsetParent;var p=baidu.getStyle(B,"position");o=baidu.extend(x,h);baidu.each(["minHeight","minWidth","maxHeight","maxWidth"],function(C){o[C]&&(o[C]=parseFloat(o[C]))});t=[o.minWidth||0,o.maxWidth||Number.MAX_VALUE,o.minHeight||0,o.maxHeight||Number.MAX_VALUE];A();function A(){m=baidu.extend({e:{right:"-5px",top:"0px",width:"7px",height:B.offsetHeight},s:{left:"0px",bottom:"-5px",height:"7px",width:B.offsetWidth},n:{left:"0px",top:"-5px",height:"7px",width:B.offsetWidth},w:{left:"-5px",top:"0px",height:B.offsetHeight,width:"7px"},se:{right:"1px",bottom:"1px",height:"16px",width:"16px"},sw:{left:"1px",bottom:"1px",height:"16px",width:"16px"},ne:{right:"1px",top:"1px",height:"16px",width:"16px"},nw:{left:"1px",top:"1px",height:"16px",width:"16px"}},o.directionHandlePosition);baidu.each(o.direction,function(C){var D=o.classPrefix.split(" ");D[0]=D[0]+"-resizable-"+C;var F=baidu.dom.create("div",{className:D.join(" ")}),E=m[C];E.cursor=C+"-resize";E.position="absolute";baidu.setStyles(F,E);F.key=C;F.style.MozUserSelect="none";B.appendChild(F);l[C]=F;baidu.on(F,"mousedown",k)});u=false}function g(){f&&v();baidu.object.each(l,function(C){baidu.un(C,"mousedown",k);baidu.dom.remove(C)});u=true}function n(C){if(!u){o=baidu.extend(o,C||{});g();A()}}function k(E){var D=baidu.event.getTarget(E),C=D.key;f=D;if(D.setCapture){D.setCapture()}else{if(window.captureEvents){window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP)}}w=baidu.getStyle(document.body,"cursor");baidu.setStyle(document.body,"cursor",C+"-resize");baidu.on(D,"mouseup",v);baidu.on(document.body,"selectstart",r);z=document.body.style.MozUserSelect;document.body.style.MozUserSelect="none";var F=baidu.page.getMousePosition();a=s();q=setInterval(function(){y(C,F)},20);baidu.lang.isFunction(o.onresizestart)&&o.onresizestart();baidu.event.preventDefault(E)}function v(){if(f.releaseCapture){f.releaseCapture()}else{if(window.releaseEvents){window.releaseEvents(Event.MOUSEMOVE|Event.MOUSEUP)}}baidu.un(f,"mouseup",v);baidu.un(document,"selectstart",r);document.body.style.MozUserSelect=z;baidu.un(document.body,"selectstart",r);clearInterval(q);baidu.setStyle(document.body,"cursor",w);f=null;baidu.lang.isFunction(o.onresizeend)&&o.onresizeend()}function y(D,J){var I=baidu.page.getMousePosition(),E=a.width,C=a.height,H=a.top,G=a.left,F;if(D.indexOf("e")>=0){E=Math.max(I.x-J.x+a.width,t[0]);E=Math.min(E,t[1])}else{if(D.indexOf("w")>=0){E=Math.max(J.x-I.x+a.width,t[0]);E=Math.min(E,t[1]);G-=E-a.width}}if(D.indexOf("s")>=0){C=Math.max(I.y-J.y+a.height,t[2]);C=Math.min(C,t[3])}else{if(D.indexOf("n")>=0){C=Math.max(J.y-I.y+a.height,t[2]);C=Math.min(C,t[3]);H-=C-a.height}}F={width:E,height:C,top:H,left:G};baidu.dom.setOuterHeight(B,C);baidu.dom.setOuterWidth(B,E);baidu.setStyles(B,{top:H,left:G});l.n&&baidu.setStyle(l.n,"width",E);l.s&&baidu.setStyle(l.s,"width",E);l.e&&baidu.setStyle(l.e,"height",C);l.w&&baidu.setStyle(l.w,"height",C);baidu.lang.isFunction(o.onresize)&&o.onresize({current:F,original:a})}function r(C){return baidu.event.preventDefault(C,false)}function s(){var C=baidu.dom.getPosition(B.offsetParent),D=baidu.dom.getPosition(B),F,E;if(p=="absolute"){F=D.top-(B.offsetParent==document.body?0:C.top);E=D.left-(B.offsetParent==document.body?0:C.left)}else{F=parseFloat(baidu.getStyle(B,"top"))||-parseFloat(baidu.getStyle(B,"bottom"))||0;E=parseFloat(baidu.getStyle(B,"left"))||-parseFloat(baidu.getStyle(B,"right"))||0}baidu.setStyles(B,{top:F,left:E});return{width:B.offsetWidth,height:B.offsetHeight,top:F,left:E}}return{cancel:g,update:n,enable:A}};baidu.dom.setPosition=function(b,a){return baidu.dom.setStyles(b,{left:a.left-(parseFloat(baidu.dom.getStyle(b,"margin-left"))||0),top:a.top-(parseFloat(baidu.dom.getStyle(b,"margin-top"))||0)})};baidu.dom.show=function(a){a=baidu.dom.g(a);a.style.display="";return a};baidu.show=baidu.dom.show;baidu.dom.toggle=function(a){a=baidu.dom.g(a);a.style.display=a.style.display=="none"?"":"none";return a};baidu.dom.toggleClass=function(a,b){if(baidu.dom.hasClass(a,b)){baidu.dom.removeClass(a,b)}else{baidu.dom.addClass(a,b)}};baidu.lang.isArray=function(a){return"[object Array]"==Object.prototype.toString.call(a)};baidu.lang.toArray=function(b){if(b===null||b===undefined){return[]}if(baidu.lang.isArray(b)){return b}if(typeof b.length!=="number"||typeof b==="string"||baidu.lang.isFunction(b)){return[b]}if(b.item){var a=b.length,c=new Array(a);while(a--){c[a]=b[a]}return c}return[].slice.call(b)};baidu.fn.methodize=function(b,a){return function(){return b.apply(this,[(a?this[a]:this)].concat([].slice.call(arguments)))}};baidu.fn.wrapReturnValue=function(a,c,b){b=b|0;return function(){var d=a.apply(this,arguments);if(b>0){return new c(arguments[b-1])}if(!b){return new c(d)}return d}};baidu.fn.multize=function(d,b,a){var c=function(){var n=arguments[0],k=b?c:d,g=[],m=[].slice.call(arguments,0),h=0,f,l;if(n instanceof Array){for(f=n.length;h<f;h++){m[0]=n[h];l=k.apply(this,m);if(a){if(l){g=g.concat(l)}}else{g.push(l)}}return g}else{return d.apply(this,arguments)}};return c};baidu.element=function(b){var a=baidu._g(b);if(!a&&baidu.dom.query){a=baidu.dom.query(b)}return new baidu.element.Element(a)};baidu.e=baidu.element;baidu.element.Element=function(a){if(!baidu.element._init){baidu.element._makeChain();baidu.element._init=true}this._dom=(a.tagName||"").toLowerCase()=="select"?[a]:baidu.lang.toArray(a)};baidu.element.Element.prototype.each=function(a){baidu.array.each(this._dom,function(c,b){a.call(c,c,b)})};baidu.element._toChainFunction=function(c,b,a){return baidu.fn.methodize(baidu.fn.wrapReturnValue(baidu.fn.multize(c,0,1),baidu.element.Element,b),"_dom")};baidu.element._makeChain=function(){var b=baidu.element.Element.prototype,c=baidu.element._toChainFunction;baidu.each(("draggable droppable resizable fixable").split(" "),function(d){b[d]=c(baidu.dom[d],1)});baidu.each(("remove getText contains getAttr getPosition getStyle hasClass intersect hasAttr getComputedStyle").split(" "),function(d){b[d]=b[d.replace(/^get[A-Z]/g,a)]=c(baidu.dom[d],-1)});baidu.each(("addClass empty hide show insertAfter insertBefore insertHTML removeClass setAttr setAttrs setStyle setStyles show toggleClass toggle next first getAncestorByClass getAncestorBy getAncestorByTag getDocument getParent getWindow last next prev g removeStyle setBorderBoxSize setOuterWidth setOuterHeight setBorderBoxWidth setBorderBoxHeight setPosition children query").split(" "),function(d){b[d]=b[d.replace(/^get[A-Z]/g,a)]=c(baidu.dom[d],0)});b.q=b.Q=c(function(f,d){return baidu.dom.q.apply(this,[d,f].concat([].slice.call(arguments,2)))},0);baidu.each(("on un").split(" "),function(d){b[d]=c(baidu.event[d],0)});baidu.each(("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error").split(" "),function(d){b[d]=function(f){return this.on(d,f)}});function a(d){return d.charAt(3).toLowerCase()}};baidu.element.extend=function(a){var b=baidu.element;baidu.object.each(a,function(d,c){b.Element.prototype[c]=baidu.element._toChainFunction(d,-1)})};baidu.event.EventArg=function(c,f){f=f||window;c=c||f.event;var d=f.document;this.target=(c.target)||c.srcElement;this.keyCode=c.which||c.keyCode;for(var a in c){var b=c[a];if("function"!=typeof b){this[a]=b}}if(!this.pageX&&this.pageX!==0){this.pageX=(c.clientX||0)+(d.documentElement.scrollLeft||d.body.scrollLeft);this.pageY=(c.clientY||0)+(d.documentElement.scrollTop||d.body.scrollTop)}this._event=c};baidu.event.EventArg.prototype.preventDefault=function(){if(this._event.preventDefault){this._event.preventDefault()}else{this._event.returnValue=false}return this};baidu.event.EventArg.prototype.stopPropagation=function(){if(this._event.stopPropagation){this._event.stopPropagation()}else{this._event.cancelBubble=true}return this};baidu.event.EventArg.prototype.stop=function(){return this.stopPropagation().preventDefault()};baidu.event._eventFilter=baidu.event._eventFilter||{};baidu.event._eventFilter._crossElementBoundary=function(a,d){var c=d.relatedTarget,b=d.currentTarget;if(c===false||b==c||(c&&(c.prefix=="xul"||baidu.dom.contains(b,c)))){return}return a.call(b,d)};baidu.fn.bind=function(b,a){var c=arguments.length>2?[].slice.call(arguments,2):null;return function(){var f=baidu.lang.isString(b)?a[b]:b,d=(c)?c.concat([].slice.call(arguments,0)):arguments;return f.apply(a||f,d)}};baidu.event._eventFilter.mouseenter=window.attachEvent?null:function(a,b,c){return{type:"mouseover",listener:baidu.fn.bind(baidu.event._eventFilter._crossElementBoundary,this,c)}};baidu.event._eventFilter.mouseleave=window.attachEvent?null:function(a,b,c){return{type:"mouseout",listener:baidu.fn.bind(baidu.event._eventFilter._crossElementBoundary,this,c)}};baidu.event._unload=function(){var c=baidu.event._listeners,a=c.length,b=!!window.removeEventListener,f,d;while(a--){f=c[a];if(f[1]=="unload"){continue}if(!(d=f[0])){continue}if(d.removeEventListener){d.removeEventListener(f[1],f[3],false)}else{if(d.detachEvent){d.detachEvent("on"+f[1],f[3])}}}if(b){window.removeEventListener("unload",baidu.event._unload,false)}else{window.detachEvent("onunload",baidu.event._unload)}};if(window.attachEvent){window.attachEvent("onunload",baidu.event._unload)}else{window.addEventListener("unload",baidu.event._unload,false)}baidu.object.values=function(d){var a=[],c=0,b;for(b in d){if(d.hasOwnProperty(b)){a[c++]=d[b]}}return a};(function(){var d=baidu.browser,n={keydown:1,keyup:1,keypress:1},a={click:1,dblclick:1,mousedown:1,mousemove:1,mouseup:1,mouseover:1,mouseout:1},k={abort:1,blur:1,change:1,error:1,focus:1,load:d.ie?0:1,reset:1,resize:1,scroll:1,select:1,submit:1,unload:d.ie?0:1},g={scroll:1,resize:1,reset:1,submit:1,change:1,select:1,error:1,abort:1},m={KeyEvents:["bubbles","cancelable","view","ctrlKey","altKey","shiftKey","metaKey","keyCode","charCode"],MouseEvents:["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget"],HTMLEvents:["bubbles","cancelable"],UIEvents:["bubbles","cancelable","view","detail"],Events:["bubbles","cancelable"]};baidu.object.extend(g,n);baidu.object.extend(g,a);function c(t,r){var q=0,p=t.length,s={};for(;q<p;q++){s[t[q]]=r[t[q]];delete r[t[q]]}return s}function f(r,q,p){p=baidu.object.extend({},p);var s=baidu.object.values(c(m[q],p)),t=document.createEvent(q);s.unshift(r);if("KeyEvents"==q){t.initKeyEvent.apply(t,s)}else{if("MouseEvents"==q){t.initMouseEvent.apply(t,s)}else{if("UIEvents"==q){t.initUIEvent.apply(t,s)}else{t.initEvent.apply(t,s)}}}baidu.object.extend(t,p);return t}function b(p){var q;if(document.createEventObject){q=document.createEventObject();baidu.object.extend(q,p)}return q}function h(s,p){p=c(m.KeyEvents,p);var t;if(document.createEvent){try{t=f(s,"KeyEvents",p)}catch(r){try{t=f(s,"Events",p)}catch(q){t=f(s,"UIEvents",p)}}}else{p.keyCode=p.charCode>0?p.charCode:p.keyCode;t=b(p)}return t}function o(q,p){p=c(m.MouseEvents,p);var r;if(document.createEvent){r=f(q,"MouseEvents",p);if(p.relatedTarget&&!r.relatedTarget){if("mouseout"==q.toLowerCase()){r.toElement=p.relatedTarget}else{if("mouseover"==q.toLowerCase()){r.fromElement=p.relatedTarget}}}}else{p.button=p.button==0?1:p.button==1?4:baidu.lang.isNumber(p.button)?p.button:0;r=b(p)}return r}function l(r,p){p.bubbles=g.hasOwnProperty(r);p=c(m.HTMLEvents,p);var t;if(document.createEvent){try{t=f(r,"HTMLEvents",p)}catch(s){try{t=f(r,"UIEvents",p)}catch(q){t=f(r,"Events",p)}}}else{t=b(p)}return t}baidu.event.fire=function(q,r,p){var s;r=r.replace(/^on/i,"");q=baidu.dom._g(q);p=baidu.object.extend({bubbles:true,cancelable:true,view:window,detail:1,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false,keyCode:0,charCode:0,button:0,relatedTarget:null},p);if(n[r]){s=h(r,p)}else{if(a[r]){s=o(r,p)}else{if(k[r]){s=l(r,p)}else{throw (new Error(r+" is not support!"))}}}if(s){if(q.dispatchEvent){q.dispatchEvent(s)}else{if(q.fireEvent){q.fireEvent("on"+r,s)}}}}})();baidu.event.get=function(a,b){return new baidu.event.EventArg(a,b)};baidu.event.getKeyCode=function(a){return a.which||a.keyCode};baidu.event.getPageX=function(b){var a=b.pageX,c=document;if(!a&&a!==0){a=(b.clientX||0)+(c.documentElement.scrollLeft||c.body.scrollLeft)}return a};baidu.event.getPageY=function(b){var a=b.pageY,c=document;if(!a&&a!==0){a=(b.clientY||0)+(c.documentElement.scrollTop||c.body.scrollTop)}return a};baidu.event.once=function(a,b,c){a=baidu.dom._g(a);function d(f){c.call(a,f);baidu.event.un(a,b,d)}baidu.event.on(a,b,d);return a};baidu.event.stopPropagation=function(a){if(a.stopPropagation){a.stopPropagation()}else{a.cancelBubble=true}};baidu.event.stop=function(a){var b=baidu.event;b.stopPropagation(a);b.preventDefault(a)};baidu.fn.abstractMethod=function(){throw Error("unimplemented abstract method")};baidu.json=baidu.json||{};baidu.json.parse=function(a){return(new Function("return ("+a+")"))()};baidu.json.decode=baidu.json.parse;baidu.json.stringify=(function(){var b={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function a(g){if(/["\\\x00-\x1f]/.test(g)){g=g.replace(/["\\\x00-\x1f]/g,function(h){var k=b[h];if(k){return k}k=h.charCodeAt();return"\\u00"+Math.floor(k/16).toString(16)+(k%16).toString(16)})}return'"'+g+'"'}function d(o){var h=["["],k=o.length,g,m,n;for(m=0;m<k;m++){n=o[m];switch(typeof n){case"undefined":case"function":case"unknown":break;default:if(g){h.push(",")}h.push(baidu.json.stringify(n));g=1}}h.push("]");return h.join("")}function c(g){return g<10?"0"+g:g}function f(g){return'"'+g.getFullYear()+"-"+c(g.getMonth()+1)+"-"+c(g.getDate())+"T"+c(g.getHours())+":"+c(g.getMinutes())+":"+c(g.getSeconds())+'"'}return function(n){switch(typeof n){case"undefined":return"undefined";case"number":return isFinite(n)?String(n):"null";case"string":return a(n);case"boolean":return String(n);default:if(n===null){return"null"}else{if(n instanceof Array){return d(n)}else{if(n instanceof Date){return f(n)}else{var h=["{"],m=baidu.json.stringify,g,l;for(var k in n){if(Object.prototype.hasOwnProperty.call(n,k)){l=n[k];switch(typeof l){case"undefined":case"unknown":case"function":break;default:if(g){h.push(",")}g=1;h.push(m(k)+":"+m(l))}}}h.push("}");return h.join("")}}}}}})();baidu.json.encode=baidu.json.stringify;baidu.lang.Class.prototype.addEventListeners=function(c,d){if(typeof d=="undefined"){for(var b in c){this.addEventListener(b,c[b])}}else{c=c.split(",");var b=0,a=c.length,f;for(;b<a;b++){this.addEventListener(baidu.trim(c[b]),d)}}};baidu.lang.createClass=function(g,b){b=b||{};var f=b.superClass||baidu.lang.Class;var d=function(){if(f!=baidu.lang.Class){f.apply(this,arguments)}else{f.call(this)}g.apply(this,arguments)};d.options=b.options||{};var k=function(){},h=g.prototype;k.prototype=f.prototype;var a=d.prototype=new k();for(var c in h){a[c]=h[c]}typeof b.className=="string"&&(a._className=b.className);a.constructor=h.constructor;d.extend=function(m){for(var l in m){d.prototype[l]=m[l]}return d};return d};baidu.lang.decontrol=function(b){var a=window[baidu.guid];a._instances&&(delete a._instances[b])};baidu.lang.eventCenter=baidu.lang.eventCenter||baidu.lang.createSingle();baidu.lang.getModule=function(b,c){var d=b.split("."),f=c||window,a;for(;a=d.shift();){if(f[a]!=null){f=f[a]}else{return null}}return f};baidu.lang.inherits=function(h,f,d){var c,g,a=h.prototype,b=new Function();b.prototype=f.prototype;g=h.prototype=new b();for(c in a){g[c]=a[c]}h.prototype.constructor=h;h.superClass=f.prototype;if("string"==typeof d){g._className=d}};baidu.inherits=baidu.lang.inherits;baidu.lang.instance=function(a){return window[baidu.guid]._instances[a]||null};baidu.lang.isBoolean=function(a){return typeof a==="boolean"};baidu.lang.isDate=function(a){return{}.toString.call(a)==="[object Date]"&&a.toString()!=="Invalid Date"&&!isNaN(a)};baidu.lang.isElement=function(a){return !!(a&&a.nodeName&&a.nodeType==1)};baidu.lang.isObject=function(a){return"function"==typeof a||!!(a&&"object"==typeof a)};baidu.isObject=baidu.lang.isObject;baidu.lang.module=function(name,module,owner){var packages=name.split("."),len=packages.length-1,packageName,i=0;if(!owner){try{if(!(new RegExp("^[a-zA-Z_\x24][a-zA-Z0-9_\x24]*\x24")).test(packages[0])){throw""}owner=eval(packages[0]);i=1}catch(e){owner=window}}for(;i<len;i++){packageName=packages[i];if(!owner[packageName]){owner[packageName]={}}owner=owner[packageName]}if(!owner[packages[len]]){owner[packages[len]]=module}};baidu.number.comma=function(b,a){if(!a||a<1){a=3}b=String(b).split(".");b[0]=b[0].replace(new RegExp("(\\d)(?=(\\d{"+a+"})+$)","ig"),"$1,");return b.join(".")};baidu.number.randomInt=function(b,a){return Math.floor(Math.random()*(a-b+1)+b)};baidu.object.isPlain=function(c){var b=Object.prototype.hasOwnProperty,a;if(!c||Object.prototype.toString.call(c)!=="[object Object]"||!("isPrototypeOf" in c)){return false}if(c.constructor&&!b.call(c,"constructor")&&!b.call(c.constructor.prototype,"isPrototypeOf")){return false}for(a in c){}return a===undefined||b.call(c,a)};baidu.object.clone=function(f){var b=f,c,a;if(!f||f instanceof Number||f instanceof String||f instanceof Boolean){return b}else{if(baidu.lang.isArray(f)){b=[];var d=0;for(c=0,a=f.length;c<a;c++){b[d++]=baidu.object.clone(f[c])}}else{if(baidu.object.isPlain(f)){b={};for(c in f){if(f.hasOwnProperty(c)){b[c]=baidu.object.clone(f[c])}}}}}return b};baidu.object.isEmpty=function(b){for(var a in b){return false}return true};baidu.object.keys=function(d){var a=[],c=0,b;for(b in d){if(d.hasOwnProperty(b)){a[c++]=b}}return a};baidu.object.map=function(d,c){var b={};for(var a in d){if(d.hasOwnProperty(a)){b[a]=c(d[a],a)}}return b};(function(){var b=function(c){return baidu.lang.isObject(c)&&!baidu.lang.isFunction(c)};function a(h,g,f,d,c){if(g.hasOwnProperty(f)){if(c&&b(h[f])){baidu.object.merge(h[f],g[f],{overwrite:d,recursive:c})}else{if(d||!(f in h)){h[f]=g[f]}}}}baidu.object.merge=function(k,c,m){var f=0,n=m||{},h=n.overwrite,l=n.whiteList,d=n.recursive,g;if(l&&l.length){g=l.length;for(;f<g;++f){a(k,c,l[f],h,d)}}else{for(f in c){a(k,c,f,h,d)}}return k}})();baidu.page.createStyleSheet=function(a){var g=a||{},d=g.document||document,c;if(baidu.browser.ie){if(!g.url){g.url=""}return d.createStyleSheet(g.url,g.index)}else{c="<style type='text/css'></style>";g.url&&(c="<link type='text/css' rel='stylesheet' href='"+g.url+"'/>");baidu.dom.insertHTML(d.getElementsByTagName("HEAD")[0],"beforeEnd",c);if(g.url){return null}var b=d.styleSheets[d.styleSheets.length-1],f=b.rules||b.cssRules;return{self:b,rules:b.rules||b.cssRules,addRule:function(h,l,k){if(b.addRule){return b.addRule(h,l,k)}else{if(b.insertRule){isNaN(k)&&(k=f.length);return b.insertRule(h+"{"+l+"}",k)}}},removeRule:function(h){if(b.removeRule){b.removeRule(h)}else{if(b.deleteRule){isNaN(h)&&(h=0);b.deleteRule(h)}}}}}};baidu.page.getHeight=function(){var d=document,a=d.body,c=d.documentElement,b=d.compatMode=="BackCompat"?a:d.documentElement;return Math.max(c.scrollHeight,a.scrollHeight,b.clientHeight)};baidu.page.getWidth=function(){var d=document,a=d.body,c=d.documentElement,b=d.compatMode=="BackCompat"?a:d.documentElement;return Math.max(c.scrollWidth,a.scrollWidth,b.clientWidth)};baidu.page.lazyLoadImage=function(a){a=a||{};a.preloadHeight=a.preloadHeight||0;baidu.dom.ready(function(){var f=document.getElementsByTagName("IMG"),g=f,h=f.length,d=0,m=c(),l="data-tangram-ori-src",k;if(a.className){g=[];for(;d<h;++d){if(baidu.dom.hasClass(f[d],a.className)){g.push(f[d])}}}function c(){return baidu.page.getScrollTop()+baidu.page.getViewHeight()+a.preloadHeight}for(d=0,h=g.length;d<h;++d){k=g[d];if(baidu.dom.getPosition(k).top>m){k.setAttribute(l,k.src);a.placeHolder?k.src=a.placeHolder:k.removeAttribute("src")}}var b=function(){var o=c(),q,r=true,p=0,n=g.length;for(;p<n;++p){k=g[p];q=k.getAttribute(l);q&&(r=false);if(baidu.dom.getPosition(k).top<o&&q){k.src=q;k.removeAttribute(l);baidu.lang.isFunction(a.onlazyload)&&a.onlazyload(k)}}r&&baidu.un(window,"scroll",b)};baidu.on(window,"scroll",b)})};baidu.page.load=function(c,m,f){m=m||{};var k=baidu.page.load,a=k._cache=k._cache||{},h=k._loadingCache=k._loadingCache||{},g=m.parallel;function d(){for(var o=0,n=c.length;o<n;++o){if(!a[c[o].url]){setTimeout(arguments.callee,10);return}}m.onload()}function b(p,r){var q,o,n;switch(p.type.toLowerCase()){case"css":q=document.createElement("link");q.setAttribute("rel","stylesheet");q.setAttribute("type","text/css");break;case"js":q=document.createElement("script");q.setAttribute("type","text/javascript");q.setAttribute("charset",p.charset||k.charset);break;case"html":q=document.createElement("iframe");q.frameBorder="none";break;default:return}n=function(){if(!o&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){o=true;baidu.un(q,"load",n);baidu.un(q,"readystatechange",n);r.call(window,q)}};baidu.on(q,"load",n);baidu.on(q,"readystatechange",n);if(p.type=="css"){(function(){if(o){return}try{q.sheet.cssRule}catch(s){setTimeout(arguments.callee,20);return}o=true;r.call(window,q)})()}q.href=q.src=p.url;document.getElementsByTagName("head")[0].appendChild(q)}baidu.lang.isString(c)&&(c=[{url:c}]);if(!(c&&c.length)){return}function l(p){var o=p.url,q=!!g,n,r=function(s){a[p.url]=s;delete h[p.url];if(baidu.lang.isFunction(p.onload)){if(false===p.onload.call(window,s)){return}}!g&&k(c.slice(1),m,true);if((!f)&&baidu.lang.isFunction(m.onload)){d()}};p.type=p.type||o.substr(o.lastIndexOf(".")+1);p.requestType=p.requestType||(p.type=="html"?"ajax":"dom");if(n=a[p.url]){r(n);return q}if(!m.refresh&&h[p.url]){setTimeout(function(){l(p)},10);return q}h[p.url]=true;if(p.requestType.toLowerCase()=="dom"){b(p,r)}else{baidu.ajax.get(p.url,function(t,s){r(s)})}return q}baidu.each(c,l)};baidu.page.load.charset="UTF8";baidu.page.loadCssFile=function(b){var a=document.createElement("link");a.setAttribute("rel","stylesheet");a.setAttribute("type","text/css");a.setAttribute("href",b);document.getElementsByTagName("head")[0].appendChild(a)};baidu.page.loadJsFile=function(b){var a=document.createElement("script");a.setAttribute("type","text/javascript");a.setAttribute("src",b);a.setAttribute("defer","defer");document.getElementsByTagName("head")[0].appendChild(a)};baidu.platform=baidu.platform||{};baidu.platform.isAndroid=/android/i.test(navigator.userAgent);baidu.platform.isIpad=/ipad/i.test(navigator.userAgent);baidu.platform.isIphone=/iphone/i.test(navigator.userAgent);baidu.platform.isMacintosh=/macintosh/i.test(navigator.userAgent);baidu.platform.isWindows=/windows/i.test(navigator.userAgent);baidu.platform.isX11=/x11/i.test(navigator.userAgent);baidu.sio=baidu.sio||{};baidu.sio._createScriptTag=function(b,a,c){b.setAttribute("type","text/javascript");c&&b.setAttribute("charset",c);b.setAttribute("src",a);document.getElementsByTagName("head")[0].appendChild(b)};baidu.sio._removeScriptTag=function(b){if(b.clearAttributes){b.clearAttributes()}else{for(var a in b){if(b.hasOwnProperty(a)){delete b[a]}}}if(b&&b.parentNode){b.parentNode.removeChild(b)}b=null};baidu.sio.callByBrowser=function(a,h,l){var d=document.createElement("SCRIPT"),f=0,m=l||{},c=m.charset,k=h||function(){},g=m.timeOut||0,b;d.onload=d.onreadystatechange=function(){if(f){return}var n=d.readyState;if("undefined"==typeof n||n=="loaded"||n=="complete"){f=1;try{k();clearTimeout(b)}finally{d.onload=d.onreadystatechange=null;baidu.sio._removeScriptTag(d)}}};if(g){b=setTimeout(function(){d.onload=d.onreadystatechange=null;baidu.sio._removeScriptTag(d);m.onfailure&&m.onfailure()},g)}baidu.sio._createScriptTag(d,a,c)};baidu.sio.callByServer=function(a,p,q){var l=document.createElement("SCRIPT"),k="bd__cbs__",n,f,r=q||{},d=r.charset,g=r.queryField||"callback",o=r.timeOut||0,b,c=new RegExp("(\\?|&)"+g+"=([^&]*)"),h;if(baidu.lang.isFunction(p)){n=k+Math.floor(Math.random()*2147483648).toString(36);window[n]=m(0)}else{if(baidu.lang.isString(p)){n=p}else{if(h=c.exec(a)){n=h[2]}}}if(o){b=setTimeout(m(1),o)}a=a.replace(c,"\x241"+g+"="+n);if(a.search(c)<0){a+=(a.indexOf("?")<0?"?":"&")+g+"="+n}baidu.sio._createScriptTag(l,a,d);function m(s){return function(){try{if(s){r.onfailure&&r.onfailure()}else{p.apply(window,arguments);clearTimeout(b)}window[n]=null;delete window[n]}catch(t){}finally{baidu.sio._removeScriptTag(l)}}}};baidu.sio.log=function(b){var a=new Image(),c="tangram_sio_log_"+Math.floor(Math.random()*2147483648).toString(36);window[c]=a;a.onload=a.onerror=a.onabort=function(){a.onload=a.onerror=a.onabort=null;window[c]=null;a=null};a.src=b};baidu.string.decodeHTML=function(a){var b=String(a).replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&");return b.replace(/&#([\d]+);/g,function(d,c){return String.fromCharCode(parseInt(c,10))})};baidu.decodeHTML=baidu.string.decodeHTML;baidu.string.encodeHTML=function(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")};baidu.encodeHTML=baidu.string.encodeHTML;baidu.string.filterFormat=function(c,a){var b=Array.prototype.slice.call(arguments,1),d=Object.prototype.toString;if(b.length){b=b.length==1?(a!==null&&(/\[object Array\]|\[object Object\]/.test(d.call(a)))?a:b):b;return c.replace(/#\{(.+?)\}/g,function(g,l){var n,k,h,f,m;if(!b){return""}n=l.split("|");k=b[n[0]];if("[object Function]"==d.call(k)){k=k(n[0])}for(h=1,f=n.length;h<f;++h){m=baidu.string.filterFormat[n[h]];if("[object Function]"==d.call(m)){k=m(k)}}return(("undefined"==typeof k||k===null)?"":k)})}return c};baidu.string.filterFormat.escapeJs=function(f){if(!f||"string"!=typeof f){return f}var d,a,b,c=[];for(d=0,a=f.length;d<a;++d){b=f.charCodeAt(d);if(b>255){c.push(f.charAt(d))}else{c.push("\\x"+b.toString(16))}}return c.join("")};baidu.string.filterFormat.js=baidu.string.filterFormat.escapeJs;baidu.string.filterFormat.escapeString=function(a){if(!a||"string"!=typeof a){return a}return a.replace(/["'<>\\\/`]/g,function(b){return"&#"+b.charCodeAt(0)+";"})};baidu.string.filterFormat.e=baidu.string.filterFormat.escapeString;baidu.string.filterFormat.toInt=function(a){return parseInt(a,10)||0};baidu.string.filterFormat.i=baidu.string.filterFormat.toInt;baidu.string.format=function(c,a){c=String(c);var b=Array.prototype.slice.call(arguments,1),d=Object.prototype.toString;if(b.length){b=b.length==1?(a!==null&&(/\[object Array\]|\[object Object\]/.test(d.call(a)))?a:b):b;return c.replace(/#\{(.+?)\}/g,function(f,h){var g=b[h];if("[object Function]"==d.call(g)){g=g(h)}return("undefined"==typeof g?"":g)})}return c};baidu.format=baidu.string.format;(function(){var c=/^\#[\da-f]{6}$/i,b=/^rgb\((\d+), (\d+), (\d+)\)$/,a={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",green:"#008000",lime:"#00ff00",olive:"#808000",yellow:"#ffff0",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff"};baidu.string.formatColor=function(f){if(c.test(f)){return f}else{if(b.test(f)){for(var l,k=1,f="#";k<4;k++){l=parseInt(RegExp["\x24"+k]).toString(16);f+=("00"+l).substr(l.length)}return f}else{if(/^\#[\da-f]{3}$/.test(f)){var h=f.charAt(1),g=f.charAt(2),d=f.charAt(3);return"#"+h+h+g+g+d+d}else{if(a[f]){return a[f]}}}}return""}})();baidu.string.getByteLength=function(a){return String(a).replace(/[^\x00-\xff]/g,"ci").length};baidu.string.stripTags=function(a){return String(a||"").replace(/<[^>]+>/g,"")};baidu.string.subByte=function(c,b,a){c=String(c);a=a||"";if(b<0||baidu.string.getByteLength(c)<=b){return c+a}c=c.substr(0,b).replace(/([^\x00-\xff])/g,"\x241 ").substr(0,b).replace(/[^\x00-\xff]$/,"").replace(/([^\x00-\xff]) /g,"\x241");return c+a};baidu.string.toHalfWidth=function(a){return String(a).replace(/[\uFF01-\uFF5E]/g,function(b){return String.fromCharCode(b.charCodeAt(0)-65248)}).replace(/\u3000/g," ")};baidu.string.wbr=function(a){return String(a).replace(/(?:<[^>]+>)|(?:&#?[0-9a-z]{2,6};)|(.{1})/gi,"$&<wbr>").replace(/><wbr>/g,">")};baidu.swf=baidu.swf||{};baidu.swf.getMovie=function(c){var a=document[c],b;return baidu.browser.ie==9?a&&a.length?(b=baidu.array.remove(baidu.lang.toArray(a),function(d){return d.tagName.toLowerCase()!="embed"})).length==1?b[0]:b:a:a||window[c]};baidu.swf.Proxy=function(g,c,d){var b=this,a=this._flash=baidu.swf.getMovie(g),f;if(!c){return this}f=setInterval(function(){try{if(a[c]){b._initialized=true;clearInterval(f);if(d){d()}}}catch(h){}},100)};baidu.swf.Proxy.prototype.getFlash=function(){return this._flash};baidu.swf.Proxy.prototype.isReady=function(){return !!this._initialized};baidu.swf.Proxy.prototype.call=function(a,f){try{var c=this.getFlash(),b=Array.prototype.slice.call(arguments);b.shift();if(c[a]){c[a].apply(c,b)}}catch(d){}};baidu.swf.version=(function(){var h=navigator;if(h.plugins&&h.mimeTypes.length){var d=h.plugins["Shockwave Flash"];if(d&&d.description){return d.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s)+r/,".")+".0"}}else{if(window.ActiveXObject&&!window.opera){for(var b=12;b>=2;b--){try{var g=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+b);if(g){var a=g.GetVariable("$version");return a.replace(/WIN/g,"").replace(/,/g,".")}}catch(f){}}}}})();baidu.swf.createHTML=function(u){u=u||{};var m=baidu.swf.version,h=u.ver||"6.0.0",g,d,f,c,l,t,a={},q=baidu.string.encodeHTML;for(c in u){a[c]=u[c]}u=a;if(m){m=m.split(".");h=h.split(".");for(f=0;f<3;f++){g=parseInt(m[f],10);d=parseInt(h[f],10);if(d<g){break}else{if(d>g){return""}}}}else{return""}var o=u.vars,n=["classid","codebase","id","width","height","align"];u.align=u.align||"middle";u.classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000";u.codebase="http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0";u.movie=u.url||"";delete u.vars;delete u.url;if("string"==typeof o){u.flashvars=o}else{var r=[];for(c in o){t=o[c];r.push(c+"="+encodeURIComponent(t))}u.flashvars=r.join("&")}var p=["<object "];for(f=0,l=n.length;f<l;f++){t=n[f];p.push(" ",t,'="',q(u[t]),'"')}p.push(">");var b={wmode:1,scale:1,quality:1,play:1,loop:1,menu:1,salign:1,bgcolor:1,base:1,allowscriptaccess:1,allownetworking:1,allowfullscreen:1,seamlesstabbing:1,devicefont:1,swliveconnect:1,flashvars:1,movie:1};for(c in u){t=u[c];c=c.toLowerCase();if(b[c]&&(t||t===false||t===0)){p.push('<param name="'+c+'" value="'+q(t)+'" />')}}u.src=u.movie;u.name=u.id;delete u.id;delete u.movie;delete u.classid;delete u.codebase;u.type="application/x-shockwave-flash";u.pluginspage="http://www.macromedia.com/go/getflashplayer";p.push("<embed");var s;for(c in u){t=u[c];if(t||t===false||t===0){if((new RegExp("^salign\x24","i")).test(c)){s=t;continue}p.push(" ",c,'="',q(t),'"')}}if(s){p.push(' salign="',q(s),'"')}p.push("></embed></object>");return p.join("")};baidu.swf.create=function(a,c){a=a||{};var b=baidu.swf.createHTML(a)||a.errorMessage||"";if(c&&"string"==typeof c){c=document.getElementById(c)}if(c){c.innerHTML=b}else{document.write(b)}};baidu.url=baidu.url||{};baidu.url.escapeSymbol=function(a){return String(a).replace(/[#%&+=\/\\\ \　\f\r\n\t]/g,function(b){return"%"+(256+b.charCodeAt()).toString(16).substring(1).toUpperCase()})};baidu.url.getQueryValue=function(b,c){var d=new RegExp("(^|&|\\?|#)"+baidu.string.escapeReg(c)+"=([^&#]*)(&|\x24|#)","");var a=b.match(d);if(a){return a[2]}return null};baidu.url.jsonToQuery=function(c,f){var a=[],d,b=f||function(g){return baidu.url.escapeSymbol(g)};baidu.object.each(c,function(h,g){if(baidu.lang.isArray(h)){d=h.length;while(d--){a.push(g+"="+b(h[d],g))}}else{a.push(g+"="+b(h,g))}});return a.join("&")};baidu.url.queryToJson=function(a){var g=a.substr(a.lastIndexOf("?")+1),c=g.split("&"),f=c.length,m={},d=0,k,h,l,b;for(;d<f;d++){if(!c[d]){continue}b=c[d].split("=");k=b[0];h=b[1];l=m[k];if("undefined"==typeof l){m[k]=h}else{if(baidu.lang.isArray(l)){l.push(h)}else{m[k]=[l,h]}}}return m};var er={};er.config={CONTROL_IFRAME_ID:"ERHistroyRecordIframe",DEFAULT_INDEX:"/",MAIN_ELEMENT_ID:"Main",ACTION_ROOT:"/asset/js",ACTION_PATH:{},ACTION_AUTOLOAD:0};er._util=function(){function a(h){var f=er.config,g={CONTROL_IFRAME_ID:"ERHistroyRecordIframe",DEFAULT_INDEX:"/",MAIN_ELEMENT_ID:"Main",ACTION_ROOT:"/asset/js",ACTION_PATH:{},ACTION_AUTOLOAD:0},k=f[h];if(!c(k)){k=g[h]||null}return k}function c(f){return !(f===null||typeof f=="undefined")}var d={};function b(l){l=l||10;var k="qwertyuiopasdfghjklzxcvbnm1234567890",f=k.length,g=l,h="";while(g--){h+=k.charAt(Math.floor(Math.random()*f))}if(d[h]){return b(l)}d[h]=1;return h}return{getUID:b,hasValue:c,getConfig:a}}();er.init=function(){function f(){a()}var c=[];var b="ready";var d=0;function a(){var g;switch(b){case"ready":case"run":if(d<c.length){b="run";g=c[d++];(typeof g=="function")&&g();a()}else{b="inited";typeof er.oninit=="function"&&er.oninit()}break}}f.addIniter=function(g,h){if(typeof h=="number"){if(c[h]){c.splice(h,0,g)}else{c[h]=g}}else{c.push(g)}};f.stop=function(){if(b=="run"){b="stop"}};f.start=function(){if(b=="stop"){b="run";a()}};return f}();er.template=function(){function Stack(){this.container=[];this.index=-1}Stack.prototype={current:function(){return this.container[this.index]},push:function(elem){this.container[++this.index]=elem},pop:function(){if(this.index<0){return null}var elem=this.container[this.index];this.container.length=this.index--;return elem},bottom:function(){return this.container[0]}};function ArrayBuffer(){this.raw=[];this.idx=0}ArrayBuffer.prototype={push:function(elem){this.raw[this.idx++]=elem},pushMore:function(){for(var i=0,l=arguments.length;i<l;i++){this.push(arguments[i])}},join:function(split){return this.raw.join(split)},getRaw:function(){return this.raw}};function NodeIterator(stream){this.stream=stream;this.index=0}NodeIterator.prototype={next:function(){return this.stream[++this.index]},prev:function(){return this.stream[--this.index]},current:function(){return this.stream[this.index]}};function Scope(parent){this.context={};this.parent=parent}Scope.prototype={get:function(name){var value=this.context[name];if(!er._util.hasValue(value)&&this.parent){return this.parent.get(name)}if(er._util.hasValue(value)){return value}return null},set:function(name,value){this.context[name]=value}};var TYPE={TEXT:1,TARGET:2,MASTER:3,IMPORT:4,CONTENT:5,CONTENTPLACEHOLDER:6,FOR:7,IF:8,ELIF:9,ELSE:10};var COMMENT_RULE=/^\s*(\/)?([a-z]+)(.*)$/i;var PROP_RULE=/^\s*([0-9a-z_]+)\s*=\s*([0-9a-z_]+)\s*$/i;var FOR_RULE=/^\s*:\s*\$\{([0-9a-z_.\[\]]+)\}\s+as\s+\$\{([0-9a-z_]+)\}\s*(,\s*\$\{([0-9a-z_]+)\})?\s*$/i;var IF_RULE=/^\s*:([>=<!0-9a-z$\{\}\[\]\(\):\s'"\.\|&_]+)\s*$/i;var TAG_RULE=/^\s*:\s*([a-z0-9_]+)\s*(?:\(([^)]+)\))?\s*$/i;var CONDEXPR_RULE=/\s*(\!=?=?|\|\||&&|>=?|<=?|===?|['"\(\)]|\$\{[^\}]+\}|\-?[0-9]+(\.[0-9]+)?)/;var masterContainer={};var targetContainer={};var filterContainer={html:function(source){return baidu.string.encodeHTML(source)},url:function(source){return encodeURIComponent(source)}};var isLoaded;function nodeAnalyse(source){var COMMENT_BEGIN="<!--";var COMMENT_END="-->";var i;var len;var str;var strLen;var commentText;var nodeType;var nodeContent;var node;var propList;var propLen;var textBuf=new ArrayBuffer;var nodeStream=new ArrayBuffer;var texts=source.split(COMMENT_BEGIN);if(texts[0]===""){texts.shift()}function flushTextBuf(){nodeStream.push({type:TYPE.TEXT,text:textBuf.join("")});textBuf=new ArrayBuffer}function throwInvalid(type,text){throw type+" is invalid: "+text}function beCommentText(text){textBuf.pushMore(COMMENT_BEGIN,text,COMMENT_END)}for(i=0,len=texts.length;i<len;i++){str=texts[i].split(COMMENT_END);strLen=str.length;if(strLen==2||i>0){if(strLen==2){commentText=str[0];if(COMMENT_RULE.test(commentText)){flushTextBuf();nodeType=RegExp.$2.toLowerCase();nodeContent=RegExp.$3;node={type:TYPE[nodeType.toUpperCase()]};if(RegExp.$1){node.endTag=1;nodeStream.push(node)}else{switch(nodeType){case"content":case"contentplaceholder":case"master":case"import":case"target":if(TAG_RULE.test(nodeContent)){node.id=RegExp.$1;propList=RegExp.$2.split(/\s*,\s*/);propLen=propList.length;while(propLen--){if(PROP_RULE.test(propList[propLen])){node[RegExp.$1]=RegExp.$2}}}else{throwInvalid(nodeType,commentText)}break;case"for":if(FOR_RULE.test(nodeContent)){node.list=RegExp.$1;node.item=RegExp.$2;node.index=RegExp.$4}else{throwInvalid(nodeType,commentText)}break;case"if":case"elif":if(IF_RULE.test(RegExp.$3)){node.expr=condExpr.parse(RegExp.$1)}else{throwInvalid(nodeType,commentText)}break;case"else":break;default:node=null;beCommentText(commentText)}node&&nodeStream.push(node)}}else{beCommentText(commentText)}textBuf.push(str[1])}else{textBuf.push(str[0])}}}flushTextBuf();return nodeStream.getRaw()}var syntaxAnalyse=function(){var astParser={};var targetCache;var masterCache;var analyseStack;var nodeIterator;function popNode(stopType){var current;while((current=analyseStack.current())&&current.type!=stopType){analyseStack.pop()}return analyseStack.pop()}function pushNode(node){analyseStack.push(node)}function getError(){var node=analyseStack.bottom;return"[er template]"+node.type+" "+node.id+": unexpect "+nodeIterator.current().type+" on "+analyseStack.current().type}function astParseByType(type){var parser=astParser[type];parser&&parser()}astParser[TYPE.TARGET]=function(){var node=nodeIterator.current();node.block=[];node.content={};pushNode(node);targetCache[node.id]=node;while((node=nodeIterator.next())){switch(node.type){case TYPE.TARGET:case TYPE.MASTER:popNode();if(!node.endTag){nodeIterator.prev()}return;case TYPE.CONTENTPLACEHOLDER:case TYPE.ELSE:case TYPE.ELIF:throw getError();default:astParseByType(node.type);break}}};astParser[TYPE.MASTER]=function(){var node=nodeIterator.current();node.block=[];pushNode(node);masterCache[node.id]=node;while((node=nodeIterator.next())){switch(node.type){case TYPE.TARGET:case TYPE.MASTER:popNode();if(!node.endTag){nodeIterator.prev()}return;case TYPE.CONTENT:case TYPE.ELSE:case TYPE.ELIF:throw getError();default:astParseByType(node.type);break}}};astParser[TYPE.TEXT]=astParser[TYPE.IMPORT]=astParser[TYPE.CONTENTPLACEHOLDER]=function(){analyseStack.current().block.push(nodeIterator.current())};astParser[TYPE.CONTENT]=function(){var node=nodeIterator.current();node.block=[];analyseStack.bottom().content[node.id]=node;pushNode(node);while((node=nodeIterator.next())){if(node.endTag){if(node.type==TYPE.CONTENT){popNode(TYPE.CONTENT)}else{nodeIterator.prev()}return}switch(node.type){case TYPE.TARGET:case TYPE.MASTER:popNode();nodeIterator.prev();return;case TYPE.CONTENTPLACEHOLDER:case TYPE.ELSE:case TYPE.ELIF:throw getError();case TYPE.CONTENT:popNode(TYPE.CONTENT);nodeIterator.prev();return;default:astParseByType(node.type);break}}};astParser[TYPE.FOR]=function(){var node=nodeIterator.current();node.block=[];analyseStack.current().block.push(node);pushNode(node);while((node=nodeIterator.next())){if(node.endTag){if(node.type==TYPE.FOR){popNode(TYPE.FOR)}else{nodeIterator.prev()}return}switch(node.type){case TYPE.TARGET:case TYPE.MASTER:popNode();nodeIterator.prev();return;case TYPE.CONTENTPLACEHOLDER:case TYPE.CONTENT:case TYPE.ELSE:case TYPE.ELIF:throw getError();default:astParseByType(node.type);break}}};astParser[TYPE.IF]=function(){var node=nodeIterator.current();node.block=[];analyseStack.current().block.push(node);pushNode(node);while((node=nodeIterator.next())){if(node.endTag){if(node.type==TYPE.IF){popNode(TYPE.IF)}else{nodeIterator.prev()}return}switch(node.type){case TYPE.TARGET:case TYPE.MASTER:popNode();nodeIterator.prev();return;case TYPE.CONTENTPLACEHOLDER:case TYPE.CONTENT:throw getError();default:astParseByType(node.type);break}}};astParser[TYPE.ELIF]=function(){var node=nodeIterator.current();node.type=TYPE.IF;node.block=[];popNode(TYPE.IF)["else"]=node;pushNode(node);while((node=nodeIterator.next())){if(node.endTag){nodeIterator.prev();return}switch(node.type){case TYPE.TARGET:case TYPE.MASTER:popNode();nodeIterator.prev();return;case TYPE.CONTENTPLACEHOLDER:case TYPE.CONTENT:throw getError();case TYPE.ELIF:nodeIterator.prev();return;default:astParseByType(node.type);break}}};astParser[TYPE.ELSE]=function(){var unit=nodeIterator.current();var node=analyseStack.current();var nodeType;while(1){nodeType=node.type;if(nodeType==TYPE.IF||nodeType==TYPE.ELIF){node={type:TYPE.ELSE,block:[]};analyseStack.current()["else"]=node;break}node=analyseStack.pop()}pushNode(node);while((unit=nodeIterator.next())){if(unit.endTag){nodeIterator.prev();return}switch(unit.type){case TYPE.TARGET:case TYPE.MASTER:popNode();nodeIterator.prev();return;case TYPE.CONTENTPLACEHOLDER:case TYPE.CONTENT:case TYPE.ELSE:case TYPE.ELIF:throw getError();default:astParseByType(unit.type);break}}};return function(stream){var unit;var key;var target;var master;var content;var block;var masterBlock;var i,len,item;nodeIterator=new NodeIterator(stream);targetCache={};masterCache={};analyseStack=new Stack;while((unit=nodeIterator.current())){switch(unit.type){case TYPE.TARGET:case TYPE.MASTER:astParser[unit.type]();break;default:nodeIterator.next()}}for(key in masterCache){if(masterContainer[key]){throw'master "'+key+'" is exist!'}masterContainer[key]=masterCache[key]}for(key in targetCache){if(targetContainer[key]){throw'target "'+key+'" is exist!'}target=targetCache[key];master=target.master;targetContainer[key]=target;if(master){block=[];target.block=block;master=masterContainer[master];if(!master){continue}masterBlock=master.block;for(i=0,len=masterBlock.length;i<len;i++){item=masterBlock[i];switch(item.type){case TYPE.CONTENTPLACEHOLDER:content=target.content[item.id];if(content){Array.prototype.push.apply(block,content.block)}break;default:block.push(item)}}}}targetCache=null;masterCache=null;nodeIterator=null;analyseStack=null}}();var condExpr=function(){var EXPR_T={or:1,and:2,relation:3,unary:4,string:5,number:6,variable:7,punc:8};return{parse:function(source){source=baidu.string.trim(source);var arr;var str;var expr;var src=source;var stream=[];while(source){arr=CONDEXPR_RULE.exec(source);if(!arr){throw"conditional expression invalid: "+src}source=source.slice(arr[0].length);str=arr[1];if(str.indexOf("$")==0){stream.push({type:EXPR_T.variable,text:str.slice(2,str.length-1)})}else{if(/^[0-9-]/.test(str)){stream.push({type:EXPR_T.number,text:str})}else{switch(str){case"'":case'"':var strBuf=[str];var cha;var index=0;while(1){cha=source.charAt(index++);if(cha==str){strBuf.push(str);source=source.slice(index);break}strBuf.push(cha)}stream.push({type:EXPR_T.string,text:strBuf.join("")});break;default:stream.push({type:EXPR_T.punc,text:str});break}}}}expr=orExpr(new NodeIterator(stream));return expr},exec:execCondExpr};function orExpr(iterator){var expr=andExpr(iterator);var oper;if((oper=iterator.current())&&oper.text=="||"){iterator.next();expr={type:EXPR_T.or,expr1:expr,expr2:orExpr(iterator)}}return expr}function andExpr(iterator){var expr=relationExpr(iterator);var oper;if((oper=iterator.current())&&oper.text=="&&"){iterator.next();expr={type:EXPR_T.and,expr1:expr,expr2:andExpr(iterator)}}return expr}function relationExpr(iterator){var expr=unaryExpr(iterator);var oper;if((oper=iterator.current())&&/^[><=]+$/.test(oper.text)){iterator.next();expr={type:EXPR_T.relation,expr1:expr,expr2:unaryExpr(iterator),oper:oper.text}}return expr}function unaryExpr(iterator){if(iterator.current().text=="!"){iterator.next();return{type:EXPR_T.unary,oper:"!",expr:primaryExpr(iterator)}}return primaryExpr(iterator)}function primaryExpr(iterator){var expr=iterator.current();if(expr.text=="("){iterator.next();expr=orExpr(iterator)}iterator.next();return expr}function execRelationExpr(expr,scope){var result1=execCondExpr(expr.expr1,scope);var result2=execCondExpr(expr.expr2,scope);switch(expr.oper){case"==":return result1==result2;case"===":return result1===result2;case">":return result1>result2;case"<":return result1<result2;case">=":return result1>=result2;case"<=":return result1<=result2;case"!=":return result1!=result2;case"!==":return result1!==result2}}function execCondExpr(expr,scope){switch(expr.type){case EXPR_T.or:return execCondExpr(expr.expr1,scope)||execCondExpr(expr.expr2,scope);case EXPR_T.and:return execCondExpr(expr.expr1,scope)&&execCondExpr(expr.expr2,scope);case EXPR_T.unary:return !execCondExpr(expr.expr,scope);case EXPR_T.relation:return execRelationExpr(expr,scope);case EXPR_T.string:case EXPR_T.number:return eval(expr.text);case EXPR_T.variable:return getVariableValue(scope,expr.text)}}}();function getVariableValue(scope,varName,opt_filterName){var typeRule=/:([a-z]+)$/i;var match=varName.match(typeRule);var value="";var i,len;var variable,propName,propLen;varName=varName.replace(typeRule,"");if(match&&match.length>1){value=getVariableValueByType(varName,match[1])}else{varName=varName.split(/[\.\[]/);variable=scope.get(varName[0]);varName.shift();for(i=0,len=varName.length;i<len;i++){if(!er._util.hasValue(variable)){break}propName=varName[i].replace(/\]$/,"");propLen=propName.length;if(/^(['"])/.test(propName)&&propName.lastIndexOf(RegExp.$1)==--propLen){propName=propName.slice(1,propLen)}variable=variable[propName]}if(er._util.hasValue(variable)){value=variable}}if(opt_filterName){opt_filterName=filterContainer[opt_filterName.substr(1)];opt_filterName&&(value=opt_filterName(value))}return value}function getVariableValueByType(varName,type){var packs=varName.split("."),len=packs.length-1,topPackageName=packs.shift(),win=window,objOnDef=er._util.getConfig("DEFAULT_PACKAGE"),variable,objOnSelf,objOnBase;type=type.toLowerCase();objOnDef&&(objOnDef=win[objOnDef]);objOnSelf=win[topPackageName];objOnBase=win[type]&&win[type][topPackageName];if(len==0){objOnDef=objOnDef&&objOnDef[type];return((objOnDef&&objOnDef[topPackageName])||objOnBase||"")}objOnDef=objOnDef&&objOnDef[topPackageName];varName=packs.pop();len--;while(len--){variable=packs.shift();objOnDef=objOnDef&&objOnDef[variable];objOnSelf=objOnSelf&&objOnSelf[variable];objOnBase=objOnBase&&objOnBase[variable]}objOnDef=objOnDef&&objOnDef[type];objOnSelf=objOnSelf&&objOnSelf[type];objOnDef=objOnDef&&objOnDef[varName];objOnSelf=objOnSelf&&objOnSelf[varName];objOnBase=objOnBase&&objOnBase[varName];if(er._util.hasValue(objOnDef)){return objOnDef}else{if(er._util.hasValue(objOnSelf)){return objOnSelf}else{if(er._util.hasValue(objOnBase)){return objOnBase}}}return""}function getTargetContent(name){try{var target=getTarget(name);return getContent(target)||""}catch(ex){return""}}function getTarget(name){var target=targetContainer[name];if(!target){throw'target "'+name+'" is not exist!'}if(target.type!=TYPE.TARGET){throw'target "'+name+'" is invalid!'}return target}function getContent(node){var block=node.block;var content=[];var item,i,len;for(i=0,len=block.length;i<len;i++){item=block[i];if(item.block){content.push(getContent(item))}else{if(item.type==TYPE.IMPORT){content.push(getTargetContent(item.id))}else{content.push(item.text||"")}}}return content.join("")}function replaceVariable(text,scope){return text.replace(/\$\{([.:a-z0-9\[\]'"_]+)\s*(\|[a-z]+)?\s*\}/ig,function($0,$1,$2){return getVariableValue(scope,$1,$2)})}function exec(target,scope){var result=[];var block=target.block;var stat,i,len;var forScope,forList,forI,forLen,forItem,forIndex;var ifValid;for(i=0,len=block.length;i<len;i++){stat=block[i];switch(stat.type){case TYPE.TEXT:result.push(replaceVariable(stat.text,scope));break;case TYPE.IMPORT:result.push(execImport(stat,scope));break;case TYPE.FOR:forScope=new Scope(scope);forList=scope.get(stat.list);forItem=stat.item;forIndex=stat.index;for(forI=0,forLen=forList.length;forI<forLen;forI++){forScope.set(forItem,forList[forI]);forIndex&&forScope.set(forIndex,forI);result.push(exec(stat,forScope))}break;case TYPE.IF:ifValid=condExpr.exec(stat.expr,scope);while(!ifValid){stat=stat["else"];if(!stat){break}ifValid=!stat.expr||condExpr.exec(stat.expr,scope)}stat&&result.push(exec(stat,scope));break}}return result.join("")}function execImport(importStat,scope){var target=getTarget(importStat.id);return exec(target,scope)}function parse(source){var stream=nodeAnalyse(source);syntaxAnalyse(stream)}function merge(output,tplName,opt_privateContextId){var html="";var target;var scope={get:function(name){return er.context.get(name,{contextId:opt_privateContextId})}};if(output){try{target=getTarget(tplName);html=exec(target,scope)}catch(ex){}output.innerHTML=html}}function load(){er.init.stop();var list=er._util.getConfig("TEMPLATE_LIST"),len=list instanceof Array&&list.length,tplBuf=[],i=0;if(len&&!isLoaded){isLoaded=1;loadTemplate()}else{er.init.start()}function successCallback(xhr){tplBuf.push(xhr.responseText);loadedCallback()}function loadedCallback(){i++;if(i>=len){er.template.parse(tplBuf.join("\n"));er.init.start()}else{loadTemplate()}}function loadTemplate(){baidu.ajax.request(list[i],{method:"get",onsuccess:successCallback,onfailure:loadedCallback})}}er.init.addIniter(load,0);return{addFilter:function(type,filter){filterContainer[type]=filter},get:getTargetContent,parse:parse,merge:merge}}();er.router=function(){var a=[];function b(l){var d,c,g,k,f,h;for(d=0,c=a.length;d<c;d++){g=a[d];k=g.loc;f=g.func;if(k instanceof RegExp&&(h=k.exec(l))!==null){f.apply(this,h);break}else{if(typeof k=="string"&&k==l){f.call(this,l);break}}}}b.add=function(d,c){a.push({loc:d,func:c})};return b}();(function(){var a=[];er.Module=function(b){a.push(b);return b};er.Module.getModuleList=function(){return a}})();er.locator=function(){var m,n='<html><head></head><body><input type="text" id="save"><script type="text/javascript">var loc = "#{0}";document.getElementById(\'save\').value = loc;parent.er.locator._updateHash(loc);parent.er.router(loc);<\/script></body></html>';function d(){var s;if(baidu.browser.firefox){s=location.href.match(/#(.*)$/);s&&(s=s[1])}else{s=location.hash}if(s){return s.replace(/^#/,"")}return""}function b(t){var s=m!=t;if(m!=t&&d()!=t){location.hash=t}m=t;s&&er.locator.onredirect();return s}function l(v,t){var u=t||{};if(typeof v!="string"){return}v=v.replace(/^#/,"");if(v.length==0){v=er._util.getConfig("DEFAULT_INDEX")}var s=b(v);if(s||u.enforce){v=m;if(!s){er.router(v)}else{q(v)}}}function k(){var s=d();if(!s){l("")}else{if(s!==m){b(s);q(s)}}}function q(t){var s=f(t);if(s){l(s);return}if(baidu.ie&&baidu.ie<8){h(t)}else{er.router(t)}}function a(){if(m){l(m,{enforce:true})}}function h(u){var s=baidu.g(er._util.getConfig("CONTROL_IFRAME_ID")),t=s.contentWindow.document;t.open("text/html");t.write(baidu.format(n,p(u)));t.close()}function p(s){return s.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')}function r(){if(baidu.ie&&baidu.ie<8){c();setInterval(k,100)}else{if("onhashchange" in window){window.onhashchange=k;k()}else{setInterval(k,100)}}}function c(){var t=document.createElement("iframe"),s=200,u="-1000px";t.id=er._util.getConfig("CONTROL_IFRAME_ID");t.width=s;t.height=s;t.src="about:blank";t.style.position="absolute";t.style.top=u;t.style.left=u;document.body.appendChild(t)}var o=[];function g(s){if("function"==typeof s){o.push(s)}}function f(u){var t=0;var s=o.length;var v;for(;t<s;t++){v=o[t](u);if(v){return v}}}er.init.addIniter(r,2);return{redirect:l,reload:a,getLocation:d,_updateHash:b,onredirect:new Function(),addAuthorizer:g}}();er.permission=function(){var a={};return{init:function(d){var b,c;for(b in d){c=d[b];if("object"==typeof c){er.permission.init(c)}else{a[b]=c}}},isAllow:function(b){return !!a[b]}}}();er.controller=function(){var k={},o={},t=/^([\/a-zA-Z0-9_-]+)(?:~(.*))?$/,m,c,r,d=1;function s(B){B=B||"";var C={},y=B.split("&"),x=y.length,z,A;while(x--){z=y[x];if(!z){continue}z=z.split("=");A=decodeURIComponent(z[1]);C[z[0]]=A}return C}function l(z,F,C){if(!d){return}if(!F){t.test(z);F=RegExp.$1;C=RegExp.$2}var E={type:"main",referer:r,queryMap:s(C)||{},path:F,domId:er._util.getConfig("MAIN_ELEMENT_ID")},x,B,A,y;if(F==c){E.refresh=true;m&&(m.enter(E))}else{h(m);m=null;c=null;r=null;x=a(F);if(!x){throw new Error('ER: the path "'+F+'" cannot bind to action.');return}c=F;B=x.action;y=w(B);A=b(B);if(y||!A){D(y,E)}else{if(A){baidu.sio.callByBrowser(A,function(){D(w(B),E)})}}}r=z;function D(H,G){m=g(H,G)}}function a(x){return o[x]}function g(A,x,y){if(A&&A.prototype instanceof er.IAction){var z=er._util.getUID(),B;x=x||{};x._contextId=z;B=new A(z);k[z]=B;B.enter(x);return B}return null}function h(x){if(typeof x=="string"){x=k[x]}if(!x){return}x.leave();delete k[x._contextId]}function u(){var z=er.Module.getModuleList(),D=0,E=z.length,C,A,F,y,B,x;for(;D<E;D++){y=z[D];if("function"==typeof y.init){y.init()}B=y.config&&y.config.action;if(B){for(C=0,A=B.length;C<A;C++){x=B[C];F=x.path;o[F]=x}}}er.router.add(t,er.controller.forward);er.locator.addAuthorizer(q)}function q(z){if(!t.test(z)){return null}var y=RegExp.$1;var A=a(y);if(!A){throw new Error('ER: the path "'+y+'" cannot bind to action.');return}var x=A.authority;if(x&&!er.permission.isAllow(x)){return A.noAuthLocation||getConfig("DEFAULT_INDEX")}return null}function w(y){if(!y){return null}else{if("object"==typeof y){y=y.action}}var B=window,A=y.split("."),z,x;for(z=0,x=A.length;z<x;z++){B=B[A[z]];if(!B){B=null;break}}return B}function p(D,y,B){if(!d||!y){return null}var C,A=b(y),x={type:"sub",domId:D},z;if(typeof y=="string"){C=w(y)}if(B){baidu.extend(x,B)}if(C||!A){return g(C,x)}else{z=er._util.getUID();baidu.sio.callByBrowser(A,function(){g(w(y),x,z)});return z}}function v(z,y,x){var A=a(y);if(!A){throw new Error('ER: the path "'+y+'" cannot bind to action.');return null}return p(z,A.action,x)}function f(z,A,y){var x;if(y){x=y;if(typeof x=="string"){x=k[x]}}else{x=m}x&&x.fireEvent(z,A)}function n(x){d=x}function b(x){var y=er._util.getConfig("ACTION_ROOT");var A=er._util.getConfig("ACTION_PATH");var C=er._util.getConfig("ACTION_AUTOLOAD");var B=y+(/\/$/.test(y)?"":"/");var z;if(C){z=A[x];if(!z){switch(String(C).toLowerCase()){case"action":B+=x.replace(/\./g,"/")+".js";break;default:x=x.split(".");x.pop();B+=x.join("/")+".js";break}}else{B+=z}return B}return""}er.init.addIniter(u,1);return{forward:l,_enable:n,loadSub:p,loadSubByPath:v,unloadSub:h,fireEvent:f,fireMain:function(x,y){f(x,y)},getActionConfigByPath:a}}();er.context=function(){var a={},b={},c=[];return{set:function(d,o,n){n=n||{};var l=n.contextId;var g=l?b[l]:a;var k={};var f=o;var h,m;if(!g){throw new Error('ER: private context "'+l+'" is not exist.')}if(!n.silence){l&&(k.contextId=l);k.name=d;k.oldValue=g[d]||null;k.newValue=f;for(h=0,m=c.length;h<m;h++){c[h].call(er.context,k)}}g[d]=f},addPrivate:function(f,d){if(!b[f]){b[f]=d||{}}},removePrivate:function(d){b[d]=null},get:function(g,k){k=k||{};var d=k.contextId;var h;var f;if("string"==typeof d){f=b[d];h=f&&f[g]}if(er._util.hasValue(h)){return h}h=a[g];if(er._util.hasValue(h)){return h}return null},addChangeListener:function(d){c.push(d)},removeChangeListener:function(f){var d=c.length;while(d--){if(f===c[d]){c.splice(d,1)}}}}}();er.Model=function(){function a(c){var b=new Function();b.prototype=c;baidu.inherits(b,a);return b}a.prototype={construct:function(b){b=b||{};this._guid=b.guid||er._util.getUID();this._container={};this._changeListener=this.__getChangeListener();this._changeListeners=[];this.action=b.action;er.context.addPrivate(this._guid,this._container);er.context.addChangeListener(this._changeListener)},set:function(c,d,f){var b=baidu.object.clone(f||{});b.contextId=this._guid;er.context.set(c,d,b)},get:function(b){return er.context.get(b,{contextId:this._guid})},stop:function(){if(this._phase=="loading"){this._phase="waiting"}},start:function(){if(this._phase=="waiting"){this._phase="loading";this.__continue()}},load:function(b){this._phase="loading";this._loaderList=this.LOADER_LIST||[];this._loaderIndex=0;this._loaderCount=this._loaderList.length;this._finishedCallback=b||new Function();this.__continue()},__continue:function(){if(this._phase!="loading"){return}if(this._loaderIndex>=this._loaderCount){this._phase=null;this._finishedCallback();return}var b=this[this._loaderList[this._loaderIndex++]];b.setModel(this);b.load();this.__continue()},addChangeListener:function(b){this._changeListeners.push(b)},removeChangeListener:function(c){var d=this._changeListeners;var b=d.length;while(b--){if(c===d[b]){d.splice(b,1)}}},dispose:function(){er.context.removePrivate(this._guid);er.context.removeChangeListener(this._changeListener);this.action=null;this._container=null;this._changeListener=null;this._changeListeners=null},getGUID:function(){return this._guid},getQueryString:function(g){var f=g||this.QUERY_MAP,b=[],d,c;if(f){for(c in f){d=this.get(f[c]);if(er._util.hasValue(d)){b.push(c+"="+encodeURIComponent(d))}}return b.join("&")}return""},onchange:new Function(),__getChangeListener:function(){var b=this;return function(g){if(g.contextId==b._guid){var f={name:g.name,oldValue:g.oldValue,newValue:g.newValue};var h=b._changeListeners;var d=0;var c=h.length;b.onchange(f);for(;d<c;d++){h[d].call(b,f)}}}}};return a}();er.Model.Loader=function(b,a){this._func=b};er.Model.Loader.prototype={setModel:function(a){this.model=a},load:function(){this._func.call(this.model)},stop:function(){this.model.stop()},start:function(){this.model.start()},get:function(){return this.model.get.apply(this.model,Array.prototype.slice.call(arguments,0))},set:function(){this.model.set.apply(this.model,Array.prototype.slice.call(arguments,0))},getQueryString:function(a){return this.model.getQueryString(a)}};er.IAction=function(){};er.IAction.prototype.enter=function(a){};er.IAction.prototype.leave=function(){};er.View=function(){var a={};function b(d){var c=new Function();d&&(c.prototype=d);baidu.extend(c.prototype,a);baidu.inherits(c,arguments.callee);return c}b.prototype={construct:function(c){if(c&&typeof c=="object"){this.setTarget(c.target);this.setTemplate(c.template);this.setModel(c.model)}},setTarget:function(c){c&&(this.target=c)},setTemplate:function(c){c&&(this.template=c)},setModel:function(c){this.model=c},render:function(){var c=baidu.g(this.target);er.template.merge(c,this.template,this.model.getGUID())},repaint:function(){this.render()},clear:function(){var c=baidu.g(this.target);c&&(c.innerHTML="")}};b.extend=function(c){baidu.extend(a,c)};return b}();er.AbstractAction=function(){function a(){}a.prototype={LIFECYCLE_PHASE:{enter:1,leave:1,entercomplete:1,beforeloadmodel:1,afterloadmodel:1,beforerender:1,afterrender:1,beforerepaint:1,afterrepaint:1},__moveOntoPhase:function(b){if(this.LIFECYCLE_PHASE[b]){this._phase=b;this["__"+b]&&this["__"+b].call(this)}},enter:function(b){b=b||{};var g=this;var h=b.queryMap||{};var f;var d;var c;this.arg=b;if(!this.guid){this.guid=b._contextId}if(!this.hasOwnProperty("model")){this.model=new (this.model||new er.Model())();this.model.construct({guid:this.guid,action:this})}if(!this.hasOwnProperty("view")){c=this.template||this.view||"";if(typeof c=="function"){c=c.call(this)}d=this.view;if(!d||!(d.prototype instanceof er.View)){d=new er.View}this.view=new d();this.view.construct({target:b.domId,template:c,model:this.model})}this.__moveOntoPhase("enter");for(f in h){this.model.set(f,h[f])}this.__moveOntoPhase("beforeloadmodel");this.model.load(k);function k(){g.__moveOntoPhase("afterloadmodel");if(b.refresh){g.__moveOntoPhase("beforerepaint");g.view.repaint();g.__moveOntoPhase("afterrepaint")}else{g.__moveOntoPhase("beforerender");g.view.render();g.__moveOntoPhase("afterrender")}g.__moveOntoPhase("entercomplete")}},getQuery:function(b){var c=this.arg.queryMap||{};return c[b]||""},leave:function(){this.__moveOntoPhase("leave");this.dispose()},dispose:function(){this.model.dispose();delete this.model;this.view.clear();delete this.view}};baidu.inherits(a,er.IAction);return a}();er.Action=function(){var a={};function b(h,g){var c=arguments.callee;var d=g?(a[g]||c):c;var f=new Function();f.prototype=h;baidu.inherits(f,d);return f}b.prototype={__enter:function(){this.__fireEvent("enter")},__beforerender:function(){this.__fireEvent("beforerender")},__afterrender:function(){this.__fireEvent("afterrender")},__beforerepaint:function(){this.__fireEvent("beforerepaint")},__afterrepaint:function(){this.__fireEvent("afterrepaint")},__afterloadmodel:function(){this.__fireEvent("afterloadmodel")},__beforeloadmodel:function(){var c=this.arg;var g=c.queryMap;var d,f;for(d in g){f=g[d];this.model.set(d,f)}this.__fireEvent("beforeloadmodel")},__entercomplete:function(){this.__fireEvent("entercomplete")},__leave:function(){this.__fireEvent("leave")},fireEvent:function(c,d){c=c.replace(/^on/i,"");if(this.LIFECYCLE_PHASE[c]){throw new Error("ER: Reserve event cannot be fired manually.");return}this.__fireEvent(c,d)},__fireEvent:function(c,d){c=c.replace(/^on/i,"");eventHandler=this["on"+c];if(typeof eventHandler=="function"){eventHandler.call(this,d)}if(this.LIFECYCLE_PHASE[c]){eventHandler=b["on"+c];if(typeof eventHandler=="function"){eventHandler.call(this,d)}}}};baidu.inherits(b,er.AbstractAction);b.extend=function(d,g){var c,f=b.prototype;if(g){f=a[g];if(!f){f=new Function();f.prototype=d;baidu.inherits(f,b);a[g]=f;return}f=f.prototype}for(c in d){f[c]=d[c]}};return b}();er.extend={};er.extend.ui=function(){var b={};er.View.extend({render:function(){er.View.prototype.render.call(this);var f={};var c={};var d=this.model.getGUID();function g(k){var l;var n;var h;var m=k.id;for(l in k){n=k[l];if(typeof n=="string"&&n.indexOf("*")===0){h=n.substr(1);!f[h]&&(f[h]=[]);f[h].push(m+":"+l);!c[m]&&(c[m]=[]);c[m].push(l+":"+h);k[l]=er.context.get(h,{contextId:d})}}}this._dataControl=f;this._controlData=c;this._controlMap=b.adapter.init(baidu.g(this.target),this.UI_PROP,g)},repaint:function(m){m=m||this._controlMap;var o;var g;var n;var k;var p;var d;var h;var l;var c=b.adapter;var f=this._controlData;for(o in m){g=m[o];n=f[o];if(g&&n){for(h=0,l=n.length;h<l;h++){k=n[h].split(":");c.setControlAttribute(g,k[0],this.model.get(k[1]))}c.repaint(g)}}},repaintByModel:function(g,k){var f=this._dataControl[g];var m=b.adapter;var d;var h;var c;var l;if(f){for(h=0,c=f.length;h<c;h++){d=f[h].split(":");l=m.get(d[0]);m.setControlAttribute(l,d[1],k);m.repaint(l)}}},getInputList:function(){var g=this._controlMap,d=[],c,f;for(c in g){f=g[c];if(b.adapter.isInput(f)){d.push(f)}}return d},clear:function(){b.adapter.uninit(this._controlMap);this._controlMap=null;this._dataControl=null;this._controlData=null;er.View.prototype.clear.call(this)}});er.Action.extend({MODEL_SILENCE:true,__removeModelChangeListener:function(){if(this._modelChangeListener&&this.model){this.model.removeChangeListener(this._modelChangeListener)}},__addModelChangeListener:function(){if(this.MODEL_SILENCE){return}if(!this._modelChangeListener){this._modelChangeListener=this.__getModelChangeListener()}this.model.addChangeListener(this._modelChangeListener)},__getModelChangeListener:function(){var c=this;return function(d){c.view.repaintByModel(d.name,d.newValue)}},__enter:function(){this.__removeModelChangeListener();this.__fireEvent("enter")},__entercomplete:function(){this.__fireEvent("entercomplete");this.__addModelChangeListener()},__leave:function(){this.__fireEvent("leave");this.__removeModelChangeListener()}});var a={init:function(c,f,d){return esui.init(c,f,d)},uninit:function(d){if(d){for(var c in d){b.adapter.dispose(c);delete d[c]}}},get:function(c){return esui.get(c)},dispose:function(c){esui.dispose(c)},validate:function(c){if(c instanceof esui.InputControl){return c.validate()}return true},validateError:function(d,c){},isInput:function(c){return c instanceof esui.InputControl},isInputBox:function(c){return c instanceof esui.BoxControl},isDisabled:function(c){if(c){return c.isDisabled()}return false},isReadOnly:function(c){return c.isReadOnly()},getInputName:function(c){return c.getName()},setControlAttribute:function(f,c,d){f[c]=d},repaint:function(c){c.render()},disable:function(c){c.disable()},enable:function(c){c.enable()}};b.adapter=a;return b}();er.extend.actionEnhance=(function(){var b=(function(){var c={};return{get:function(d){return c[d]||null},set:function(f,d){c[f]=d}}})();var a={getQueryStringByModel:function(d){var c=d||this.MODEL_QUERY_MAP;return this.model.getQueryString(c)},refresh:function(g){g=g||{};var h,c,l=this.arg.path,f=this.STATE_MAP,d=[],k;for(h in f){k=this.model.get(h);if(!er._util.hasValue(k)){k=""}d.push(h+"="+encodeURIComponent(k))}for(h in g){c=g[h];if(typeof c=="string"){k=this.model.get(c);if(!er._util.hasValue(k)){k=""}d.push(h+"="+encodeURIComponent(k))}}er.locator.redirect(this.arg.path+"~"+d.join("&"),{enforce:true})},reload:function(){this.leave();this.enter(this.arg)},resetState:function(f){var c=this.STATE_MAP||{};var d;if(!f){for(f in c){this.model.set(f,c[f])}}else{d=c[f];if(er._util.hasValue(d)){this.model.set(f,d)}}},back:function(){var c=this.arg,d=c&&c.referer;if(c.type!="main"){return}if(!d||this.USE_BACK_LOCATION){d=this.BACK_LOCATION}er.locator.redirect(d)},__beforeloadmodel:function(){var m=this.arg;var n=m.path;var h=m.queryMap;var g=this.STATE_MAP||{};var f=b.get(n)||{};var d=this.IGNORE_STATE||(h&&h.ignoreState);var l,k;var c={};if(!d){for(l in g){k=h[l];if(!er._util.hasValue(k)){k=f[l];if(!er._util.hasValue(k)){k=g[l]}}c[l]=k;this.model.set(l,k)}b.set(n,c)}this.__fireEvent("beforeloadmodel")}};er.Action.extend(a);return a})();er.extend.actionLikeForm=function(){var b=er.extend.ui;var a={validateForm:function(h){var k=true,g=h||this.view.getInputList(),f,c,d;for(f=0,c=g.length;f<c;f++){d=g[f];if(b.adapter.isDisabled(d)){continue}if(!b.adapter.validate(d)){k=false}}return k},getFormCanceler:function(){var c=this;return function(){c.back()}},getSubmitFinisher:function(){var c=this;return function(m){var l=c.view.getInputList(),d=l.length,h,f,k,g;if(m.status!=0){k=m.statusInfo.field;for(h=0;h<d;h++){f=l[h];g=k[b.adapter.getInputName(f)];if(g){b.adapter.validateError(f,g)}}return}if(!c.onsubmitfinished||c.onsubmitfinished(m)!==false){c.back()}}},getQueryStringByForm:function(f,k){var q=k||this.INPUT_QUERY_MAP||{},g=f||this.view.getInputList(),h={},c=b.adapter,l,m,o,n,p,d,r=[];for(l=0,m=g.length;l<m;l++){o=g[l];if(c.isInput(o)&&!c.isDisabled(o)){n=c.getInputName(o);if(n){if(h[n]){continue}h[n]=1;n=q[n]||n;if(c.isInputBox(o)){p=o.getGroup().getValue().join(",")}else{p=o.getValue()}r.push(n+"="+encodeURIComponent(p))}else{if("function"==typeof o.getQueryString){d=o.getQueryString();if("string"==typeof d){r.push(d)}}}}}return r.join("&")}};er.Action.extend(a);return a}();var esui={};esui.validator={};esui.validator.ValidityState=function(a){this.message=a.message;this.state=a.state};esui.validator.ValidityState.prototype={getMessage:function(){return this.message||""},setMessage:function(a){this.message=a;this.state=!!a},getState:function(){return !!this.state},setState:function(a){this.state=!!a}};esui.validator.Rule=function(){var a={};function b(c){this.name=c.name;this.check=c.check;this.errorMessage=c.errorMessage}b.prototype={getName:function(){return this.name},checkValidity:function(g){var d=g.getValue();var f=this.check(d,g);var c="";if(!f){c=this.errorMessage.replace(/\x24\{([a-z0-9_-]+)\}/g,function(k,h){return g[h]||""})}return new esui.validator.ValidityState({state:f,message:c})}};b.register=function(c,d){a[c]=d};b.get=function(d,f){var c=a[d];if(c){return new c(f)}return null};return b}();esui.validator.Validity=function(){this._states=[];this._customState=new esui.validator.ValidityState({state:true});this._stateMap={}};esui.validator.Validity.prototype={addState:function(a,b){if(b instanceof esui.validator.ValidityState){this._states.push(b);this._stateMap[a]=b}},getCustomMessage:function(){return this._customState.getMessage()},setCustomMessage:function(a){this._customState.setMessage(a)},getStateList:function(){var a=this._states.slice(0);a.push(this._customState);return a},isValid:function(){var b=this.getStateList();var a=b.length;while(a--){if(!b[a].getState()){return false}}return true},getState:function(a){return this._stateMap[a]||null}};esui.validator.MaxLengthRule=function(a){a=a||{};a.errorMessage&&(this.errorMessage=a.errorMessage)};esui.validator.MaxLengthRule.prototype={errorMessage:"${title}长度不能超过${maxlength}个字符",getName:function(){return"maxlength"},check:function(b,c){var a=c.maxlength;return b.length<=a}};baidu.inherits(esui.validator.MaxLengthRule,esui.validator.Rule);esui.validator.Rule.register("maxlength",esui.validator.MaxLengthRule);esui.validator.RequiredRule=function(a){a=a||{};a.errorMessage&&(this.errorMessage=a.errorMessage)};esui.validator.RequiredRule.prototype={errorMessage:"${title}不能为空",getName:function(){return"required"},check:function(a){return a.length>0}};baidu.inherits(esui.validator.RequiredRule,esui.validator.Rule);esui.validator.Rule.register("required",esui.validator.RequiredRule);esui.validator.MaxValueRule=function(a){a=a||{};a.errorMessage&&(this.errorMessage=a.errorMessage)};esui.validator.MaxValueRule.prototype={errorMessage:"${title}不能大于${max}",getName:function(){return"max"},check:function(b,c){var a;if(c.getValueAsNumber){a=c.getValueAsNumber();return a<=c.max}return true}};baidu.inherits(esui.validator.MaxValueRule,esui.validator.Rule);esui.validator.Rule.register("max",esui.validator.MaxValueRule);esui.validator.MinValueRule=function(a){a=a||{};a.errorMessage&&(this.errorMessage=a.errorMessage)};esui.validator.MinValueRule.prototype={errorMessage:"${title}不能小于${max}",getName:function(){return"min"},check:function(b,c){var a;if(c.getValueAsNumber){a=c.getValueAsNumber();return a>=c.max}return true}};baidu.inherits(esui.validator.MinValueRule,esui.validator.Rule);esui.validator.Rule.register("min",esui.validator.MinValueRule);esui.validator.PatternRule=function(a){a=a||{};a.errorMessage&&(this.errorMessage=a.errorMessage)};esui.validator.PatternRule.prototype={errorMessage:"${title}不符合规则",getName:function(){return"pattern"},check:function(b,c){var a=c.pattern;if(a&&typeof a=="string"){a=new RegExp(a)}if(a instanceof RegExp){return a.test(b)}return true}};baidu.inherits(esui.validator.PatternRule,esui.validator.Rule);esui.validator.Rule.register("pattern",esui.validator.PatternRule);esui.config={UI_ATTRIBUTE:"ui"};esui.util=function(){var b={};var c={};var a=0;return{init:function(f,A,v){A=A||{};f=f||document.body;var o=f.getElementsByTagName("*");var h=esui.config.UI_ATTRIBUTE||"ui";var y=[];var s,n,x,k;var t,p,r,q,l;var u,w,z,g,d={};for(u=0,w=o.length;u<w;u++){y.push(o[u])}for(u=0,w=y.length;u<w;u++){g=y[u];n=g.getAttribute(h);if(n){s={};x=n.split(/;\s*/);k=x.length;while(k--){r=x[k];if(!r){continue}q=r.split(/\s*:/);t=q[0];p=q[1];s[t]=p}s.main=g;var m=s.id;if(!m){m=esui.util.getGUID();s.id=m}l=A[m];for(z in l){s[z]=s[z]||l[z]}if("function"==typeof v){v(s)}d[m]=esui.util.create(s.type,s);g.setAttribute(h,"")}}return d},get:function(d){return b[d]||null},create:function(g,d){d=d||{};var f=c[g]||esui[g],k=d.id,h=null;if(k&&f){h=new f(d);if(d.main){h.render()}}return h},dispose:function(f){if(f){var g=f;var h;if(typeof f=="string"){g=b[f]}if(g&&g instanceof esui.Control){h=g.id;g.__dispose();delete b[h]}}else{for(var d in b){esui.util.dispose(d)}}},register:function(f,d){c[f]=d},validate:new Function(),getControlByDom:function(f){if(!f){return}var d;if((d=f.getAttribute("data-control"))){return esui.util.get(d)}return null},getControlsByContainer:function(g){var k=g.getElementsByTagName("*");var f=k.length;var h=0;var l;var d=[];for(;h<f;h++){l=k[h].getAttribute("data-control");if(l){d.push(esui.util.get(l))}}return d},setDisabledByContainer:function(f,h){var g=esui.util.getControlsByContainer(f);var d=g.length;var k;while(d--){k=g[d];if(k instanceof esui.Control){k.setDisabled(h)}}},construct:function(d){b[d.id]=d;d.__construct()},hasValue:function(d){return typeof d!="undefined"&&d!==null},format:function(h,f){h=String(h);if("undefined"!=typeof f){if("[object Object]"==Object.prototype.toString.call(f)){return h.replace(/\$\{(.+?)\}/g,function(k,m){var l=f[m];if("function"==typeof l){l=l(m)}return("undefined"==typeof l?"":l)})}else{var g=Array.prototype.slice.call(arguments,1);var d=g.length;return h.replace(/\{(\d+)\}/g,function(l,k){k=parseInt(k,10);return(k>=d?l:g[k])})}}return h},getGUID:function(){return"_innerui_"+(a++)}}}();baidu.on(window,"unload",function(){esui.util.dispose()});esui.get=esui.util.get;esui.init=esui.util.init;esui.create=esui.util.create;esui.dispose=esui.util.dispose;esui.Control=function(a){this._state={};this.__initOptions(a);if(!this.id){this.id=esui.util.getGUID()}esui.util.construct(this)};esui.Control.prototype={render:function(){var a=this.main;if(!this._isRendered){!a.id&&(a.id=this.__getId());a.setAttribute("data-control",this.id);baidu.addClass(a,this.__getClass());if(this._autoState){this.__initStateChanger()}this._isRendered=true}},appendTo:function(a){a=a||document.body;a.appendChild(this.main);this.render()},disable:function(){this.addState("disabled");this.disabled=true},enable:function(){this.removeState("disabled");this.disabled=false},isDisabled:function(){return this.getState("disabled")},setDisabled:function(a){this[a?"disable":"enable"]()},addState:function(a){this._state[a]=1;baidu.addClass(this.main,this.__getClass(a))},removeState:function(a){delete this._state[a];baidu.removeClass(this.main,this.__getClass(a))},getState:function(a){return !!this._state[a]},dispose:function(){esui.util.dispose(this)},__construct:function(){if(!this.main){this.main=this.__createMain()}this._controlMap={}},__dispose:function(){var c=this._controlMap,a=this.main;if(c){for(var b in c){esui.util.dispose(c[b].id);delete c[b]}}this._controlMap=null;if(a){a.onclick=null;a.onmouseover=null;a.onmouseout=null;a.onmousedown=null;a.onmouseup=null}this.main=null},__initOptions:function(b){for(var a in b){this[a]=b[a]}},__initOption:function(a,d,c){var b=esui.util.hasValue;if(!b(this[a])){if("string"==typeof c){this[a]=this.constructor[c]}if(!b(this[a])&&b(d)){this[a]=d}}},__createMain:function(){return document.createElement("div")},__getClass:function(c){var h=this,g=h._type.toLowerCase(),k=(c?"-"+c:""),f=[("ui-"+g+k)],b=h.skin,d,a;if(b&&typeof b=="string"){b=h.skin=b.split(/\s+/)}if(b instanceof Array){for(d=0,a=b.length;d<a;d++){f.push("skin-"+g+"-"+b[d]+k)}}return f.join(" ")},__getId:function(a){var b="ctrl"+this._type+this.id;if(a){return b+a}return b},__getStrRef:function(){return"esui.util.get('"+this.id+"')"},__getStrCall:function(d){var b=arguments.length,f=[],c,a;if(b>1){for(c=1;c<b;c++){a=arguments[c];if(typeof a=="string"){a="'"+a+"'"}f.push(a)}}return esui.util.format("{0}.{1}({2});",this.__getStrRef(),d,f.join(","))},__initStateChanger:function(){var b=this,a=b.main;b._state={};if(a){a.onmouseover=b.__getMainOverHandler();a.onmouseout=b.__getMainOutHandler();a.onmousedown=b.__getMainDownHandler();a.onmouseup=b.__getMainUpHandler()}},__getMainOverHandler:function(){var a=this;return function(){if(!a._state.disabled){a.addState("hover")}}},__getMainOutHandler:function(){var a=this;return function(){if(!a._state.disabled){a.removeState("hover");a.removeState("press")}}},__getMainDownHandler:function(){var a=this;return function(){if(!a._state.disabled){a.addState("press")}}},__getMainUpHandler:function(){var a=this;return function(){if(!a._state.disabled){a.removeState("press")}}},_STATES:["hover","press","active","disabled","readonly","focus"],validate:function(){if(!this.rule){return !!1}return esui.util.validate(this,this.rule)}};esui.Button=function(a){this._type="button";this._autoState=1;esui.Control.call(this,a)};esui.Button.prototype={_tplButton:'<div id="{2}" class="{1}">{0}</div>',onclick:new Function(),_getMainHtml:function(){var a=this;return esui.util.format(a._tplButton,a.content||"&nbsp;",a.__getClass("label"),a.__getId("label"))},setActive:function(b){var a="active";if(b){this.setState(a)}else{this.removeState(a)}},render:function(){var d=this;var a=d.main;var c;var b;if(!d._isRendered){if(!d.content){d.content=a.innerHTML}if(a.tagName=="BUTTON"){c=a.parentNode;b=document.createElement("div");c.insertBefore(b,a);c.removeChild(a);a=d.main=b}esui.Control.prototype.render.call(d);a.innerHTML=d._getMainHtml();a.onclick=d._getHandlerClick();d._isRendered=true}d.width&&(a.style.width=d.width+"px");d.setDisabled(d.disabled)},_getHandlerClick:function(){var a=this;return function(b){if(!a.isDisabled()){if(false===a.onclick()){baidu.event.stop(b||window.event)}}}},setContent:function(a){baidu.g(this.__getId("label")).innerHTML=a},__dispose:function(){this.onclick=null;esui.Control.prototype.__dispose.call(this)}};baidu.inherits(esui.Button,esui.Control);esui.InputControl=function(b){esui.Control.call(this,b);this._validatorMessageClass="ui-validator-message";function a(h){if(!h){return}if(typeof h=="string"){g.push(esui.validator.Rule.get(h))}else{if(h instanceof esui.validator.Rule){g.push(h)}else{if(typeof h=="object"){g.push(new esui.validator.Rule({name:h.name,errorMessage:h.errorMessage,check:h.check}))}}}}var d=this.rule;var g=[];this._rules=g;if(typeof d=="string"){d=d.split(",")}if(d instanceof Array){var f=d.length;var c;for(c=0;c<f;c++){a(d[c])}}else{a(d)}};esui.InputControl.prototype={render:function(){this.name=this.main.getAttribute("name");esui.Control.prototype.render.call(this)},getName:function(){return this.name},getValue:function(){return this.value},setValue:function(a){this.value=a},__createInput:function(c){var d=c.tagName;var b=c.name;var f=c.type;var g=d;var a;b&&(g="<"+d+' name="'+this.name+'">');a=document.createElement(g);if(!a){a=document.createElement(d);b&&(a.name=b)}f&&(a.type=f);return a},onbeforevalidate:new Function(),onaftervalidate:new Function(),oninvalid:new Function(),__validate:function(c){var d,a,g;var h=this._rules;var f;var b=new esui.validator.Validity();!c&&this.onbeforevalidate(b);for(d=0,a=h.length;d<a;d++){g=h[d];b.addState(g.getName(),g.checkValidity(this))}!c&&this.onaftervalidate(b);f=b.isValid();if(!f){this.oninvalid(b)}!c&&this.showValidity(b);return f},checkValidity:function(){return this.__validate(true)},validate:function(){return this.__validate()},showValidity:function(g){var k=g.isValid();var c=this.__getValidMsgDom();var l=g.getStateList();var h=g.getCustomMessage();var b=[];var d,f,a;if(k){c.innerHTML="";baidu.hide(c)}else{if(h){c.innerHTML=h}else{for(d=0,f=l.length;d<f-1;d++){a=l[d];!a.getState()&&b.push(a.getMessage())}c.innerHTML=b.join(",")}baidu.show(c)}},__getValidMsgDom:function(){var c=this.__getId("validatemessage");var b=baidu.g(c);var a;if(!b){b=document.createElement("span");b.id=c;b.className=this._validatorMessageClass;a=this.main.parentNode;a&&a.insertBefore(b,this.main.nextSibling)}return b}};baidu.inherits(esui.InputControl,esui.Control);esui.Layer=function(a){esui.Control.call(this,a);this._type=this.retype||"layer";this._autoState=0;this.top=0;this.left=0;this.autoHide=this.autoHide||""};esui.Layer.prototype={render:function(){var a=this.main;esui.Control.prototype.render.call(this);a.style.position="absolute";a.style.left=this._HIDE_POS;a.style.top=this._HIDE_POS;this.zIndex&&(a.style.zIndex=this.zIndex);this.width&&(a.style.width=this.width+"px");this.height&&(a.style.height=this.height+"px");if(this._autoHideInited){return}switch(this.autoHide.toLowerCase()){case"click":this._clickHandler=this._getClickHider();baidu.on(document,"click",this._clickHandler);break;case"out":a.onmouseout=this._getOutHandler();a.onmouseover=this._getOverHandler();break}this._autoHideInited=1},__getClass:function(a){a=a||this.partName;return esui.Control.prototype.__getClass.call(this,a)},_getOverHandler:function(){var a=this;return function(){a.show()}},_getOutHandler:function(){var a=this;return function(){a.onhide();a.hide()}},onhide:new Function(),_getClickHider:function(){var a=this;return function(c){if(a._isHidePrevent){a._isHidePrevent=0;return}var b=baidu.event.getTarget(c);while(b&&b!=document.body){if(b==a.main){return}b=b.parentNode}a.onhide();a.hide()}},_preventHide:function(){this._isHidePrevent=1},_HIDE_POS:"-10000px",setWidth:function(a){this.main.style.width=a+"px";this.width=a},getWidth:function(){return this.width||this.main.offsetWidth},setHeight:function(a){this.main.style.height=a+"px";this.height=a},getHeight:function(){return this.height||this.main.offsetHeight},show:function(b,a){this._isShow=1;this.left=b||this.left;this.top=a||this.top;this.main.style.left=this.left+"px";this.main.style.top=this.top+"px"},hide:function(){this._isShow=0;this.main.style.left=this._HIDE_POS;this.main.style.top=this._HIDE_POS},isShow:function(){return !!this._isShow},__dispose:function(){var a=this.main;if(this._clickHandler){baidu.un(document,"click",this._clickHandler);this._clickHandler=null}this.onhide=null;esui.Control.prototype.__dispose.call(this);a.innerHTML="";a.parentNode&&a.parentNode.removeChild(a)}};baidu.inherits(esui.Layer,esui.Control);esui.MonthView=function(b){this._type="month";this._autoState=0;esui.Control.call(this,b);this.now=this.now||esui.config.NOW||new Date();var a=this.valueAsDate||this.now;this.year=parseInt(this.year,10)||a.getFullYear();this.month=parseInt(this.month,10)||a.getMonth()};esui.MonthView.prototype={setView:function(a){this.month=a.getMonth();this.year=a.getFullYear();this.render()},getValueAsDate:function(){return this.valueAsDate||null},setValueAsDate:function(a){if(a instanceof Date){var b=this;b._resetSelected();b.valueAsDate=a;b._paintSelected()}},render:function(){esui.Control.prototype.render.call(this);this.main.innerHTML=this._getHtml();this.setValueAsDate(this.valueAsDate)},_tplItem:'<td year="{1}" month="{2}" date="{0}" class="{4}" style="{5}" id="{3}" onmouseover="{6}" onmouseout="{7}" onclick="{8}">{0}</td>',_tplHead:'<table border="0" cellpadding="0" cellspacing="0" class="{0}"><thead><tr>',TITLE_WORDS:["一","二","三","四","五","六","日"],_getHtml:function(){var u=this,o=[esui.util.format(u._tplHead,u.__getClass("main"))],l=0,p=u.year,t=u.month,b=new Date(p,t,1),a=new Date(p,t+1,1),s=1-(b.getDay()+6)%7,v=u.TITLE_WORDS,m=v.length,r,q,d=u.__getClass("over"),n=u.__getClass("item-virtual"),c=u.__getClass("item"),k,f,g="baidu.addClass(this, '"+d+"')",h="baidu.removeClass(this, '"+d+"')";for(r=0;r<m;r++){o.push('<td class="'+u.__getClass("title")+'">'+v[r]+"</td>")}o.push("</tr></thead><tbody><tr>");b.setDate(s);while(a-b>0||l%7!==0){if(s>0&&l%7===0){o.push("</tr><tr>")}q=(b.getMonth()!=t);k=c;f=u._getCustomDateValue("customClass",b);q&&(k+=" "+n);f&&(k+=" "+f);o.push(esui.util.format(u._tplItem,b.getDate(),b.getFullYear(),b.getMonth(),u._getItemId(b),k,u._getCustomDateValue("customStyle",b),(q?"":g),(q?"":h),(q?"":u.__getStrRef()+"._selectByItem(this)")));b=new Date(p,t,++s);l++}o.push("</tr></tbody></table>");return o.join("")},_getCustomDateValue:function(b,a){var c=this[b];var d=typeof c;switch(d){case"string":return c;break;case"function":return c.call(this,a)||"";break}return""},_selectByItem:function(c){var a=c.getAttribute("date"),d=c.getAttribute("month"),b=c.getAttribute("year");this._change(new Date(b,d,a))},onchange:new Function(),_change:function(a){if(!a){return}if(this.onchange(a)!==false){this.setValueAsDate(a)}},_resetSelected:function(){var b=this;if(b.valueAsDate){var a=baidu.g(b._getItemId(b.valueAsDate));a&&baidu.removeClass(a,b.__getClass("selected"));b.valueAsDate=null}},_paintSelected:function(){var c=this;if(c.valueAsDate){var a=c.valueAsDate;var b=baidu.g(c._getItemId(a));b&&baidu.addClass(b,c.__getClass("selected"))}},_getItemId:function(a){return this.__getId(a.getFullYear()+"-"+a.getMonth()+"-"+a.getDate())}};baidu.inherits(esui.MonthView,esui.Control);esui.Select=function(a){this._type="select";this._autoState=1;esui.InputControl.call(this,a);this.__initOption("maxItem",null,"MAX_ITEM");this.__initOption("emptyText",null,"EMPTY_TEXT");this.emptyLabel=esui.util.format(this._tplLabel,this.__getClass("text-def"),this.emptyText);this.datasource=this.datasource||[]};esui.Select.EMPTY_TEXT="请选择";esui.Select.MAX_ITEM=8;esui.Select.prototype={disable:function(){this.hideLayer();esui.InputControl.prototype.disable.call(this)},enable:function(){this.hideLayer();esui.InputControl.prototype.enable.call(this)},render:function(){var b=this,a=b.main,c=b.value;if(!b._isRendered){esui.InputControl.prototype.render.call(b);a.innerHTML=b._getMainHtml();a.onclick=b._getMainClickHandler();b._isRendered=1}b._renderLayer();b.width&&(a.style.width=b.width+"px");if(!esui.util.hasValue(b.value)&&esui.util.hasValue(b.selectedIndex)){b.setSelectedIndex(b.selectedIndex)}else{b.setValue(c)}b.setReadOnly(!!b.readOnly);b.setDisabled(!!b.disabled)},_tplMain:'<div id="{0}" class="{1}" value="" style="width:{3}px"><nobr>{2}</nobr></div><div class="{4}" arrow="1"></div>',_tplLabel:'<span class="{0}">{1}</span>',_getMainHtml:function(){var a=this;return esui.util.format(a._tplMain,a.__getId("text"),a.__getClass("text"),a.staticText||a.emptyLabel,a.width-20,a.__getClass("arrow"))},_renderLayer:function(){var h=this,f=h.__getId("layer"),g=h.getLayer(),b=h.datasource.length,d=h.maxItem,a,c,k;if(!g){g=esui.util.create("Layer",{id:f,autoHide:"click",retype:h._type,partName:"layer",skin:h.skin});g.appendTo();h._controlMap.layer=g;g.onhide=h._getLayerHideHandler()}a=g.main;a.style.width="auto";a.style.height="auto";a.innerHTML=h._getLayerHtml();c=a.offsetWidth;if(b>d){k=a.firstChild.offsetHeight;a.style.height=d*(k+1)+"px";c+=17}if(c<h.width){g.setWidth(h.width)}else{g.setWidth(c)}},_getLayerHideHandler:function(){var a=this;return function(){a.removeState("active")}},_tplItem:'<div id="{0}" {10} class="{1}" index="{2}" value="{3}" dis="{4}" onmouseover="{6}" onmouseout="{7}" onclick="{8}">{9}<nobr>{5}</nobr></div>',_tplIcon:'<span class="{0}"></span>',_getLayerHtml:function(){var h=this,a=h.datasource,d=0,g=a.length,f=[],k=h.__getStrRef(),p=h.__getClass("item"),m,c,o,l,b,n;for(;d<g;d++){m=p;c=0;o=a[d];b="";n="";if(o.icon){l=h.__getClass("icon-"+o.icon);b=esui.util.format(h._tplIcon,l)}if(o.style){m+=" "+p+"-"+o.style}if(o.disabled){c=1;m+=" "+p+"-disabled"}if(o.value==h.value){m+=" "+h.__getClass("item-selected")}if(h.titleTip){n='title="'+o.name+b+'"'}f.push(esui.util.format(h._tplItem,h.__getId("item")+d,m,d,o.value,c,o.name,k+"._itemOverHandler(this)",k+"._itemOutHandler(this)",k+"._itemClickHandler(this)",b,n))}return f.join("")},setReadOnly:function(a){this.readOnly=a=!!a;a?this.addState("readonly"):this.removeState("readonly")},_getMainClickHandler:function(){var a=this;return function(c){c=c||window.event;var b=c.srcElement||c.target;if(!a.readOnly&&!a.isDisabled()){if(b.getAttribute("arrow")||a.onmainclick()!==false){a.getLayer()._preventHide();a.toggleLayer()}}}},onmainclick:new Function(),showLayer:function(){var f=this,b=f.main,l=baidu.dom.getPosition(b),c=f.getLayer(),h=c.main,k=h.offsetHeight,a=b.offsetHeight,g=baidu.page.getViewHeight(),m=l.top+a+k-baidu.page.getScrollTop(),d;if(g>m){d=l.top+a-1}else{d=l.top-k+1}c.show(l.left,d);f.addState("active")},hideLayer:function(){this.getLayer().hide();this.removeState("active")},toggleLayer:function(){var a=this;if(a.getLayer().isShow()){a.hideLayer()}else{a.showLayer()}},getLayer:function(){return this._controlMap.layer},_getCur:function(){return baidu.g(this.__getId("text"))},getValue:function(){if(esui.util.hasValue(this.value)){return this.value}return""},setValue:function(h){var g=this,d=g.getLayer().main,b=d.getElementsByTagName("div"),a,c,f;if(esui.util.hasValue(h)){for(c=0,a=b.length;c<a;c++){f=b[c].getAttribute("value");if(f==h){g.setSelectedIndex(c);return}}}g.value=null;g.setSelectedIndex(-1)},setSelectedIndex:function(a,d){var b=this.datasource[a],c;if(!b){c=null}else{c=b.value}this.selectedIndex=a;this.value=c;if(d===true&&this.onchange(c,b)===false){return}this._repaint()},onchange:new Function(),_repaint:function(){var c=this.datasource[this.selectedIndex],d=this.staticText||(c?c.name:this.emptyLabel),a=this.staticText||(c?c.name:this.emptyText),b=this._getCur();if(this.titleTip){b.title=a}b.innerHTML="<nobr>"+d+"</nobr>";this._repaintLayer()},_repaintLayer:function(){var c=this,a=c.selectedIndex,d=c.getLayer().main.firstChild,b=c.__getClass("item-selected");while(d){if(d.getAttribute("index")==a){baidu.addClass(d,b)}else{baidu.removeClass(d,b)}d=d.nextSibling}},_itemClickHandler:function(c){var a=c.getAttribute("index");var b=c.getAttribute("dis");if(b==1){return}this.hideLayer();this.setSelectedIndex(parseInt(a,10),true)},_itemOverHandler:function(b){if(b.getAttribute("dis")==1){return}var a=b.getAttribute("index");baidu.addClass(this.__getId("item")+a,this.__getClass("item-hover"))},_itemOutHandler:function(b){var a=b.getAttribute("index");baidu.removeClass(this.__getId("item")+a,this.__getClass("item-hover"))},__dispose:function(){this.onchange=null;esui.InputControl.prototype.__dispose.call(this)}};baidu.inherits(esui.Select,esui.InputControl);esui.Calendar=function(c){this._type="cal";this._autoState=1;esui.InputControl.call(this,c);this.now=this.now||esui.config.NOW||new Date();var b=this.now;b=this.now=new Date(b.getFullYear(),b.getMonth(),b.getDate());this.__initOption("dateFormat",null,"DATE_FORMAT");this.__initOption("valueFormat",null,"VALUE_FORMAT");this.__initOption("range",null,"RANGE");var a;if(this.value){a=baidu.date.parse(this.value)}if(a){this.valueAsDate=a}else{this.valueAsDate=this.valueAsDate||new Date(b.getTime())}a=this.valueAsDate;this.month=parseInt(this.month,10);if(isNaN(this.month)){this.month=a.getMonth()}this.year=parseInt(this.year,10)||a.getFullYear()};esui.Calendar.DATE_FORMAT="yyyy-MM-dd";esui.Calendar.VALUE_FORMAT="yyyy-MM-dd";esui.Calendar.RANGE={begin:new Date(2001,8,3),end:new Date(2046,10,4)};esui.Calendar.prototype={render:function(){var b=this;var a=b.main;if(!b._isRendered){esui.InputControl.prototype.render.call(b);a.innerHTML=b._getMainHtml();a.onclick=b._getMainClickHandler();b._renderLayer();b._isRendered=1}b.setValueAsDate(b.valueAsDate)},getValue:function(){if(this.valueAsDate){return baidu.date.format(this.valueAsDate,this.valueFormat)}return""},setValue:function(b){var a=baidu.date.parse(b);a&&(this.setValueAsDate(a))},getValueAsDate:function(){return this.valueAsDate||null},setValueAsDate:function(a){if(!a){return}var b=this;b.valueAsDate=a;b.getLayer()._controlMap.monthview.setValueAsDate(a);b.month=a.getMonth();b.year=a.getFullYear();b._repaintMonthView();baidu.g(b.__getId("text")).innerHTML=baidu.date.format(a,b.dateFormat)},_getMainClickHandler:function(){var a=this;return function(b){if(!a.isDisabled()){a.getLayer()._preventHide();a.toggleLayer()}}},toggleLayer:function(){var a=this;if(this.getLayer().isShow()){a.hideLayer()}else{a.showLayer()}},hideLayer:function(){this.getLayer().hide();this.removeState("active")},showLayer:function(){var f=this,a=f.main,k=baidu.dom.getPosition(a),b=baidu.page.getWidth(),c=f.getLayer(),d=c.main.offsetWidth,h=k.top+a.offsetHeight,g;if(b<(k.left+d)){g=k.left+a.offsetWidth-d}else{g=k.left}c.show(g,h);this.addState("active")},_getMainHtml:function(){var c=this,a="text",b=c.getValueAsDate();return esui.util.format(c._tplMain,c.__getId(a),c.__getClass(a),c.__getClass("arrow"),baidu.date.format(b,c.dateFormat))},_tplMain:'<div class="{1}" id="{0}">{3}</div><div class="{2}"></div>',_tplLayer:'<div class="{0}"><table><tr><td width="40" align="left"><div ui="type:Button;id:{1};skin:back"></div></td><td><div ui="type:Select;id:{3};width:55"</td><td><div ui="type:Select;id:{4};width:40"</td><td width="40" align="right"><div ui="type:Button;id:{2};skin:forward"></div></td></tr></table></div><div ui="id:{5};type:MonthView"></div>',_renderLayer:function(){var c=this,a=c.__getId("layer"),b=esui.util.create("Layer",{id:a,autoHide:"click",retype:c._type,partName:"layer",skin:c.skin});c._controlMap.layer=b;b.appendTo();b.onhide=c._getLayerHideHandler();b.main.innerHTML=esui.util.format(c._tplLayer,c.__getClass("layer-head"),c.__getId("prevmonth"),c.__getId("nextmonth"),c.__getId("year"),c.__getId("month"),c.__getId("monthview"));c._initLayerUI()},_initLayerUI:function(){var d=this.__getId("prevmonth");var f=this.__getId("nextmonth");var l=this.__getId("year");var k=this.__getId("month");var h=this.__getId("monthview");var g=this.getLayer();var a={};var c=g._controlMap;var b;a[h]={valueAsDate:this.valueAsDate,customClass:this._getMVCustomClass()};a[k]={datasource:this._getMonthOptions(this.year),value:this.month};a[l]={datasource:this._getYearOptions(),value:this.year};b=esui.util.init(g.main,a);d=b[d];f=b[f];l=b[l];k=b[k];h=b[h];c.prevMonth=d;c.nextMonth=f;c.year=l;c.month=k;c.monthview=h;l.onchange=this._getYearChangeHandler();k.onchange=this._getMonthChangeHandler();f.onclick=this._getMonthNexter();d.onclick=this._getMonthPrever();h.onchange=this._getMVChangeHandler()},_isInRange:function(b){var c=this.range.begin;var a=this.range.end;if((c&&b-c<0)||(a&&a-b<0)){return false}return true},_getMVChangeHandler:function(){var a=this;return function(b){if(!a._isInRange(b)){return false}if(a.onchange(b)!==false){a.value=b;a.hideLayer();var c=baidu.g(a.__getId("text"));c.innerHTML=baidu.date.format(b,a.dateFormat)}else{return false}}},onchange:new Function(),_getMVCustomClass:function(){var a=this;return function(b){if(!a._isInRange(b)){return this.__getClass("item-out")}return""}},_getMonthNexter:function(){var a=this;return function(){a._repaintMonthView(a.year,a.month+1)}},_getMonthPrever:function(){var a=this;return function(){a._repaintMonthView(a.year,a.month-1)}},_getYearChangeHandler:function(){var a=this;return function(b){a.year=b;a._repaintMonthView(b,a.month);a.getLayer()._preventHide()}},_getMonthChangeHandler:function(){var a=this;return function(b){a._repaintMonthView(a.year,b);a.getLayer()._preventHide()}},getLayer:function(){return this._controlMap.layer},_getLayerHideHandler:function(){var a=this;return function(){a.removeState("active")}},_getYearOptions:function(){var c=this.range,a=[],b=c.end.getFullYear(),d=c.begin.getFullYear();for(;d<=b;d++){a.push({name:d,value:d})}return a},_getMonthOptions:function(f){var c=this.range,b=[],d=0,a=11;if(f==c.begin.getFullYear()){d=c.begin.getMonth()}if(f==c.end.getFullYear()){a=c.end.getMonth()}for(;d<=a;d++){b.push({name:(d+1),value:d})}return b},_repaintMonthView:function(l,h){if(!esui.util.hasValue(l)){l=this.year}if(!esui.util.hasValue(h)){h=this.month}var k=this,d=k.range,m=new Date(l,h,1),g=k.getLayer(),f=g._controlMap,b=f.monthview,o=d.begin.getFullYear()*12+d.begin.getMonth(),a=d.end.getFullYear()*12+d.end.getMonth(),n=l*12+h,c=f.month;h=m.getMonth();if(o-n>0){h+=(o-n)}else{if(n-a>0){h-=(n-a)}}m.setMonth(h);k.month=m.getMonth();k.year=m.getFullYear();c.datasource=k._getMonthOptions(k.year);c.render();c.setValue(k.month);f.year.setValue(k.year);f.prevMonth.setDisabled((o>=n));f.nextMonth.setDisabled((a<=n));b.setView(m)},__dispose:function(){this.onchange=null;esui.InputControl.prototype.__dispose.call(this)}};baidu.inherits(esui.Calendar,esui.InputControl);esui.BoxGroup=function(a){this.name=a.name;this.type=a.type;this.control=a.control};esui.BoxGroup.prototype={getValue:function(){var g=this,b=g.getBoxList(),a=b.length,d=[],c=0,f;for(;c<a;c++){f=b[c];if(f.isChecked()){d.push(f.getValue())}}return d.join(",")},selectAll:function(){if(this.type!="checkbox"){return}var b=this.getBoxList(),a=b.length,c=0;for(;c<a;c++){b[c].setChecked(true)}},selectInverse:function(){if(this.type!="checkbox"){return}var b=this.getBoxList(),a=b.length,c=0,d;for(;c<a;c++){d=b[c];d.setChecked(!d.isChecked())}},getBoxList:function(){var h=this,a=h.name,k=h.type,m=[],l=h.control.main,c,f,b,g,d;while(l&&l.tagName!="FORM"&&l!=document.body){l=l.parentNode}c=l.getElementsByTagName("input");g=c.length;for(f=0;f<g;f++){b=c[f];d=esui.util.getControlByDom(b);if(d&&d instanceof esui.BoxControl&&d.getType()==k&&d.name==a){m.push(d)}}return m}};esui.BoxControl=function(a){this._autoState=1;esui.InputControl.call(this,a)};esui.BoxControl.prototype={onclick:new Function(),getType:function(){return this._type},setChecked:function(a){this.main.checked=!!a},isChecked:function(){return this.main.checked},disable:function(){this.main.disabled=true;this.disabled=true;esui.InputControl.prototype.disable.call(this)},enable:function(){this.main.disabled=false;this.disabled=false;esui.InputControl.prototype.enable.call(this)},setReadOnly:function(a){this.main.disabled=a;a?this.addState("readonly"):this.removeState("readonly")},getGroup:function(){return new esui.BoxGroup({name:this.name,type:this._type,control:this})},setValue:function(a){this.main.setAttribute("value",a)},getValue:function(){return this.main.getAttribute("value")||"on"},render:function(){var c=this,a=c.main,f=c.datasource,g,b,d;esui.InputControl.prototype.render.call(c);if(!c._mainClick){c._mainClick=c.__getClickHandler();a.onclick=c._mainClick}if(!c._label){b=document.createElement("label");b.className=c.__getClass("label");baidu.setAttr(b,"for",a.id);baidu.dom.insertAfter(b,a);c._label=b}else{b=c._label}g=c.title||a.title||c.getValue();b.innerHTML=baidu.encodeHTML(g);c.setDisabled(!!c.disabled);c.value&&c.setValue(c.value);d=c.getValue();switch(typeof f){case"string":case"number":c.setChecked(f==d);break;default:if(f instanceof Array){c.setChecked(baidu.array.contains(f,d))}break}},__getClickHandler:function(){var a=this;return function(b){if(!a.isDisabled()){a.onclick(b)}}},__dispose:function(){this.onclick=null;this._mainClick=null;this._label=null;esui.InputControl.prototype.__dispose.call(this)},__createMain:function(){return esui.InputControl.prototype.__createInput.call(this,{tagName:"input",name:this.name,type:this.type})}};baidu.inherits(esui.BoxControl,esui.InputControl);esui.CheckBox=function(a){this._type="checkbox";esui.BoxControl.call(this,a)};baidu.inherits(esui.CheckBox,esui.BoxControl);esui.Radio=function(a){this._type="radiobox";esui.BoxControl.call(this,a)};baidu.inherits(esui.Radio,esui.BoxControl);esui.Mask=(function(){var a="ui-mask";var d="ctrlMask";function f(m){var l=d+m,k=document.createElement("div");k.id=l;document.body.appendChild(k)}function h(l){var m=Math.max(document.documentElement.clientWidth,Math.max(document.body.scrollWidth,document.documentElement.scrollWidth)),k=Math.max(document.documentElement.clientHeight,Math.max(document.body.scrollHeight,document.documentElement.scrollHeight));l.style.width=m+"px";l.style.height=k+"px"}function g(k){return function(){h(c(k))}}function c(m){var l=d+m;var k=baidu.g(l);if(!k){f(m)}return baidu.g(l)}var b={};return{show:function(o,n){o=o||"0";var k=c(o),l=[];l.push(a);l.push(a+"-level-"+o);if(n){l.push(a+"-"+n)}h(k);k.className=l.join(" ");k.style.display="block";var m=g(o);b[o]=m;baidu.on(window,"resize",m)},hide:function(m){m=m||"0";var k=c(m);if("undefined"!=typeof k){k.style.display="none";var l=b[m];baidu.un(window,"resize",l)}}}})();esui.Dialog=function(a){this._type="dialog";this._autoState=0;esui.Control.call(this,a);this.__initOption("autoPosition",null,"AUTO_POSITION");this.__initOption("draggable",null,"DRAGGABLE");this.__initOption("closeButton",null,"CLOSE_BUTTON");this.__initOption("width",null,"WIDTH");this.__initOption("top",null,"TOP");this.top=parseInt(this.top,10);this._resizeHandler=this._getResizeHandler()};esui.Dialog.prototype={_tplHead:'<div id="{0}" class="{1}" onmouseover="{4}" onmouseout="{5}">{2}</div>{3}',_tplClose:'<div ui="type:Button;id:{0};skin:layerclose"></div>',show:function(){var b=this.mask;var a;if(!this.getLayer()){this.render()}a=this.getLayer().main;if(this.autoPosition){baidu.on(window,"resize",this._resizeHandler)}this._resizeHandler();b&&esui.Mask.show(b.level,b.type);this._isShow=true},hide:function(){if(this._isShow){if(this.autoPosition){baidu.un(window,"resize",this._resizeHandler)}this.getLayer().hide();this.mask&&esui.Mask.hide(this.mask.level)}this._isShow=0},getLayer:function(){return this._controlMap.layer},setTitle:function(a){var b=baidu.g(this.__getId("title"));if(b){b.innerHTML=a}this.title=a},setContent:function(b){this.content=b;var a=this.getBody();a&&(a.innerHTML=b)},_getResizeHandler:function(){var a=this;return function(){var c=a.getLayer(),b=c.main,f=a.left,d=a.top;if(!f){f=(baidu.page.getViewWidth()-b.offsetWidth)/2}d+=baidu.page.getScrollTop();if(f<0){f=0}if(d<0){d=0}c.show(f,d)}},_getCloseHandler:function(){var a=this;return function(){a.onhide();a.hide()}},onhide:new Function(),render:function(){var c=this;var b=c.getLayer();var a=c.main;if(b){return}b=esui.util.create("Layer",{id:c.__getId("layer"),retype:c._type,skin:c.skin+(c.draggable?" draggable":""),width:c.width,main:a});b.appendTo();c._controlMap.layer=b;c._initStruct();if(this.draggable){baidu.dom.draggable(b.main,{handler:this.getHead()})}},appendTo:function(){this.render()},_initStruct:function(){var c=this.getLayer();var a=c.main;var f=[],b;var d;d=a.firstChild;while(d){if(d.nodeType==1){f.push(d)}d=d.nextSibling}b=f.length;this._initHead(b<2,f[0]);this._initBody(b<1,f[1]||f[0]);this._initFoot(b<3,f[2])},__createMain:function(){},_initHead:function(g,f){var h=this;var d=h.getLayer();var b=d.main;var c=h.__getId("close");var a,k;if(g){f=document.createElement("div");b.insertBefore(f,b.firstChild)}else{this.title=this.title||f.innerHTML}baidu.addClass(f,this.__getClass("head"));f.id=this.__getId("head");f.innerHTML=esui.util.format(h._tplHead,h.__getId("title"),h.__getClass("title"),h.title,(!h.closeButton?"":esui.util.format(h._tplClose,c)),h.__getStrCall("_headOver"),h.__getStrCall("_headOut"));a=esui.util.init(f);k=a[c];if(k){d._controlMap._close=k;k.onclick=h._getCloseHandler()}},_initBody:function(b,a){if(b){a=document.createElement("div");this.getLayer().main.appendChild(a)}baidu.addClass(a,this.__getClass("body"));a.id=this.__getId("body");if(this.content){a.innerHTML=this.content}else{this.content=a.innerHTML}},_initFoot:function(h,g){var f=this.getLayer();var b;var k;var d=0,a;var c=0;if(h){g=document.createElement("div");f.main.appendChild(g)}baidu.addClass(g,this.__getClass("foot"));g.id=this.__getId("foot");if(this.footContent){g.innerHTML=this.footContent}esui.util.init(g);b=esui.util.getControlsByContainer(g);this._commandHandler=this._getCommandHandler();for(a=b.length;d<a;d++){k=b[d];if(k instanceof esui.Button){k.onclick=this._commandHandler;k._dialogCmdIndex=c;c++}f._controlMap[k.id]=k}},_getCommandHandler:function(){var a=this;return function(){if(a.oncommand({index:this._dialogCmdIndex})!==false){a.hide()}}},oncommand:new Function(),getBody:function(){return baidu.g(this.__getId("body"))},getHead:function(){return baidu.g(this.__getId("head"))},getFoot:function(){return baidu.g(this.__getId("foot"))},_headOver:function(){baidu.addClass(this.getHead(),this.__getClass("head-hover"))},_headOut:function(){baidu.removeClass(this.getHead(),this.__getClass("head-hover"))},__dispose:function(){if(this.autoPosition){baidu.un(window,"resize",this._resizeHandler)}this.oncommand=null;this._resizeHandler=null;esui.Control.prototype.__dispose.call(this)}};baidu.inherits(esui.Dialog,esui.Control);esui.Dialog.TOP=100;esui.Dialog.WIDTH=400;esui.Dialog.CLOSE_BUTTON=1;esui.Dialog.OK_TEXT="确定";esui.Dialog.CANCEL_TEXT="取消";esui.Dialog._increment=function(){var a=0;return function(){return a++}}();esui.Dialog.alert=(function(){var g="__DialogAlert";var d="__DialogAlertOk";var c='<div class="ui-dialog-icon ui-dialog-icon-{0}"></div><div class="ui-dialog-text">{1}</div>';var b='<button ui="type:Button;id:{0};skin:em">{1}</button>';function f(h,k){return function(){var l=esui.util.get(g+k);var m=(typeof h=="function");if((m&&h(l)!==false)||!m){l.hide();esui.util.dispose(d+k);esui.util.dispose(l.id)}return false}}function a(k){if(!k){return}var h=esui.Dialog._increment();var o=k.title||"";var n=k.content||"";var m=k.type||"warning";var l=esui.util.create("Dialog",{id:g+h,closeButton:0,title:"",width:440,mask:{level:3||k.level},footContent:esui.util.format(b,d+h,esui.Dialog.OK_TEXT)});l.show();l.oncommand=f(k.onok,h);l.setTitle(o);l.getBody().innerHTML=esui.util.format(c,m,n);return l}return a})();esui.Dialog.confirm=(function(){var h="__DialogConfirm";var c="__DialogConfirmOk";var f="__DialogConfirmCancel";var d='<div class="ui-dialog-icon ui-dialog-icon-{0}"></div><div class="ui-dialog-text">{1}</div>';var b='<button ui="type:Button;id:{0};skin:em">{1}</button><button ui="type:Button;id:{2};">{3}</button>';function g(k,m,l){return function(n){var p=esui.util.get(h+l);var o=(n.index===0?k:m);var q=(typeof o=="function");if((q&&o(p)!==false)||!q){p.hide();esui.util.dispose(p.id)}return false}}function a(l){if(!l){return}var k=esui.Dialog._increment();var p=l.title||"";var o=l.content||"";var n=l.type||"warning";var m=esui.util.create("Dialog",{id:h+k,closeButton:0,title:"",width:440,mask:{level:3||l.level},footContent:esui.util.format(b,c+k,esui.Dialog.OK_TEXT,f+k,esui.Dialog.CANCEL_TEXT)});m.show();m.setTitle(p);m.getBody().innerHTML=esui.util.format(d,n,o);m.oncommand=g(l.onok,l.oncancel,k);return m}return a})();esui.FormTab=function(a){this.disableHidden=1;esui.Control.call(this,a);this.__initOption("autoDisabled",null,"AUTO_DISABLED");this.tabs=this.datasource||this.tabs||[]};esui.FormTab.AUTO_DISABLED=1;esui.FormTab.prototype={init:function(){var a=this;this.activeIndex=this.activeIndex||0;if(!a.isInited){a._initEvent();a.isInited=1}setTimeout(function(){a.setActiveIndex(a.activeIndex)},0)},render:function(){this.init()},__createMain:function(){return null},_initEvent:function(){var d=this.tabs;var a=d.length;var c;var f;var b;for(c=0;c<a;c++){f=d[c];b=f.radio;if(b){b=esui.util.get(b);b&&(b.onclick=this._getRadioClickHandler(c))}}},_getRadioClickHandler:function(a){var b=this;return function(){return b._select(a)}},_select:function(a){if(this.onchange(a,this.tabs[a])!==false){this.setActiveIndex(a);return}return false},setActiveIndex:function(b){var c=this.tabs;var a=c.length;if(b>=0&&b<a){esui.util.get(c[b].radio).setChecked(true);this.activeIndex=b}this._resetPanel()},onchange:new Function(),_resetPanel:function(){var f=this.tabs;var a=f.length;var d;var g;var b;var c;var h;for(d=0;d<a;d++){g=f[d];c=g.radio;b=g.panel;b=b&&baidu.g(b);if(c&&b){c=esui.util.get(c);if(c){h=c.isChecked();this.autoDisabled&&esui.util.setDisabledByContainer(b,!h);b.style.display=h?"":"none"}}}}};baidu.inherits(esui.FormTab,esui.Control);esui.Label=function(a){this._type="label";this._autoState=1;esui.Control.call(this,a)};esui.Label.prototype={render:function(){var a=this;esui.Control.prototype.render.call(a);if(this.text){this.content=baidu.encodeHTML(this.text)}this.setContent(this.content);this.setTitle(this.title)},setContent:function(a){this.content=a||"";this.main.innerHTML=this.content},setText:function(a){a=a||"";this.setContent(baidu.encodeHTML(a))},setTitle:function(a){this.title=a||"";this.main.setAttribute("title",this.title)},__createMain:function(){return document.createElement("span")}};baidu.inherits(esui.Label,esui.Control);esui.Link=function(a){this._type="link";this._autoState=0;esui.Control.call(this,a)};esui.Link.prototype={render:function(){var a=this;esui.Control.prototype.render.call(a);a.href&&a.setHref(a.href);a.text&&a.setText(a.text);a.content&&a.setContent(a.content);a.target&&a.setTarget(a.target);if(!a._clickHandler){a._clickHandler=a._getClickHandler();a.main.onclick=a._clickHandler}},setHref:function(a){!a&&(a="");this.main.href=a},setText:function(a){!a&&(a="");this.setContent(baidu.encodeHTML(a))},setContent:function(a){!a&&(a="");this.main.innerHTML=a},setTarget:function(a){!a&&(a="");this.main.target=a},onclick:new Function(),__createMain:function(){return document.createElement("a")},_getClickHandler:function(){var a=this;return function(b){return a.onclick(b)}},__dispose:function(){this._clickHandler=null;esui.Control.prototype.__dispose.call(this)}};baidu.inherits(esui.Link,esui.Control);esui.MiniMultiCalendar=function(a){this._type="mmcal";this._autoState=0;esui.InputControl.call(this,a);this.now=this.now||esui.config.NOW||new Date();this.__initOption("options",null,"OPTIONS");this.__initOption("valueFormat",null,"VALUE_FORMAT");var c,b;if(this.value){b=this.value.split(",");if(b.length==2){c={begin:baidu.date.parse(b[0]),end:baidu.date.parse(b[1])}}}if(c){this.valueAsObject=c}else{this.valueAsObject=this.valueAsObject||{begin:new Date(this.now),end:new Date(this.now)}}};esui.MiniMultiCalendar.VALUE_FORMAT="yyyy-MM-dd";esui.MiniMultiCalendar.prototype={getValue:function(){var c=this.valueAsObject;var d=this.valueFormat;var b,a;if(c&&(b=c.begin)&&(a=c.end)){return baidu.date.format(b,d)+","+baidu.date.format(a,d)}return""},setValue:function(c){c=c.split(",");if(c.length==2){var b=baidu.date.parse(c[0]);var a=baidu.date.parse(c[1]);if(b&&a){this.setValueAsObject({begin:b,end:a})}}},getValueAsObject:function(){return this.valueAsObject||null},setValueAsObject:function(a){this.selectedIndex=null;this.valueAsObject=a;this.render()},render:function(){esui.InputControl.prototype.render.call(this);this.main.innerHTML=this._getHtml()},_tplItem:'<span index="{0}" class="{1}" id="{2}"{4}>{3}</span>',_isSameDate:function(b,a){if(a!=""&&b!=""){if(b.getFullYear()==a.getFullYear()&&b.getMonth()==a.getMonth()&&b.getDate()==a.getDate()){return true}}return false},_getHtml:function(){var m=this,n=m.valueAsObject,c=m.options,k=c.length,a=m.__getId("option"),d,b,g,h,l,f=[];m._currentName="";if(esui.util.hasValue(m.selectedIndex)){m._currentName=c[m.selectedIndex].name}else{for(d=0;d<k;d++){g=c[d];b=g.getValue.call(m);if(m._isSameDate(n.begin,b.begin)&&m._isSameDate(n.end,b.end)){m.selectedIndex=d;m._currentName=g.name;break}}}for(d=0;d<k;d++){g=c[d];b=g.getValue.call(m);h=m.__getClass("option");l=' onclick="'+m.__getStrCall("_selectByIndex",d)+'"';if(d==m.selectedIndex){h=h+" "+m.__getClass("option-selected");l=""}f.push(esui.util.format(m._tplItem,d,h,a+d,g.name,l))}return f.join("&nbsp;|&nbsp;")},onchange:new Function(),_selectByIndex:function(a){var c=this.options,b,d;if(a<0||a>=c.length){return}b=c[a];d=b.getValue.call(this);if(this.onchange(d,b.name,a)!==false){this.setSelectedIndex(a)}},setSelectedIndex:function(a){var c=this.options,b=c[a];if(a<0||a>=c.length){return}this.selectedIndex=a;this.value=b.getValue.call(this);this.render()},getName:function(c){if(c){var b=this.options;var d,f,g;var a=b.length;for(d=0;d<a;d++){f=b[d];g=f.getValue.call(this);if(this._isSameDate(g.begin,c.begin)&&this._isSameDate(g.end,c.end)){return f.name}}return""}return this._currentName}};esui.MiniMultiCalendar.OPTIONS=[{name:"昨天",value:0,getValue:function(){var a=new Date(this.now.getTime());a.setDate(a.getDate()-1);return{begin:a,end:a}}},{name:"最近7天",value:1,getValue:function(){var b=new Date(this.now.getTime()),a=new Date(this.now.getTime());a.setDate(a.getDate()-1);b.setDate(b.getDate()-7);return{begin:b,end:a}}},{name:"上周",value:2,getValue:function(){var b=this.now,c=new Date(this.now.getTime()),a=new Date(this.now.getTime()),d=1;if(c.getDay()<d%7){c.setDate(c.getDate()-14+d-c.getDay())}else{c.setDate(c.getDate()-7-c.getDay()+d%7)}c.setHours(0,0,0,0);a.setFullYear(c.getFullYear(),c.getMonth(),c.getDate()+6);a.setHours(0,0,0,0);return{begin:c,end:a}}},{name:"本月",value:3,getValue:function(){var b=this.now,c=new Date(this.now.getTime()),a=new Date(this.now.getTime());c.setDate(1);return{begin:c,end:a}}},{name:"上个月",value:4,getValue:function(){var b=this.now,c=new Date(b.getFullYear(),b.getMonth()-1,1),a=new Date(b.getFullYear(),b.getMonth(),1);a.setDate(a.getDate()-1);return{begin:c,end:a}}},{name:"上个季度",value:5,getValue:function(){var b=this.now,c=new Date(b.getFullYear(),b.getMonth()-b.getMonth()%3-3,1),a=new Date(b.getFullYear(),b.getMonth()-b.getMonth()%3,1);a.setDate(a.getDate()-1);return{begin:c,end:a}}}];baidu.inherits(esui.MiniMultiCalendar,esui.InputControl);esui.MultiCalendar=function(b){this._type="mcal";this._autoState=1;esui.InputControl.call(this,b);this.__initOption("dateFormat",null,"DATE_FORMAT");this.__initOption("valueFormat",null,"VALUE_FORMAT");this.__initOption("okText",null,"OK_TEXT");this.__initOption("cancelText",null,"CANCEL_TEXT");this.__initOption("beginSideTitle",null,"BEGIN_SIDE_TITLE");this.__initOption("endSideTitle",null,"END_SIDE_TITLE");this.now=this.now||esui.config.NOW||new Date();var a=this.now;var d,c;if(this.value){c=this.value.split(",");if(c.length==2){d={begin:baidu.date.parse(c[0]),end:baidu.date.parse(c[1])}}}if(d){this.valueAsObject=d}else{this.valueAsObject=this.valueAsObject||{begin:new Date(a),end:new Date(a)}}this.__initOption("range",null,"RANGE");this.view={begin:new Date(this.valueAsObject.begin),end:new Date(this.valueAsObject.end)}};esui.MultiCalendar.OK_TEXT="确定";esui.MultiCalendar.CANCEL_TEXT="取消";esui.MultiCalendar.BEGIN_SIDE_TITLE="开始日期";esui.MultiCalendar.END_SIDE_TITLE="结束日期";esui.MultiCalendar.DATE_FORMAT="yyyy-MM-dd";esui.MultiCalendar.VALUE_FORMAT="yyyy-MM-dd";esui.MultiCalendar.RANGE={begin:new Date(2001,8,3),end:new Date(2046,10,4)};esui.MultiCalendar.prototype={render:function(){var b=this;var a=this.main;if(!b._isRendered){esui.InputControl.prototype.render.call(b);a.innerHTML=b._getMainHtml();a.onclick=b._getMainClickHandler();b._renderLayer();b._isRendered=1}b.setValueAsObject(b.valueAsObject)},getValueAsObject:function(){return this.valueAsObject||null},getValue:function(){var c=this.valueAsObject;var d=this.valueFormat;var b,a;if(c&&(b=c.begin)&&(a=c.end)){return baidu.date.format(b,d)+","+baidu.date.format(a,d)}return""},setValueAsObject:function(a){if(a&&a.begin&&a.end){this.valueAsObject=a;this._controlMap.shortcut.setValueAsObject(a);this._repaintMain(a)}},setValue:function(c){c=c.split(",");if(c.length==2){var b=baidu.date.parse(c[0]);var a=baidu.date.parse(c[1]);if(b&&a){this.setValueAsObject({begin:b,end:a})}}},_tplMain:'<span id="{3}" class="{4}" style="display:none"></span><span id="{0}" class="{1}"></span><div class="{2}" arrow="1"></div>',_tplLayer:'<div ui="id:{0};type:MiniMultiCalendar"></div><div class="{1}">{5}{6}</div><div class="{2}"><div ui="type:Button;id:{3};skin:em">{7}</div><div ui="type:Button;id:{4}">{8}</div></div><div ui="type:Button;id:{9};skin:layerclose"></div>',_tplSide:'<div class="{0}"><div class="{1}"><b>{9}</b><span id="{2}"></span></div><div class="{4}"><table><tr><td width="40" align="left"><div ui="type:Button;id:{5};skin:back"></div></td><td><div ui="type:Select;id:{7};width:55"</td><td><div ui="type:Select;id:{8};width:40"</td><td width="40" align="right"><div ui="type:Button;id:{6};skin:forward"></div></td></tr></table></div><div ui="id:{3};type:MonthView"></div></div>',_getMainClickHandler:function(){var a=this;return function(b){if(!a.isDisabled()){a.getLayer()._preventHide();a.toggleLayer()}}},_getCancelHandler:function(){var a=this;return function(){a.hideLayer()}},_getOkHandler:function(){var b=this,c=baidu.date.parse;function a(d){return b._controlMap[d+"monthview"].getValueAsDate()}return function(){var f=a("begin"),d=a("end"),g=d-f,h;if(g>0){h={begin:f,end:d}}else{h={begin:d,end:f}}if(b.onchange(h,b.getShortcutText(h))!==false){b.valueAsObject=h;b._controlMap.shortcut.setValueAsObject(h);b._repaintMain(h);b.hideLayer()}}},onchange:new Function(),_getMVCustomClass:function(){var a=this;return function(b){if(!a._isInRange(b)){return this.__getClass("item-out")}return""}},_getCalChangeHandler:function(a){var b=this;return function(c){if(!b._isInRange(c)){return false}b.tempValue[a]=c;var d=baidu.g(b.__getId(a+"title"));d.innerHTML=baidu.date.format(c,b.dateFormat)}},_isInRange:function(b){var c=this.range.begin;var a=this.range.end;if((c&&b-c<0)||(a&&a-b<0)){return false}return true},_repaintMain:function(d,c){var b=c||this.getShortcutText(d);var a=baidu.g(this.__getId("shortcuttext"));baidu.g(this.__getId("text")).innerHTML=this.getValueText(d);b&&(a.innerHTML=b);a.style.display=b?"":"none"},_repaintSide:function(l){var k=this,g=k.range,n=k.view[l],m=n.getFullYear(),h=n.getMonth(),c=k.tempValue[l],b=k._controlMap[l+"monthview"],f=k._controlMap[l+"month"],p=g.begin.getFullYear()*12+g.begin.getMonth(),a=g.end.getFullYear()*12+g.end.getMonth(),o=n.getFullYear()*12+n.getMonth(),d=baidu.g(k.__getId(l+"title"));f.datasource=k._getMonthOptions(m);f.render();if(p-o>0){h+=(p-o)}else{if(o-a>0){h-=(o-a)}}f.setValue(h);n.setMonth(h);k._controlMap[l+"year"].setValue(m);k._controlMap[l+"prevmonth"].setDisabled((p>=o));k._controlMap[l+"nextmonth"].setDisabled((a<=o));d.innerHTML=baidu.date.format(c,k.dateFormat);b.setValueAsDate(c);b.setView(n)},_getMainHtml:function(){var b=this,a="text",c="shortcuttext";return esui.util.format(b._tplMain,b.__getId(a),b.__getClass(a),b.__getClass("arrow"),b.__getId(c),b.__getClass(c))},_getLayerSideHtml:function(a){var b=this;return esui.util.format(b._tplSide,b.__getClass(a),b.__getClass("side-title"),b.__getId(a+"title"),b.__getId(a+"monthview"),b.__getClass("side-func"),b.__getId(a+"prevmonth"),b.__getId(a+"nextmonth"),b.__getId(a+"year"),b.__getId(a+"month"),b[a+"SideTitle"])},_renderLayer:function(){var c=this,a=c.__getId("layer"),b=esui.util.create("Layer",{id:a,autoHide:"click",retype:c._type,partName:"layer",skin:c.skin});c._controlMap.layer=b;b.appendTo();b.onhide=c._getLayerHideHandler();b.main.innerHTML=esui.util.format(c._tplLayer,c.__getId("shortcut"),c.__getClass("body"),c.__getClass("foot"),c.__getId("ok"),c.__getId("cancel"),c._getLayerSideHtml("begin"),c._getLayerSideHtml("end"),c.okText,c.cancelText,c.__getId("close"));c._initLayerUI()},_getLayerHideHandler:function(){var a=this;return function(){a.removeState("active")}},_initLayerUI:function(){var C=this.getLayer(),p=this.__getId("ok"),d=this.__getId("cancel"),t=this.__getId("close"),r=this.__getId("beginmonth"),g=this.__getId("endmonth"),f=this.__getId("beginyear"),a=this.__getId("endyear"),w=this.__getId("beginprevmonth"),v=this.__getId("endprevmonth"),D=this.__getId("beginnextmonth"),B=this.__getId("endnextmonth"),n=this.__getId("beginmonthview"),l=this.__getId("endmonthview"),u=this.__getId("shortcut"),s={},q=this.view,A=q.begin,k=q.end,z=A.getFullYear(),h=k.getFullYear(),o=A.getMonth(),y=k.getMonth(),m=this._getYearOptions(),c=this._getMVCustomClass(),x=this.valueAsObject,b;s[n]={valueAsDate:x.begin,customClass:c};s[l]={valueAsDate:x.end,customClass:c};s[r]={datasource:this._getMonthOptions(z),value:o};s[g]={datasource:this._getMonthOptions(h),value:y};s[f]={datasource:m,value:z};s[a]={datasource:m,value:h};s[u]={options:this.shortcutOptions,valueAsObject:x};b=esui.util.init(C.main,s);p=b[p];d=b[d];t=b[t];r=b[r];g=b[g];f=b[f];a=b[a];w=b[w];v=b[v];D=b[D];B=b[B];n=b[n];l=b[l];u=b[u];this._controlMap.ok=p;this._controlMap.cancel=d;this._controlMap.close=t;this._controlMap.beginmonthview=n;this._controlMap.endmonthview=l;this._controlMap.beginmonth=r;this._controlMap.endmonth=g;this._controlMap.beginyear=f;this._controlMap.endyear=a;this._controlMap.beginprevmonth=w;this._controlMap.endprevmonth=v;this._controlMap.beginnextmonth=D;this._controlMap.endnextmonth=B;this._controlMap.shortcut=u;p.onclick=this._getOkHandler();t.onclick=d.onclick=this._getCancelHandler();f.onchange=this._getYearChangeHandler("begin");a.onchange=this._getYearChangeHandler("end");r.onchange=this._getMonthChangeHandler("begin");g.onchange=this._getMonthChangeHandler("end");w.onclick=this._getPrevMonthHandler("begin");v.onclick=this._getPrevMonthHandler("end");D.onclick=this._getNextMonthHandler("begin");B.onclick=this._getNextMonthHandler("end");n.onchange=this._getCalChangeHandler("begin");l.onchange=this._getCalChangeHandler("end");u.onchange=this._getShortcutChangeHandler()},_getShortcutChangeHandler:function(){var a=this;return function(c,b){if(a.onchange(c,b)!==false){a.valueAsObject=c;a._repaintMain(c,b);a.hideLayer()}}},_getYearChangeHandler:function(a){var b=this;return function(d){var c=b.view[a],f=c.getMonth();b._repaintMonthView(a,d,f);b.getLayer()._preventHide()}},_getMonthChangeHandler:function(a){var b=this;return function(f){var c=b.view[a],d=c.getFullYear();b._repaintMonthView(a,d,f);b.getLayer()._preventHide()}},_getPrevMonthHandler:function(a){var b=this;return function(){var c=b.view[a];b._repaintMonthView(a,c.getFullYear(),c.getMonth()-1)}},_getNextMonthHandler:function(a){var b=this;return function(){var c=b.view[a];b._repaintMonthView(a,c.getFullYear(),c.getMonth()+1)}},_getYearOptions:function(){var b=this.range,d=[],c=b.begin.getFullYear(),a=b.end.getFullYear();for(;c<=a;c++){d.push({name:c,value:c})}return d},_getMonthOptions:function(d){var b=this.range,f=[],c=0,a=11;if(d==b.begin.getFullYear()){c=b.begin.getMonth()}if(d==b.end.getFullYear()){a=b.end.getMonth()}for(;c<=a;c++){f.push({name:(c+1),value:c})}return f},_repaintMonthView:function(b,a,c){this.view[b]=new Date(a,c,1);this._repaintSide(b)},toggleLayer:function(){var a=this;if(this.getLayer().isShow()){a.hideLayer()}else{a.showLayer()}},hideLayer:function(){this.getLayer().hide();this.removeState("active")},showLayer:function(){var g=this,b=g.main,h=baidu.dom.getPosition(b),l=baidu.page.getWidth(),c=g.getLayer(),a=c.main.offsetWidth,k=g.valueAsObject,d=h.top+b.offsetHeight-1,f;g.tempValue={begin:new Date(k.begin),end:new Date(k.end)};g.view={begin:new Date(k.begin),end:new Date(k.end)};g._repaintLayer();if(l<(h.left+a)){f=h.left+b.offsetWidth-a}else{f=h.left}c.show(f,d);this.addState("active")},getLayer:function(){return this._controlMap.layer},_repaintLayer:function(){this._repaintSide("begin");this._repaintSide("end")},getValueText:function(g){var f=g||this.getValueAsObject();var d=f.begin;var b=f.end;var h=this.dateFormat;var c=baidu.date.format;var a=this._controlMap.shortcut;if(d&&b){return c(d,h)+" 至 "+c(b,h)}return""},getShortcutText:function(b){var c=b||this.getValue();var a=this._controlMap.shortcut;if(c.begin&&c.end){return a.getName(b?c:null)}return""},__dispose:function(){this.onchange=null;esui.InputControl.prototype.__dispose.call(this)}};baidu.inherits(esui.MultiCalendar,esui.InputControl);esui.Pager=function(a){this._type="pager";this._autoState=0;esui.Control.call(this,a);this.startNumber=parseInt(this.startNumber,10)||0;this.__initOption("prevText",null,"PREV_TEXT");this.__initOption("nextText",null,"NEXT_TEXT");this.__initOption("omitText",null,"OMIT_TEXT");this.showCount=parseInt(this.showCount,10)||esui.Pager.SHOW_COUNT};esui.Pager.SHOW_COUNT=5;esui.Pager.OMIT_TEXT="…";esui.Pager.NEXT_TEXT='<span class="ui-pager-pntext">下一页</span><span class="ui-pager-icon"></span>';esui.Pager.PREV_TEXT='<span class="ui-pager-icon"></span><span class="ui-pager-pntext">上一页</span>';esui.Pager.prototype={getPage:function(){return this.page},render:function(){var a=this;esui.Control.prototype.render.call(a);a.total=parseInt(a.total,10)||0;a.setPage(a.page)},_tplMain:"<ul>{0}</ul>",_tplItem:'<li onclick="{2}" onmouseover="{3}" onmouseout="{4}" class="{1}">{0}</li>',_renderPages:function(){var l=this,g=[],n=l.total,h=this.startNumber,k=l.page,o=l.__getClass("item"),f=l.__getClass("disabled"),a=l.__getClass("prev"),c=l.__getClass("next"),m=l._getInfoHtml(l.omitText,l.__getClass("omit")),d,b;if(n<=0){this.main.innerHTML="";return}if(k>=n){k=n-1}if(k<l.showCount-1){b=0}else{if(k>n-l.showCount){b=n-l.showCount}else{b=k-Math.floor(l.showCount/2)}}if(b<0){b=0}if(k>0){g.push(l._getItemHtml(l.prevText,a,l.__getStrCall("_setPage",k-1)))}else{g.push(l._getInfoHtml(l.prevText,a+" "+f))}if(b>0){g.push(l._getItemHtml(1,o,this.__getStrCall("_setPage",0)),m)}for(d=0;d<l.showCount&&b+d<n;d++){if(b+d!=k){g.push(l._getItemHtml(1+b+d,o,l.__getStrCall("_setPage",b+d)))}else{g.push(l._getInfoHtml(1+b+d,o+" "+l.__getClass("selected")))}}if(b<n-l.showCount){g.push(m,l._getItemHtml(n,o,l.__getStrCall("_setPage",n-1)))}if(k<n-1){g.push(l._getItemHtml(l.nextText,c,l.__getStrCall("_setPage",k+1)))}else{g.push(l._getInfoHtml(l.nextText,c+" "+f))}this.main.innerHTML=esui.util.format(l._tplMain,g.join(""))},_getItemHtml:function(c,h,g){var d=this,b=d.__getStrRef(),a=b+"._itemOverHandler(this)",f=b+"._itemOutHandler(this)";return esui.util.format(d._tplItem,c,h,g,a,f)},_getInfoHtml:function(a,b){return esui.util.format(this._tplItem,a,b,"","","")},onchange:new Function(),_setPage:function(a){a+=this.startNumber;if(this.onchange(a)!==false){this.setPage(a)}},setPage:function(a){this.page=parseInt(a,10)-this.startNumber;this._renderPages()},_itemOverHandler:function(a){baidu.addClass(a,this.__getClass("hover"))},_itemOutHandler:function(a){baidu.removeClass(a,this.__getClass("hover"))}};baidu.inherits(esui.Pager,esui.Control);esui.Region=function(b){this._type="region";this._autoState=0;esui.InputControl.call(this,b);this._initDatasource(this.datasource);if(this.mode!="single"){this.mode="multi"}var a=this.valueAsRaw||this.value;if(this.mode=="multi"){if(typeof a=="string"){a=a.split(",")}else{if(!(a instanceof Array)){a=[]}}}this.valueAsRaw=a};esui.Region.prototype={render:function(){if(!this._isRendered){esui.InputControl.prototype.render.call(this);switch(this.mode){case"multi":this._initMulti();break;case"single":this._initSingle();break}this._isRendered=1}},getValue:function(){if(this.mode=="multi"){return this.valueAsRaw.join(",")}return this.valueAsRaw},setValue:function(a){this.valueAsRaw=a;if(this.mode=="multi"){this._selectMulti(a.split(","))}else{this._controlMap.select.setValue(a)}},setDisabled:function(c){c=!!c;if(this.mode=="multi"){var b=this.main.getElementsByTagName("input");var d=b.length;var a;while(d--){a=b[d];if(a.type=="checkbox"){a.disabled=c}}this._updateMulti()}else{this._controlMap.select.setDisabled(c)}this[c?"addState":"removeState"]("disabled");this.disabled=c},disable:function(){this.setDisabled(true)},enable:function(){this.setDisabled(false)},_initMulti:function(){var d=this.datasource;var a=d.length;var c=[];var b;for(b=0;b<a;b++){c.push(this._getOptionHtml(d[b],0))}this.main.innerHTML=c.join("");this._selectMulti(this.valueAsRaw)},_selectMulti:function(b){this.valueAsRaw=b;var a=b.length;var d={};var c;while(a--){d[b[a]]=1}for(c in this._dataMap){this._getOption(c).checked=(c in d)}this._updateMulti()},_updateMulti:function(d,k){d=d||{children:this.datasource};if(!k){this.valueAsRaw=[]}var a=d.children;var h=a instanceof Array&&a.length;var f;var l;var b=true;var c;var g=d.id&&this._getOption(d.id);if(h){for(f=0;f<h;f++){c=this._updateMulti(a[f],1);b=b&&c}g&&(g.checked=b);return b}else{b=g.checked;b&&this.valueAsRaw.push(d.id);return b}},_tplOption:'<dt class="{3}"><input type="checkbox" value="{0}" optionId="{0}" id="{2}" onclick="{4}" level="{5}"><label for="{2}">{1}</label></dt>',_getOptionHtml:function(h,a){var b=h.id;var f=[];var m=this.__getClass("option-body");var c=this.__getClass("option-children");var k=[];var d=h.children;var l=d instanceof Array&&d.length;var g;f.push(this.__getClass("option"),this.__getClass("option-"+b),this.__getClass("option-level"+a));k.push('<dl class="'+f.join(" ")+'">',esui.util.format(this._tplOption,b,h.text,this.__getId("option_"+b),m,this.__getStrRef()+"._optionClick(this)",a));if(l){k.push('<dd class="'+c+'">');for(g=0;g<l;g++){k.push(this._getOptionHtml(d[g],a+1))}k.push("</dd>")}k.push("</dl>");return k.join("")},_optionClick:function(f,a){var b=f.getAttribute("optionId");var g=this._dataMap[b];var d=f.checked;var c=g.children;var k=c instanceof Array&&c.length;var l;var h;if(k){while(k--){l=c[k];h=this._getOption(l.id);h.checked=d;this._optionClick(h,1)}}if(!a){this._updateMulti()}},_getOption:function(a){return baidu.g(this.__getId("option_"+a))},_initDatasource:function(a){this.datasource=a||esui.Region.REGION_LIST;this._dataMap={};a=this.datasource;b.call(this,a,{children:a});function b(h,f){var c=h instanceof Array&&h.length;var d;var g;if(!c){return}for(d=0;d<c;d++){g=baidu.object.clone(h[d]);g.parent=f;this._dataMap[g.id]=g;b.call(this,g.children,g)}}},_initSingle:function(){var c=this;var a={id:c.__getId("region"),datasource:c._singleDataAdapter(),value:c.valueAsRaw,width:100};var b=esui.util.create("Select",a);b.appendTo(c.main);b.onchange=c._getSelectChangeHandler();c._controlMap.select=b},_getSelectChangeHandler:function(){var a=this;return function(b){a.valueAsRaw=a.value=b}},_singleDataAdapter:function(){var a=[];b({children:this.datasource});function b(h){var f=h.children;var g=!!f;var c,d;if(h.id){a.push({name:h.text,value:h.id,disabled:g})}if(g){for(d=0,c=f.length;d<c;d++){b(f[d])}}}return a}};baidu.inherits(esui.Region,esui.InputControl);esui.Region.REGION_LIST=[{id:"China",text:"中国地区",children:[{id:"North",text:"华北地区",children:[{id:"1",text:"北京"},{id:"3",text:"天津"},{id:"13",text:"河北"},{id:"26",text:"山西"},{id:"22",text:"内蒙古"}]},{id:"NorthEast",text:"东北地区",children:[{id:"21",text:"辽宁"},{id:"18",text:"吉林"},{id:"15",text:"黑龙江"}]},{id:"East",text:"华东地区",children:[{id:"2",text:"上海"},{id:"19",text:"江苏"},{id:"32",text:"浙江"},{id:"9",text:"安徽"},{id:"5",text:"福建"},{id:"20",text:"江西"},{id:"25",text:"山东"}]},{id:"Middle",text:"华中地区",children:[{id:"14",text:"河南"},{id:"16",text:"湖北"},{id:"17",text:"湖南"}]},{id:"South",text:"华南地区",children:[{id:"4",text:"广东"},{id:"8",text:"海南"},{id:"12",text:"广西"}]},{id:"SouthWest",text:"西南地区",children:[{id:"33",text:"重庆"},{id:"28",text:"四川"},{id:"10",text:"贵州"},{id:"31",text:"云南"},{id:"29",text:"西藏"}]},{id:"NorthWest",text:"西北地区",children:[{id:"27",text:"陕西"},{id:"11",text:"甘肃"},{id:"24",text:"青海"},{id:"23",text:"宁夏"},{id:"30",text:"新疆"}]},{id:"Other",text:"其他地区",children:[{id:"34",text:"香港"},{id:"36",text:"澳门"},{id:"35",text:"台湾"}]}]},{id:"Abroad",text:"国外",children:[{id:"7",text:"日本"},{id:"37",text:"其他国家"}]}];esui.Schedule=function(a){this._type="schedule";this._autoState=0;esui.InputControl.call(this,a);this._initValue();this.__initOption("helpSelected",null,"HELP_SELECTED");this.__initOption("help",null,"HELP");this.__initOption("dayWords",null,"DAY_WORDS");this.__initOption("shortcut",null,"SHORTCUT")};esui.Schedule.HELP_SELECTED="投放时间段";esui.Schedule.HELP="暂停时间段";esui.Schedule.DAY_WORDS=["星期一","星期二","星期三","星期四","星期五","星期六","星期日"];esui.Schedule.SHORTCUT=function(){function a(d){var c=0;var b=Math.min(d.length,7);var f;for(;c<b;c++){f=baidu.g(this.__getId("lineState"+c));f.checked=!!d[c];this._dayClick(f,true)}}return[{text:"全部时间",func:function(){a.call(this,[1,1,1,1,1,1,1]);this._refreshView(this)}},{text:"工作日",func:function(){a.call(this,[1,1,1,1,1,0,0]);this._refreshView(this)}},{text:"周末",func:function(){a.call(this,[0,0,0,0,0,1,1]);this._refreshView(this)}}]}();esui.Schedule.prototype={setDisabled:function(d){d=!!d;var f="disabled";var a;var b;var c;this.disabled=d;if(d){this.addState(f)}else{this.removeState(f)}d=this.getState(f);a=baidu.g(this.__getId("shortcut"));b=baidu.g(this.__getId("BodyHead"));b.style.display=a.style.display=d?"none":"";for(c=0;c<7;c++){baidu.g(this.__getId("lineState"+c)).disabled=d}},disable:function(){this.setDisabled(true)},enable:function(){this.setDisabled(false)},getValueAsArray:function(){return this.valueAsArray},getValue:function(){var d=[];var c=this.valueAsArray;var b,a;for(b=0;b<7;b++){for(a=0;a<24;a++){d.push(c[b][a])}}return d.join(",")},setValueAsArray:function(a){if(a instanceof Array&&a.length==7){this.valueAsArray=a;this._refreshView()}},setValue:function(b){var a=this._parseValue(b);a&&this.setValueAsArray(a)},render:function(){if(!this.isRendered){esui.InputControl.prototype.render.call(this);this.main.innerHTML=esui.util.format(this._tpl,this.__getClass("head"),this.__getClass("body"),this.__getClass("help"),this.__getClass("help-selected"),this.__getClass("help-unselected"),this.__getClass("help-text"),this.__getClass("shortcut"),this.__getId("body"),this.helpSelected,this.help,this.__getId("shortcut"),this._getShortcutHtml());this._initBody()}this.isRendered=1;this.setDisabled(this.disabled);this._refreshView()},_tpl:'<div class="{0}"><div class="{2}"><div class="{3}"></div><div class="{5}">{8}</div><div class="{4}"></div><div class="{5}">{9}</div></div><div class="{6}" id="{10}">{11}</div></div><div class="{1}" id="{7}"></div>',_initValue:function(){var f=this._parseValue(this.value);var d=this.valueAsArray;var c;var b;var a;if(f){d=f}else{if(!this.valueAsArray){d=[];for(c=0;c<7;c++){a=[];d.push(a);for(b=0;b<24;b++){a.push(0)}}}}this.valueAsArray=d},_parseValue:function(c){c=(c||"").split(",");var b=null;var a;if(c.length==24*7){b=[];for(a=0;a<7;a++){b.push(c.slice(a*24,(a+1)*24))}}return b},_getShortcutHtml:function(){var h=[];var c=this.shortcut;var b=c.length;var k="&nbsp;|&nbsp;";var f=this.__getClass("shortcut-item");var d='<span class="{0}" onclick="{2}">{1}</span>';var g,a;for(g=0;g<b;g++){a=c[g];h.push(esui.util.format(d,f,a.text,this.__getStrCall("_doShortcut",g)))}return h.join(k)},_doShortcut:function(a){var b=this.shortcut[a].func;typeof b=="function"&&b.call(this)},_initBody:function(){var b=this.__getStrRef();var a=this.dayWords;var f=[];var l=this.__getClass("line");var m=this.__getClass("day");var n=this.__getClass("seg");var k=this.__getClass("time");var g=this.__getClass("timehead");var d='</div><div class="'+n+'">';var p='<div class="'+g+'" onmouseover="{2}" onmouseout="{3}" onclick="{4}" time="{1}" id="{0}">&nbsp;</div>';var h="</div></div>";var c='<div class="'+l+'" id="{0}"><div class="'+m+'"><input type="checkbox" id="{1}" value="{2}" onclick="{3}"><label for="{1}">{4}</label>';var o='<div class="'+k+'" onmouseover="{3}" onmouseout="{4}" onclick="{5}" time="{2}" day="{1}" timeitem="1" id="{0}">{2}</div>';f.push('<div class="'+l+'" id="',this.__getId("BodyHead")+'">','<div class="'+m+'">&nbsp;',d);for(j=0;j<24;j++){if(j>0&&j%6==0){f.push(d)}f.push(esui.util.format(p,this.__getId("TimeHead"+j),j,b+"._timeHeadOverOut(this,1)",b+"._timeHeadOverOut(this)",b+"._timeHeadClick(this)"))}f.push(h);for(i=0;i<7;i++){f.push(esui.util.format(c,this.__getId("line"+i),this.__getId("lineState"+i),i,b+"._dayClick(this)",a[i]),d);for(j=0;j<24;j++){if(j>0&&j%6==0){f.push(d)}f.push(esui.util.format(o,this.__getId("time_"+i+"_"+j),i,j,b+"._timeOverOut(this,1)",b+"._timeOverOut(this)",b+"._timeClick(this)"))}f.push(h)}baidu.g(this.__getId("body")).innerHTML=f.join("")},_timeOverOut:function(c,b){var a=this.__getClass("time-hover");if(b){baidu.addClass(c,a)}else{baidu.removeClass(c,a)}},_timeHeadOverOut:function(c,b){var a=this.__getClass("timehead-hover");if(b){baidu.addClass(c,a)}else{baidu.removeClass(c,a)}},_timeClick:function(d){if(this.isDisabled()){return}var a=parseInt(d.getAttribute("day"),10),c=parseInt(d.getAttribute("time"),10),b=!baidu.dom.hasClass(d,this.__getClass("time-selected"));this._selectTime(a,c,b)},_timeHeadClick:function(c){var a=!baidu.dom.hasClass(c,this.__getClass("timehead-active")),b=parseInt(c.getAttribute("time"),10),d;for(i=0;i<7;i++){d=baidu.g(this.__getId("time_"+i+"_"+b));this._selectTime(parseInt(d.getAttribute("day"),10),b,a,true)}this._refreshView()},_dayClick:function(g,b){var f=this,c=g.checked,d=g.parentNode.parentNode.getElementsByTagName("div"),a=d.length,h;while(a--){h=d[a];if(this._isTimeDom(h)){this._selectTime(parseInt(h.getAttribute("day"),10),parseInt(h.getAttribute("time"),10),c,true)}}if(!b){f._refreshView()}},_refreshView:function(){var x=this;var b=x.isDisabled();var d=x.valueAsArray;var u=[];var n=x.__getClass("timehead-active");var h=x.__getClass("time-selected");var c=baidu.g(x.__getId("BodyHead")).getElementsByTagName("div");var p=baidu.g(x.__getId("body")).getElementsByTagName("div");var o=p.length;var m;var s;var q;var t,r;var g=0;var a,v,y;var l,k,f,w;for(t=0;t<24;t++){u.push(1)}for(t=0;t<7;t++){l=baidu.g(x.__getId("line"+t));k=l.getElementsByTagName("div");r=k.length;while(r--){f=k[r];if(x._isTimeDom(f)){f=parseInt(f.getAttribute("time"),10);w=d[t][f];if(!w||w=="0"){u[f]=0}}}}r=c.length;while(r--){m=c[r];s=/TimeHead([0-9]+)$/.exec(m.id);if(s&&s.length==2){if(u[parseInt(s[1],10)]){baidu.addClass(m,n)}else{baidu.removeClass(m,n)}}}while(o--){m=p[o];s=/time_([0-9]+)_([0-9]+)$/.exec(m.id);if(s&&s.length==3){f=d[parseInt(s[1],10)][parseInt(s[2],10)];if(f&&f!="0"){baidu.addClass(m,h)}else{baidu.removeClass(m,h)}}}for(t=0;t<7;t++){a=d[t];v=true;for(r=0;r<24;r++){if(!a[r]||a[r]=="0"){v=false}else{g++}}baidu.g(x.__getId("lineState"+t)).checked=v}},_selectTime:function(a,d,b,f){var c=this.valueAsArray;c[a][d]=(b?1:0);if(!f){this._refreshView()}},_isTimeDom:function(a){return !!a.getAttribute("timeitem")}};baidu.inherits(esui.Schedule,esui.InputControl);esui.SideBar=function(a){this._type="sidebar";this._autoState=0;esui.Control.call(this,a);this.headHeight=this.headHeight||37;this.marginTop=this.marginTop||10;this.marginLeft=this.marginLeft||10;this.marginBottom=this.marginBottom||10;this.__initOption("autoDelay",null,"AUTO_DELAY");this.__initOption("mode",null,"MODE");this._autoTimer=0};esui.SideBar.AUTO_DELAY=200;esui.SideBar.MODE="fixed";esui.SideBar.prototype={_initCtrlBtn:function(){var c=this;var a=c.main;var f=c._controlMap;var b=esui.util.create("Button",{id:c.__getId("AutoHide"),skin:"autohide"});var d=esui.util.create("Button",{id:c.__getId("Fixed"),skin:"fixed"});b.appendTo(a);d.appendTo(a);f.btnAutoHide=b;f.btnFixed=d;b.onclick=this._getAutoHideClickHandler();d.onclick=this._getFixedClickHandler();this._setMode(this.mode)},onmodechange:new Function(),_getFixedClickHandler:function(){var a=this;return function(){a._setMode("fixed");a.onmodechange(a.mode)}},_getAutoHideClickHandler:function(){var a=this;return function(){a._setMode("autohide");a.onmodechange(a.mode);a._hide()}},_setMode:function(d){d=d.toLowerCase();var f=this._getAutoHideMain();var a=this._getFixedMain();var c=this._getNeighbor();var b=this.__getClass("neighbor-hide");if(d=="fixed"){baidu.hide(a);baidu.show(f)}else{baidu.show(a);baidu.hide(f)}this.mode=d;if(this._isAutoHide()){baidu.addClass(c,b)}else{baidu.removeClass(c,b);this._hideMat()}this._repaintNeighbor()},_isAutoHide:function(){return this.mode=="autohide"},_getFixedMain:function(){return this._controlMap.btnFixed.main},_getAutoHideMain:function(){return this._controlMap.btnAutoHide.main},_initContent:function(){var b=this.main;var c=baidu.dom.first(b);var a;if(c){baidu.addClass(c,this.__getClass("head"));this._headEl=c;a=baidu.dom.next(c);if(a){this._bodyEl=a;baidu.addClass(a,this.__getClass("body"))}}},_caching:function(){var a=this.main;var b=a.parentNode;var c=baidu.dom.getPosition(b);var d=baidu.dom.getPosition(a);if(!esui.util.hasValue(this._mOffsetTop)){this._mOffsetTop=d.top-c.top;this.top=d.top;this.left=d.left}else{this.top=c.top+this._mOffsetTop}},render:function(){var a=this,b;if(!a._isRendered){esui.Control.prototype.render.call(a);a._caching();baidu.addClass(a._getNeighbor(),a.__getClass("neighbor"));a._initContent();a._renderMat();a._renderMiniBar();a._initCtrlBtn();a.heightReseter=a._getHeightReseter();a.topReseter=a._getTopReseter();baidu.on(window,"resize",a.heightReseter);baidu.on(window,"scroll",a.topReseter);a.main.onmouseover=a._getMainOverHandler();a.main.onmouseout=a._getMainOutHandler();a._resetTop();a._resetHeight();if(a._isAutoHide()){a._hide()}a._isRendered=1}},_renderMat:function(){var a=document.createElement("div");a.id=this.__getId("mat");a.className=this.__getClass("mat");document.body.appendChild(a)},refreshView:function(){this._caching();this.heightReseter();this.topReseter()},_getMainOverHandler:function(){var a=this;return function(){clearTimeout(a._autoTimer)}},_getMainOutHandler:function(){var a=this;return function(c){if(a._isAutoHide()){c=c||window.event;var b=c.relatedTarget||c.toElement;if(!baidu.dom.contains(a.main,b)){a._autoHideBar()}}}},_renderMiniBar:function(){var b=this,c=document.createElement("div"),a=[];b._headEl&&a.push('<div class="'+b.__getClass("minibar-text")+'">'+b._headEl.innerHTML+"</div>");a.push('<div class="'+b.__getClass("minibar-arrow")+'"></div>');c.innerHTML=a.join("");c.id=b.__getId("MiniBar");c.className=b.__getClass("minibar");c.style.left="-10000px";c.style.top=b.top+"px";b._miniBar=c;c.onmouseover=b._getMiniOverHandler();c.onmouseout=b._getMiniOutHandler();document.body.appendChild(c)},_getMiniOverHandler:function(){var a=this;var b=a.__getClass("minibar-hover");return function(){if(!baidu.dom.hasClass(this,b)){baidu.addClass(this,b);a._autoTimer=setTimeout(function(){a._hideMiniBar()},a.autoDelay)}}},_getMiniOutHandler:function(){var a=this;return function(){baidu.removeClass(this,a.__getClass("minibar-hover"));clearTimeout(a._autoTimer)}},_resetHeight:function(){var b=this,c=baidu.page,g=baidu.dom.getPosition(b.main),d=c.getScrollTop(),a=c.getViewHeight(),f;if(a){a=a-g.top+d-b.marginTop}else{a=300}if(a<0){a=300}f=a-b.headHeight;this.bodyHeight=f;this.height=a;b._getMat().style.height=a+b.marginTop*2+"px";b.main.style.height=b._miniBar.style.height=a+"px";b._bodyEl&&(b._bodyEl.style.height=f+"px");this.onresize()},onresize:new Function(),_getHeightReseter:function(){var a=this;return function(){a._resetHeight()}},_resetTop:function(){var h=this,a=h.marginTop,d=baidu.page.getScrollTop(),f=h.main,n=h._getMat(),g=h._miniBar,k=h.top,m="absolute",c="absolute",l,b;if(baidu.ie&&baidu.ie<7){if(d>k-a){l=b=d-k+h.top}else{l=b=k;h._resetHeight()}}else{if(d>k-a){c=m="fixed";l=b=a}else{l=b=k;h._resetHeight()}}n.style.top=l-h.marginTop+"px";f.style.top=l+"px";n.style.position=f.style.position=m;g.style.top=b+"px";g.style.position=c;setTimeout(function(){h._resetHeight()},200)},_getTopReseter:function(){var a=this;return function(){a._resetTop()}},_hideMat:function(){this._getMat().style.left="-10000px"},_show:function(){var g=this,f=0,b=10,c=-220,d=b-c,a;function h(){g._getMat().style.left=0;g.main.style.left=b+"px";if(g._isAutoHide()){g._autoHideBar()}}h();return},_hide:function(){var g=this,f=0,b=-220,c=10,d=b-c,a;h();return;function h(k){g._getMat().style.left="-10000px";g.main.style.left=b+"px";g._showMiniBar(k)}},_autoHideBar:function(){var a=this;clearTimeout(a._autoTimer);a._autoTimer=setTimeout(function(){var d=baidu.page.getMousePosition(),c=baidu.dom.getPosition(a.main),b=a.main;if(d.x>c.left+b.offsetWidth||d.y<c.top||d.y>c.top+b.offsetHight){a._hide()}},a.autoDelay)},_showMiniBar:function(k){var h=this,g=0,b=0,d=-30,f=b-d,a;if(k){c();return}function c(){h._miniBar.style.left=b+"px"}c();return},_hideMiniBar:function(){var g=this,f=0,b=-30,c=0,d=b-c,a;function h(){g._miniBar.style.left=b+"px";g._show()}h();return},_repaintNeighbor:function(){var b=esui.util.getControlsByContainer(this._getNeighbor()),a=b.length,d,f,c;for(d=0;d<a;d++){f=b[d];if(f.refreshView){f.refreshView()}else{f.render()}}},_getNeighbor:function(){return baidu.dom.next(this.main)},_getMat:function(){return baidu.g(this.__getId("mat"))},__dispose:function(){var b=this;var a=b._getMat();baidu.un(window,"resize",b.heightReseter);baidu.un(window,"scroll",b.topReseter);document.body.removeChild(b._miniBar);document.body.removeChild(a);b._headEl=null;b._bodyEl=null;b._miniBar=null;esui.Control.prototype.__dispose.call(this)}};baidu.inherits(esui.SideBar,esui.Control);esui.Tab=function(a){this._type="tab";this._autoState=0;esui.Control.call(this,a);this.activeIndex=this.activeIndex||0;this.allowEdit=!!this.allowEdit;this.maxCount=this.maxCount||esui.Tab.MAX_COUNT||5};esui.Tab.prototype={render:function(){var a=this;esui.Control.prototype.render.call(a);this.tabs=this.datasource||this.tabs||[];a._renderTabs()},_tplItem:'<li class="{1}"{2}><em>{0}</em>{3}</li>',_tplAdd:'<li class="add" onclick="{0}">+</li>',_tplClose:'<span onclick="{0}"></span>',_renderTabs:function(){var h=this,b=h.main,k=h.tabs,f=k.length,m=h.__getClass("item"),d=[],n,c,a,l,o,g;if(f==0){b.innerHTML="";return}else{if(f<=h.activeIndex){h.activeIndex=0}else{if(h.activeIndex<0){h.activeIndex=0}}}for(c=0;c<f;c++){a=h.tabs[c];l=a.title;n=m;o="";g="";if(h.allowEdit&&!a.stable){o=esui.util.format(h.tplClose,h.__getStrCall("_close",c))}if(c==0){n+=" "+h.__getClass("item-first")}if(c==f-1){n+=" "+h.__getClass("item-last")}if(c==h.activeIndex){n+=" "+h.__getClass("item-active")}else{g=' onclick="'+h.__getStrCall("_select",c)+'"'}d.push(esui.util.format(h._tplItem,l,n,g,o))}b.innerHTML="<ul>"+d.join("")+"</ul>";h._resetPanel()},_resetPanel:function(){var f=this.tabs;var b=f.length;var a=this.activeIndex;var d;var c;for(d=0;d<b;d++){c=f[d].panel;if(c){baidu.g(c).style.display=(d==a?"":"none")}}},onchange:new Function(),_select:function(a){if(this.onchange(a,this.tabs[a])!==false){this.setActiveIndex(a)}},setActiveIndex:function(a){this.activeIndex=a;this._renderTabs()},onclose:new Function(),_close:function(a){if(this.onclose(a,this.tabs[a])!==false){this.remove(a)}},remove:function(a){var b=this.tabs;b.splice(a,1);if(this.activeIndex>=b.length){this.activeIndex--}if(this.activeIndex<0){this.activeIndex=0}this._renderTabs()},add:function(a){a=a||{title:"新建标签"};this.tabs.push(a);this._renderTabs()}};baidu.inherits(esui.Tab,esui.Control);esui.TextInput=function(a){this._autoState=1;esui.InputControl.call(this,a);this.value=this.value||"";if(this.mode&&this.mode!="textarea"&&this.mode!="password"){this.mode="text"}};esui.TextInput.prototype={setTitle:function(a){this.main.setAttribute("title",a)},disable:function(){this.main.disabled=true;esui.InputControl.prototype.disable.call(this)},enable:function(){this.main.disabled=false;esui.InputControl.prototype.enable.call(this)},setReadOnly:function(a){a=!!a;this.main.readOnly=a;this.readOnly=a;a?this.addState("readonly"):this.removeState("readonly")},setHeight:function(a){this.height=a;a&&(this.main.style.height=a+"px")},setWidth:function(a){this.width=a;a&&(this.main.style.width=a+"px")},select:function(){this.main.select()},getValue:function(){var a=this.main.value;if(this._placing){return""}return a},setValue:function(b){b=b||"";var a=this.main;var d=this.__getClass("virtual");var c=this.placeholder;this._removeInputListener();a.value=b;if(b){this._placing=0;baidu.removeClass(a,d)}else{if(c){this._placing=1;a.value=c;baidu.addClass(a,d)}}this._addInputListener()},render:function(){var b=this;var a=b.main;if(!b._isRendered){esui.InputControl.prototype.render.call(b);a.onkeypress=b._getPressHandler();b._addInputListener();a.onmousedown=null;a.onmouseup=null;a.onfocus=b._getFocusHandler();a.onblur=b._getBlurHandler();b._isRendered=1}b.setReadOnly(!!b.readOnly);b.setDisabled(!!b.disabled);b.setWidth(b.width);b.setHeight(b.height);b.setValue(b.value)},_addInputListener:function(){var a=this.main;var b=this._changeHandler;if(!b){b=this._getChangeHandler();this._changeHandler=b}if(baidu.ie){a.onpropertychange=b}else{baidu.on(a,"input",b)}},_removeInputListener:function(){var b=this._changeHandler;var a=this.main;if(baidu.ie){a.onpropertychange=null}else{b&&baidu.un(a,"input",b)}},onfocus:new Function(),_getFocusHandler:function(){var a=this;return function(){var b=a.main;baidu.removeClass(b,a.__getClass("virtual"));if(a._placing){b.value=""}if(a.autoSelect){b.select()}a.onfocus()}},onblur:new Function(),_getBlurHandler:function(){var a=this;return function(){if(a.main.value!==a.placeholder){a.setValue(a.main.value)}a.onblur()}},onenter:new Function(),_getPressHandler:function(){var a=this;return function(c){c=c||window.event;var b=c.keyCode||c.which;if(a._type!="text"){return}if(b==13){return a.onenter()}}},onchange:new Function(),_getChangeHandler:function(){var a=this;return function(b){if(baidu.ie){if(window.event.propertyName=="value"){a.onchange()}}else{a.onchange()}}},__construct:function(){esui.InputControl.prototype.__construct.call(this);var d=this;var a=d.main;var b=a.tagName;var c=a.getAttribute("type");var f="";switch(b){case"TEXTAREA":f="textarea";break;case"INPUT":switch(c){case"text":case"password":f=c;break}break}if(!f){throw new Error("esui.TextInput: invalid main element!")}d.mode=d.mode||f;d._type=d.mode=="textarea"?"textarea":"text";d.value=d.value||a.value;d.placeholder=d.placeholder||a.getAttribute("placeholder");a.setAttribute("placeholder","")},__dispose:function(){var a=this.main;a.onkeypress=null;a.onchange=null;a.onfocus=null;a.onblur=null;this._removeInputListener();this._changeHandler=null;esui.InputControl.prototype.__dispose.call(this)},__createMain:function(){var a=esui.InputControl.prototype.__createInput;var b=this.mode;b=b||"text";if(b=="text"||b=="password"){return a.call(this,{tagName:"input",name:this.name,type:b})}else{return a.call(this,{tagName:"textarea",name:this.name})}}};baidu.inherits(esui.TextInput,esui.InputControl);esui.Table=function(a){this._type="table";this._autoState=0;esui.Control.call(this,a);this.__initOption("noDataHtml",null,"NODATA_HTML");this.__initOption("followHead",null,"FOLLOW_HEAD");this.__initOption("sortable",null,"SORTABLE");this.__initOption("columnResizable",null,"COLUMN_RESIZABLE");this.__initOption("rowWidthOffset",null,"ROW_WIDTH_OFFSET");this.__initOption("subrowMutex",null,"SUBROW_MUTEX");this.__initOption("subEntryOpenTip",null,"SUBENTRY_OPEN_TIP");this.__initOption("subEntryCloseTip",null,"SUBENTRY_CLOSE_TIP");this.__initOption("subEntryWidth",null,"SUBENTRY_WIDTH");this.__initOption("breakLine",null,"BREAK_LINE");this._followHeightArr=[0,0];this._followWidthArr=[]};esui.Table.NODATA_HTML="";esui.Table.FOLLOW_HEAD=0;esui.Table.SORTABLE=0;esui.Table.COLUMN_RESIZABLE=0;esui.Table.ROW_WIDTH_OFFSET=-1;esui.Table.SUBROW_MUTEX=1;esui.Table.SUBENTRY_OPEN_TIP="点击展开";esui.Table.SUBENTRY_CLOSE_TIP="点击收起";esui.Table.SUBENTRY_WIDTH=18;esui.Table.BREAK_LINE=0;esui.Table.prototype={_initFields:function(){if(!this.fields){return}var b=this.fields,c=b.slice(0),a=c.length;while(a--){if(!c[a]){c.splice(a,1)}}this._fields=c;if(!this.select){return}switch(this.select.toLowerCase()){case"multi":c.unshift(this.FIELD_MULTI_SELECT);break;case"single":c.unshift(this.FIELD_SINGLE_SELECT);break}},getBody:function(){return baidu.g(this.__getId("body"))},getHead:function(){return baidu.g(this.__getId("head"))},getFoot:function(){return baidu.g(this.__getId("foot"))},_getRow:function(a){return baidu.g(this.__getId("row")+a)},_getHeadCheckbox:function(){return baidu.g(this.__getId("selectAll"))},_getWidth:function(){if(this.width){return this.width}var d=this,c,a=document.createElement("div"),b=d.main.parentNode;b.appendChild(a);c=a.offsetWidth;b.removeChild(a);return c},_tplTablePrefix:'<table cellpadding="0" cellspacing="0" width="{0}" controlTable="{1}">',_caching:function(){if(this.followHead){this._cachingFollowHead()}},_cachingFollowHead:function(){var l=this;var g=l._followDoms;if(!g){g=[];l._followDoms=g;var a=l.main.parentNode.firstChild;var c;var f,k;var b=l._followWidthArr;var d=l._followHeightArr;while(a){if(a.nodeType==1&&a.getAttribute("followThead")){g.push(a)}a=a.nextSibling}function h(o,n){var m=baidu.dom.getStyle(o,n);return(m==""?0:+(m.replace("px","")))}d[0]=0;for(f=0,k=g.length;f<k;f++){c=g[f];b[f]=h(c,"padding-left")+h(c,"padding-right")+h(c,"border-left")+h(c,"border-right");d[f+1]=d[f]+c.offsetHeight}d[f+1]=d[f];d.lenght=f+2}l._followTop=baidu.dom.getPosition(g[0]||l.main).top},render:function(){var d=this,b=d.main,c,a;d._initFields();if(!d._fields){return}esui.Control.prototype.render.call(this);if(!d._isInited){d._initMinColsWidth()}d._subrowIndex=null;d._width=d._getWidth();b.style.width=d._width+"px";d._initColsWidth();d.stopEdit();d._renderHead();d._renderBody();d._renderFoot();if(!d._isInited){d._caching();d._initResizeHandler();d._initTopResetHandler();d._isInited=1}else{switch(d.select){case"multi":d.onselect([]);break}}if(d._width!=d._getWidth()){d._handleResize()}},onselect:new Function(),_initMinColsWidth:function(){var g=this,c=g._fields,b=c.length,a=[],h,f,d;if(!g.noHead){for(d=0;d<b;d++){h=c[d];f=h.minWidth;if(!f&&!h.breakLine){f=h.title.length*13+20}a[d]=f}}else{for(d=0;d<b;d++){a[d]=40}}g._minColsWidth=a},_initColsWidth:function(){var m=this,h=m._fields,l=h.length,p=[],o,d,n,f,b,k,c=0,a,g;m._colsWidth=[];d=m._width-1;c=l;for(g=0;g<l;g++){n=h[g];b=n.width;b=(b?parseInt(b,10):0);m._colsWidth.push(b);d-=b;if(!n.stable){p.push(g)}}l=p.length;o=Math.round(d/l);for(g=0;g<l;g++){k=p[g];f=Math.abs(d)<Math.abs(o)?d:o;d-=f;m._colsWidth[k]+=f;a=m._minColsWidth[k];if(a>m._colsWidth[k]){d+=m._colsWidth[k]-a;m._colsWidth[k]=a}}if(d<0){g=0;while(g<l&&d!=0){k=p[g];a=m._minColsWidth[k];if(a<m._colsWidth[k]){f=m._colsWidth[p[g]]-a;f=f>Math.abs(d)?d:-f;d+=Math.abs(f);m._colsWidth[k]+=f}g++}}else{if(d>0){m._colsWidth[p[0]]+=d}}},_renderFoot:function(){var c=this,b="foot",d=c.__getId(b),a=baidu.g(d);if(!(c.foot instanceof Array)){a&&(a.style.display="none")}else{if(!a){a=document.createElement("div");a.id=d;a.className=c.__getClass(b);a.setAttribute("controlTable",c.id);c.main.appendChild(a)}a.style.display="";a.style.width=c._width+"px";a.innerHTML=c._getFootHtml()}},_getFootHtml:function(){var k=[];var d=this.foot;var n=d.length;var p=0;var m=this._colsWidth;var a=this.__getClass("fcell");var c=this.__getClass("fcell-text");var h,g,f,l,b,q,o;k.push(esui.util.format(this._tplTablePrefix,"100%",this.id));for(h=0;h<n;h++){l=d[h];g=m[p];b=l.colspan||1;q=[a];o=l.content;if("function"==typeof o){o=o.call(this)}o=o||"&nbsp;";for(f=1;f<b;f++){g+=m[p+f]}p+=b;if(l.align){q.push(this.__getClass("cell-align-"+l.align))}g+=this.rowWidthOffset;(g<0)&&(g=0);k.push('<th id="'+this._getFootCellId(h)+'" class="'+q.join(" ")+'"',' style="width:'+g+"px;",(g?"":"display:none;")+'">','<div class="'+c+'">',o,"</div></th>")}k.push("</tr></table>");return k.join("")},_renderHead:function(){var c=this,b="head",d=c.__getId(b),a=baidu.g(d);if(c.noHead){return}if(!a){a=document.createElement("div");a.id=d;a.className=c.__getClass(b);a.setAttribute("controlTable",c.id);if(c.columnResizable){a.onmousemove=c._getHeadMoveHandler();a.onmousedown=c._getDragStartHandler()}c.main.appendChild(a)}a.style.width=c._width+"px";a.innerHTML=c._getHeadHtml()},_getHeadHtml:function(){var y=this,r=this._fields,u=r.length,q=[],p=y.__getClass("hcell"),n=y.__getClass("hcell-text"),z=y.__getClass("cell-break"),o=y.__getClass("hsort"),x=y.__getClass("hcell-sel"),s=y.__getClass("hhelp"),t,c,A,v,m,d,w,k,a,l,h,f,g;for(t=0;t<u;t++){if(!r[t].stable){v=t;break}}for(t=u-1;t>=0;t--){if(!r[t].stable){m=t;break}}q.push(esui.util.format(y._tplTablePrefix,"100%",y.id));q.push("<tr>");for(t=0;t<u;t++){a=[p];c=r[t];A=c.title;f=(y.sortable&&c.sortable);l=(f&&c.field&&c.field==y.orderBy);h="";w="";if(f){a.push(y.__getClass("hcell-sort"));if(l){a.push(y.__getClass("hcell-"+y.order))}h=esui.util.format(y._tplSortIcon,o)}if(c.align){a.push(y.__getClass("cell-align-"+c.align))}if(esui.Table.BREAK_LINE||y.breakLine||c.breakLine){a.push(z)}if(typeof A=="function"){d=A.call(y)}else{d=A}d=d||"&nbsp;";q.push('<th id="'+this._getTitleCellId(t)+'" index="'+t+'"',' class="'+a.join(" ")+'"',b(c,t),(t>=v&&t<m?' dragright="1"':""),(t<=m&&t>v?' dragleft="1"':""),' style="width:'+(y._colsWidth[t]+y.rowWidthOffset)+"px;",(y._colsWidth[t]?"":"display:none")+'">','<div class="'+n+(c.select?" "+x:"")+'">',d,h,g,"</div></th>")}q.push("</tr></table>");return q.join("");function b(C,B){if(y.sortable&&C.sortable){return esui.util.format(' onmouseover="{0}" onmouseout="{1}" onclick="{2}" sortable="1"',y.__getStrRef()+"._titleOverHandler(this)",y.__getStrRef()+"._titleOutHandler(this)",y.__getStrRef()+"._titleClickHandler(this)")}return""}},_tplSortIcon:'<div class="{0}"></div>',_tplTipIcon:'<div class="{0}" {1}></div>',_getTitleCellId:function(a){return this.__getId("titleCell")+a},_getFootCellId:function(a){return this.__getId("footCell")+a},_titleOverHandler:function(a){if(this._isDraging||this._dragReady){return}this._sortReady=1;baidu.addClass(a,this.__getClass("hcell-hover"))},_titleOutHandler:function(a){this._sortReady=0;baidu.removeClass(a,this.__getClass("hcell-hover"))},onsort:new Function(),_titleClickHandler:function(b){if(this._sortReady){var c=this,d=c._fields[b.getAttribute("index")],f=c.orderBy,a=c.order;if(f==d.field){a=(!a||a=="asc")?"desc":"asc"}else{a="desc"}c.onsort(d,a);c.order=a;c.orderBy=d.field;c._renderHead()}},_getHeadMoveHandler:function(){var b=this,c=b.__getClass("startdrag"),a=8;return function(k){if(b._isDraging){return}k=k||window.event;var d=k.srcElement||k.target,h=baidu.page,g=k.pageX||k.clientX+h.getScrollLeft(),m,f,l;d=b._findDragCell(d);if(!d){return}m=baidu.dom.getPosition(d);f=d.getAttribute("index");l=d.getAttribute("sortable");if(d.getAttribute("dragleft")&&g-m.left<a){l&&(b._titleOutHandler(d));baidu.addClass(this,c);b._dragPoint="left";b._dragReady=1}else{if(d.getAttribute("dragright")&&m.left+d.offsetWidth-g<a){l&&(b._titleOutHandler(d));baidu.addClass(this,c);b._dragPoint="right";b._dragReady=1}else{baidu.removeClass(this,c);l&&(b._titleOverHandler(d));b._dragPoint="";b._dragReady=0}}}},_findDragCell:function(a){while(a.nodeType==1){if(a.tagName=="TH"){return a}a=a.parentNode}return null},_getDragStartHandler:function(){var a=this,b=a.__getClass("startdrag");return function(d){d=d||window.event;var c=d.target||d.srcElement;c=a._findDragCell(c);if(!c){return}if(baidu.g(a.__getId("head")).className.indexOf(b)<0){return}a._htmlHeight=document.documentElement.clientHeight;a._isDraging=true;a._dragIndex=c.getAttribute("index");a._dragStart=d.pageX||d.clientX+baidu.page.getScrollLeft();document.onmousemove=a._getDragingHandler();document.onmouseup=a._getDragEndHandler();a._showDragMark(a._dragStart);baidu.event.preventDefault(d);return false}},_getDragingHandler:function(){var a=this;return function(b){b=b||window.event;a._showDragMark(b.pageX||b.clientX+baidu.page.getScrollLeft());baidu.event.preventDefault(b);return false}},_showDragMark:function(b){var a=this,c=a._getDragMark();if(!a.top){a.top=baidu.dom.getPosition(a.main).top}if(!c){c=a._createDragMark()}c.style.top=a.top+"px";c.style.left=b+"px";c.style.height=a._htmlHeight-a.top+baidu.page.getScrollTop()+"px"},_hideDragMark:function(){var a=this._getDragMark();a.style.left="-10000px";a.style.top="-10000px"},_createDragMark:function(){var a=document.createElement("div");a.id=this.__getId("dragMark");a.className=this.__getClass("mark ");a.style.top="-10000px";a.style.left="-10000px";document.body.appendChild(a);return a},_getDragMark:function(){return baidu.g(this.__getId("dragMark"))},_getDragEndHandler:function(){var a=this;return function(v){v=v||window.event;var q,l=parseInt(a._dragIndex,10),b=v.pageX||v.clientX+baidu.page.getScrollLeft(),w,d,s=a._fields,f=s.length,z=[],k=[],c,g,x,p=0,r=a._colsWidth,m,u,y=0,h,t,n,o;if(a._dragPoint=="left"){l--}q=a._minColsWidth[l];w=b-a._dragStart;n=r[l]+w;if(n<q){w+=(q-n);n=q}for(u=l+1;u<f;u++){if(!s[u].stable&&r[u]>0){z.push(u);x=r[u];k.push(x);p+=x}}m=w;g=z.length;for(u=0;u<g;u++){c=z[u];x=k[u];o=w*x/p;if(m>0){t=Math.ceil(o)}else{t=Math.floor(o)}t=(Math.abs(t)<Math.abs(m)?t:m);x-=t;m-=t;q=a._minColsWidth[c];if(x<q){y+=q-x;x=q}r[c]=x}n-=y;r[l]=n;a._resetColumns();document.onmousemove=null;document.onmouseup=null;a._isDraging=false;a._hideDragMark();baidu.event.preventDefault(v);return false}},_renderBody:function(){var c=this,b="body",f=c.__getId(b),d=baidu.g(f),a;if(!d){d=document.createElement("div");d.id=f;d.className=c.__getClass(b);if(c.bodyHeight){a=d.style;a.height=c.bodyHeight+"px";a.overflowX="hidden";a.overflowY="auto"}c.main.appendChild(d)}d.style.width=c._width+"px";d.innerHTML=c._getBodyHtml()},_getBodyHtml:function(){var g=this.datasource||[],d=g.length,c=[],b,a,f,h;if(!d){return this.noDataHtml}for(b=0;b<d;b++){f=g[b];c[b]=this._getRowHtml(f,b)}return c.join("")},_tplRowPrefix:'<div id="{0}" class="{1}" onmouseover="{2}" onmouseout="{3}" onclick="{4}">',_getBodyCellId:function(b,a){return this.__getId("cell")+b+"_"+a},_getRowHtml:function(A,m){var z=this,p=[],x=z.__getClass("cell"),r=z.__getClass("cell-break"),k=z.__getClass("cell-text"),t=z._fields,f=t.length,s,y,v,q,a,h,o,l=z.subrow&&z.subrow!="false",n,c,g,d,u,b,w;p.push(esui.util.format(z._tplRowPrefix,z.__getId("row")+m,z.__getClass("row")+" "+z.__getClass("row-"+((m%2)?"odd":"even")),z.__getStrCall("_rowOverHandler",m),z.__getStrCall("_rowOutHandler",m),(z.selectMode=="line"?z.__getStrCall("_rowClickHandler",m):"")),esui.util.format(z._tplTablePrefix,"100%",z.id));for(w=0;w<f;w++){q=[x];a=[k];b=t[w];v=b.content;y=z._colsWidth[w];n=l&&b.subEntry;u=z.editable&&b.editable&&b.edittype;if(esui.Table.BREAK_LINE||z.breakLine||b.breakLine){q.push(r)}if(u){a.push(z.__getClass("cell-editable"))}if(b.select){a.push(z.__getClass("cell-sel"))}if(b.align){q.push(z.__getClass("cell-align-"+b.align))}o="";if(b.field&&b.field==z.orderBy){q.push(z.__getClass("cell-sorted"))}g=("function"==typeof v?v.call(z,A,m,w,a):(v in A?typeof A[v]==="string"?A[v]||"-":A[v]:"-"));d='<div class="'+a.join(" ")+'">'+g+z._getEditEntryHtml(b,m,w)+"</div>";c="&nbsp;";if(n){if(typeof b.isSubEntryShow!="function"||b.isSubEntryShow.call(z,A,m,w)!==false){c=z._getSubEntryHtml(m)}q.push(z.__getClass("subentryfield"));d='<table width="100%" collpadding="0" collspacing="0"><tr><td width="'+z.subEntryWidth+'" align="right">'+c+"</td><td>"+d+"</td></tr></table>"}p.push('<td id="'+z._getBodyCellId(m,w)+'"','class="'+q.join(" ")+'"',' style="width:'+(y+z.rowWidthOffset)+"px;",(y?"":"display:none"),'" controlTable="'+z.id,'" row="'+m+'" col="'+w+'">',d,"</td>")}p.push("</tr></table></div>");if(l){p.push(z._getSubrowHtml(m))}return p.join("")},_getEditEntryHtml:function(c,d,a){var b=c.edittype;if(this.editable&&c.editable&&b){return'<div class="'+this.__getClass("cell-editentry")+'" onclick="'+this.__getStrCall("startEdit",b,d,a)+'"></div>'}return""},_rowOverHandler:function(a){if(this._isDraging){return}var b=this._getRow(a);if(b){baidu.addClass(b,this.__getClass("row-hover"))}},_rowOutHandler:function(a){var b=this._getRow(a);if(b){baidu.removeClass(b,this.__getClass("row-hover"))}},preventLineSelect:function(){this._dontSelectLine=1},_rowClickHandler:function(b){if(this.selectMode=="line"){if(this._dontSelectLine){this._dontSelectLine=false;return}var a;switch(this.select){case"multi":a=baidu.g(this.__getId("multiSelect")+b);if(!esui.util.hasValue(this._preSelectIndex)){a.checked=!a.checked}this._selectMulti(b);this._preSelectIndex=null;break;case"single":a=baidu.g(this.__getId("singleSelect")+b);a.checked=true;this._selectSingle(b);break}}},tplSubEntry:'<div class="{0}" onmouseover="{2}" onmouseout="{3}" onclick="{4}" id="{1}" title="{5}"></div>',_getSubEntryHtml:function(a){var b=this;return esui.util.format(b.tplSubEntry,b.__getClass("subentry"),b._getSubentryId(a),b.__getStrCall("_entryOver",a),b.__getStrCall("_entryOut",a),b.__getStrCall("fireSubrow",a),b.subEntryOpenTip)},_getSubrowHtml:function(a){return'<div id="'+this._getSubrowId(a)+'" class="'+this.__getClass("subrow")+'" style="display:none"></div>'},getSubrow:function(a){return baidu.g(this._getSubrowId(a))},_getSubrowId:function(a){return this.__getId("subrow")+a},_getSubentryId:function(a){return this.__getId("subentry")+a},_entryOver:function(a){var b=baidu.g(this._getSubentryId(a)),d=/subentry-opened/.test(b.className),c="subentry-hover";if(d){c="subentry-opened-hover"}baidu.addClass(b,this.__getClass(c))},_entryOut:function(a){var b=this._getSubentryId(a);baidu.removeClass(b,this.__getClass("subentry-hover"));baidu.removeClass(b,this.__getClass("subentry-opened-hover"))},fireSubrow:function(c){var g=this,f=g._getSubentryId(c),a=g.datasource,d=(a instanceof Array&&a.length),b;if(!d||c>=d){return}if(!baidu.g(f).getAttribute("data-subrowopened")){b=a[c];if(g.onsubrowopen(c,b)!==false){g.openSubrow(c)}}else{g._closeSubrow(c)}g._entryOver(c)},_closeSubrow:function(a){var c=this,b=baidu.g(c._getSubentryId(a));if(c.onsubrowclose(a,c.datasource[a])!==false){c._entryOut(a);c._subrowIndex=null;baidu.removeClass(b,c.__getClass("subentry-opened"));baidu.removeClass(c._getRow(a),c.__getClass("row-unfolded"));b.setAttribute("title",c.subEntryOpenTip);b.setAttribute("data-subrowopened","");baidu.hide(c._getSubrowId(a));return true}return false},onsubrowopen:new Function(),onsubrowclose:new Function(),openSubrow:function(b){var d=this,a=d._subrowIndex,c=baidu.g(d._getSubentryId(b)),f=1;if(esui.util.hasValue(a)){f=d._closeSubrow(a)}if(!f){return}baidu.addClass(c,d.__getClass("subentry-opened"));baidu.addClass(d._getRow(b),d.__getClass("row-unfolded"));c.setAttribute("title",d.subEntryCloseTip);c.setAttribute("data-subrowopened","1");baidu.show(d._getSubrowId(b));d.subrowMutex&&(d._subrowIndex=b)},_initResizeHandler:function(){var a=this;a.viewWidth=baidu.page.getViewWidth();a.viewHeight=baidu.page.getViewHeight();a._resizeHandler=function(){var c=baidu.page.getViewWidth(),b=baidu.page.getViewHeight();if(c==a.viewWidth&&b==a.viewHeight){return}a.viewWidth=c;a.viewHeight=b;a._handleResize()};baidu.on(window,"resize",a._resizeHandler)},_handleResize:function(){var f=this,d=f.getHead(),c=f.getFoot(),g,b,a;f._width=f._getWidth();b=f._width+"px";f.main.style.width=b;f.getBody().style.width=b;d&&(d.style.width=b);c&&(c.style.width=b);f._initColsWidth();f._resetColumns();if(f.followHead){g=f.main.parentNode.firstChild;a=0;while(g){if(g.nodeType==1&&g.getAttribute("followThead")){g.style.width=f._width-f._followWidthArr[a++]+"px"}g=g.nextSibling}}f._topReseter&&f._topReseter()},_initTopResetHandler:function(){if(!this.followHead){return}var h=this,a=h.main.parentNode.firstChild,l=h.getHead(),c=h._followWidthArr,f=h.__getId("TopPlaceholder"),k=document.createElement("div"),d,g,b,m;k.id=f;k.style.width="100%";k.style.display="none";baidu.dom.insertBefore(k,h.main);k=null;for(d=0,g=h._followDoms.length;d<g;d++){h._followDoms[d].style.width=h._width-c[d]+"px"}l&&(l.style.width=h._width+"px");h._topReseter=function(){var n=baidu.page.getScrollTop(),s=h._followHeightArr,u=s.length,o="",q=h._followDoms,t=q.length,v=baidu.g(f),p=0,r;function w(y,z,x){if(y){y.style.top=x+"px";y.style.position=z}}if(baidu.ie&&baidu.ie<7){if(n>h._followTop){o="absolute";v.style.height=s[u-1]+l.offsetHeight+"px";v.style.display="";for(;p<t;p++){w(q[p],o,s[p]+n)}w(l,o,s[u-1]+n)}else{v.style.height=0;v.style.display="none";o="";for(;p<t;p++){w(q[p],o,0)}w(l,o,0)}}else{if(n>h._followTop){v.style.height=s[u-1]+l.offsetHeight+"px";v.style.display="";o="fixed";for(;p<t;p++){w(q[p],o,s[p])}w(l,o,s[u-1])}else{v.style.height=0;v.style.display="none";o="";for(;p<t;p++){w(q[p],o,0)}w(l,o,0)}}};baidu.on(window,"scroll",h._topReseter)},_resetColumns:function(){var t=this,f=t.datasource||[],l=t._colsWidth,s=t.foot,k=t.id,q=s instanceof Array&&s.length,u=f.length,o=t.getBody().getElementsByTagName("td"),g=t.main.getElementsByTagName("table"),b=o.length,c=0,d,m,p,n,h,r,a;if(q){h=0;for(p=0;p<q;p++){r=s[p];m=l[h];a=r.colspan||1;for(n=1;n<a;n++){m+=l[h+n]}h+=a;d=baidu.g(t._getFootCellId(p));m=Math.max(m+t.rowWidthOffset,0);d.style.width=m+"px";d.style.display=m?"":"none"}}q=l.length;if(!t.noHead){for(p=0;p<q;p++){m=Math.max(l[p]+t.rowWidthOffset,0);d=baidu.g(t._getTitleCellId(p));d.style.width=m+"px";d.style.display=m?"":"none"}}n=0;for(p=0;p<b;p++){d=o[p];if(d.getAttribute("controlTable")==k){m=Math.max(l[n%q]+t.rowWidthOffset,0);d.style.width=m+"px";d.style.display=m?"":"none";n++}}},FIELD_MULTI_SELECT:{width:30,stable:true,select:true,title:function(){return'<input type="checkbox" id="'+this.__getId("selectAll")+'" onclick="'+this.__getStrCall("_toggleSelectAll")+'">'},content:function(b,a){return'<input type="checkbox" id="'+this.__getId("multiSelect")+a+'" onclick="'+this.__getStrCall("_rowCheckboxClick",a)+'">'}},FIELD_SINGLE_SELECT:{width:30,stable:true,title:"&nbsp;",select:true,content:function(b,a){var c=this.__getId("singleSelect");return'<input type="radio" id="'+c+a+'" name='+c+' onclick="'+this.__getStrCall("_selectSingle",a)+'">'}},_rowCheckboxClick:function(a){if(this.selectMode!="line"){this._selectMulti(a)}else{this._preSelectIndex=a}},_selectMulti:function(k){var n=this,h=n.getBody().getElementsByTagName("input"),f=0,m=0,g=true,l=h.length,c=n._getHeadCheckbox(),d=[],b=n.__getClass("row-selected"),r=n.__getId("multiSelect"),a=!esui.util.hasValue(k),o,p,q;for(;f<l;f++){o=h[f];p=o.id;if(o.getAttribute("type")=="checkbox"&&p&&p.indexOf(r)>=0){if(a){q=o.parentNode;while(1){if(q.tagName=="DIV"&&/^ui-table-row/.test(q.className)){break}q=q.parentNode}}if(!o.checked){g=false;a&&baidu.removeClass(q,b)}else{d.push(m);a&&baidu.addClass(q,b)}m++}}this.onselect(d);if(!a){q=n._getRow(k);o=baidu.g(r+k);if(o.checked){baidu.addClass(q,b)}else{baidu.removeClass(q,b)}}c.checked=g},_toggleSelectAll:function(){this._selectAll(this._getHeadCheckbox().checked)},_selectAll:function(l){var d=this.getBody().getElementsByTagName("input"),g=d.length,c=0,f=0,b=[],a=this.__getClass("row-selected"),m=this.__getId("multiSelect"),h,k;for(;c<g;c++){h=d[c];k=h.id;if(h.getAttribute("type")=="checkbox"&&k&&k.indexOf(m)>=0){d[c].checked=l;if(l){b.push(f);baidu.addClass(this._getRow(f),a)}else{baidu.removeClass(this._getRow(f),a)}f++}}this.onselect(b)},_selectSingle:function(b){var c=this.__getClass("row-selected"),a=this._selectedIndex;if(this.onselect(b)){if("number"==typeof a){baidu.removeClass(this._getRow(a),c)}this._selectedIndex=b;baidu.addClass(this._getRow(b),c)}},resetHeadStyle:function(){var b=this.getHead().getElementsByTagName("th"),a=b.length,c;while(a--){c=b[a];baidu.removeClass(c.firstChild,this.__getClass("thcell_sort"))}},refreshView:function(){this._caching();this._handleResize()},onedit:new Function(),startEdit:function(d,h,c){if(this.editable){var a=baidu.g(this._getBodyCellId(h,c));var b=-5;var g=baidu.dom.getPosition(a);var f=this._fields[c];this._currentEditor=esui.Table.EditorManager.startEdit(this,d,{left:g.left+b,top:g.top+b,rowIndex:h,columnIndex:c,field:f,value:this.datasource[h][f.field]})}},stopEdit:function(){if(this._currentEditor){this._currentEditor.stop();this._currentEditor=null}},setCellText:function(c,d,b,a){if(a){c=baidu.encodeHTML(c)}c+=this._getEditEntryHtml(this._fields[b],d,b);baidu.g(this._getBodyCellId(d,b)).firstChild.innerHTML=c},__dispose:function(){var a=baidu.g(this.__getId("head")),b=baidu.g(this.__getId("dragMark"));if(a){a.onmousemove=null;a.onmousedown=null}this._followDoms=null;this.stopEdit();if(b){document.body.removeChild(b)}esui.Control.prototype.__dispose.call(this);if(this._resizeHandler){baidu.un(window,"resize",this._resizeHandler);this._resizeHandler=null}if(this._topReseter){baidu.un(window,"scroll",this._topReseter);this._topReseter=null}}};baidu.inherits(esui.Table,esui.Control);esui.Table.EditorManager=function(){var b={};var a;return{add:function(d,c){b[d]=c},remove:function(c){delete b[c]},startEdit:function(g,f,c){var d=b[f];if(d){d.start(g,c)}return d}}}();esui.Table.Editor=function(a){this.type="null";for(var b in a){this[b]=a[b]}this.okId="_ctrlTableEditorOk"+this.type;this.cancelId="_ctrlTableEditorCancel"+this.type;this.errorId="_ctrlTableEditorError"+this.type};esui.Table.Editor.OK_TEXT="确定";esui.Table.Editor.CANCEL_TEXT="取消";esui.Table.Editor.prototype={_idPrefix:"__table_editor__",tpl:'<div ui="id:{0};type:Button;skin:em">{2}</div><div ui="id:{1};type:Button;">{3}</div>',init:function(){if(!this._isInit){var a=esui.util.create("Layer",{id:this._idPrefix+this.type,retype:"table-editor ui-table-editor-"+this.type});a.appendTo();this.layer=a;this.initLayer();this._isInit=1}},initLayer:function(){this.fillLayer();var a=this.initLayerControl();this.initButton(a)},initLayerControl:function(){return esui.util.init(this.layer.main)},fillLayer:function(b){b=b||[];var a=this.layer.main;var c=this.tpl;b.unshift(c,this.okId,this.cancelId,esui.Table.Editor.OK_TEXT,esui.Table.Editor.CANCEL_TEXT,this.errorId);a.innerHTML=esui.util.format.apply(window,b)},initButton:function(b){var c=b[this.okId];var a=b[this.cancelId];c.onclick=this.getOkHandler();a.onclick=this.getCancelHandler();this.okButton=c;this.cancelButton=a;this.setButtonDisabled(1)},setButtonDisabled:function(a){this.okButton.setDisabled(a);this.cancelButton.setDisabled(a)},getValue:function(){return null},getOkHandler:function(){var a=this;return function(){a.doOk()}},doOk:function(){if(this.currentTable.onedit(this.getValue(),this.currentOptions,this)!==false){this.stop()}},getCancelHandler:function(){var a=this;return function(){a.stop()}},stop:function(){this.layer.hide();this.setButtonDisabled(1)},start:function(b,a){this.init();this.currentTable=b;this.currentOptions=a;var d=a.left||0;var c=a.top||0;this.unsetError();this.setButtonDisabled(0);this.layer.show(d,c);this.setValue&&this.setValue(a.value,a)},wait:function(){this.setButtonDisabled(1)},restart:function(){this.setButtonDisabled(0)},setError:function(a){var b=baidu.g(this.errorId);b.innerHTML=a;baidu.show(b)},unsetError:function(){baidu.hide(this.errorId)}};esui.Table.EditorManager.add("string",new esui.Table.Editor({type:"string",tpl:'<input type="text" ui="type:TextInput;id:{5}" /><div ui="id:{0};type:Button;skin:em">{2}</div><div ui="id:{1};type:Button;">{3}</div><div id="{4}" class="ui-table-editor-error"></div>',inputId:"_ctrlTableEditorStringInput",initLayer:function(){this.fillLayer([this.inputId]);var a=this.initLayerControl();this.inputCtrl=a[this.inputId];this.inputCtrl.onenter=this.getOkHandler();this.initButton(a)},setValue:function(a){this.inputCtrl.setValue(a)},getValue:function(){return this.inputCtrl.getValue()},getOkHandler:function(){var a=this;return function(){var c=a.inputCtrl.getValue();if(a.currentOptions.field.validator){var b=a.currentOptions.field.validator.call(a.currentTable,c,a.currentTable.datasource[a.currentOptions.rowIndex]);if(b){a.setError(b);return}}a.doOk()}}}));esui.Table.EditorManager.add("int",new esui.Table.Editor({type:"int",tpl:'<input type="text" ui="type:TextInput;id:{5}" /><div ui="id:{0};type:Button;skin:em">{2}</div><div ui="id:{1};type:Button;">{3}</div><div id="{4}" class="ui-table-editor-error"></div>',inputId:"_ctrlTableEditorIntInput",initLayer:function(){this.fillLayer([this.inputId]);var a=this.initLayerControl();this.inputCtrl=a[this.inputId];this.inputCtrl.onenter=this.getOkHandler();this.initButton(a)},setValue:function(a){this.inputCtrl.setValue(a)},getValue:function(){return parseInt(this.inputCtrl.getValue(),10)},getOkHandler:function(){var a=this;return function(){var c=a.inputCtrl.getValue();if(!/^-?\d+$/.test(c)){a.setError("请输入正确的整数，谢谢。");return}if(a.currentOptions.field.validator){var b=a.currentOptions.field.validator.call(a.currentTable,c,a.currentTable.datasource[a.currentOptions.rowIndex]);if(b){a.setError(b);return}}a.doOk()}}}));esui.TextLine=function(a){this._type="textline";this._autoState=0;esui.InputControl.call(this,a);this.number=1;this._numberId=this.__getId("number");this._textId=this.__getId("text");this._numberInnId=this._numberId+"Word";this.__initOption("height",null,"HEIGHT")};esui.TextLine.HEIGHT=200;esui.TextLine.prototype={render:function(){var a=this;if(!a._isRendered){esui.InputControl.prototype.render.call(a);a._renderMain();a._refreshLine();a._bindEvent();a._isRendered=1}a.setWidth(a.width);a.setHeight(a.height);a.setValue(a.value)},showNumber:function(){this._numberHidden=false;baidu.show(this._numberEl);this._resetLineWidth();this._resetScroll()},hideNumber:function(){this._numberHidden=true;baidu.hide(this._numberEl);this._resetLineWidth()},setHeight:function(a){this.height=a;if(a){this._numberEl.style.height=this.main.style.height=a+"px";this._controlMap.text.setHeight(a)}},setWidth:function(a){this.width=a;if(a){this.main.style.width=a+"px";this._resetLineWidth()}},_bindEvent:function(){var a=this;var b=a._getTextCtrl();a._lineRefresher=a._getLineRefresher();a._scrollRefresher=a._getScrollReseter();b.onchange=a._lineRefresher;b.main.onscroll=a._scrollRefresher;a._numberEl.onscroll=a._getScrollLineReseter()},_getScrollLineReseter:function(){var a=this;return function(){a._resetScrollByLine()}},_getScrollReseter:function(){var a=this;return function(){a._resetScroll()}},_getLineRefresher:function(){var a=this;return function(){var b=a._getTextEl();a._refreshLine();(typeof a.onchange=="function")&&a.onchange()}},_tpl:'<div id="{0}" class="{2}"><pre style="margin:0;border:0;padding:0;">1</pre></div><span id="{3}" class="{4}" style="left:-10000px;position:absolute;">1</span><textarea ui="type:TextInput;id:{1}"></textarea>',_renderMain:function(){var d=this;var a=d.main;var b=d._numberId;var h=d._textId;var c=d._numberInnId;var g={};var f;g[h]={width:d.width,height:d.height,value:d.value};a.innerHTML=esui.util.format(d._tpl,b,h,d.__getClass("number"),c,d.__getClass("numberinner"));d._controlMap.text=f=esui.util.init(a,g)[h];f.main.onmouseover=null;f.main.onmouseout=null;d._numberEl=baidu.g(b);d._numberEl.style.height=d.height+"px";d._numberInnEl=baidu.g(c)},_refreshLine:function(){var d=this;var c=[];var a=d._getTextCtrl().getValue().split("\n").length;var b;if(a!=d.number){d.number=a;for(b=1;b<a+1;b++){c.push(b)}d._numberInnEl.innerHTML=a+1;if(baidu.ie){d._numberEl.innerHTML=c.join("<br>")}else{d._numberEl.firstChild.innerHTML=c.join("\n")}d._resetLineWidth()}d._resetScroll()},_resetLineWidth:function(){var a=Math.max(this._numberInnEl.offsetWidth,14);var b=a+12;var c=this.width-b;this._numberEl.style.width=a+18+"px";if(this._numberHidden){b=0;c=this.width}this._getTextEl().style.left=b+"px";this._getTextCtrl().setWidth(c)},_getTextEl:function(){return this._getTextCtrl().main},_getTextCtrl:function(){return this._controlMap.text},_resetScroll:function(){var a=this;a._numberEl.scrollTop=a._getTextEl().scrollTop},_resetScrollByLine:function(){var a=this;a._getTextEl().scrollTop=a._numberEl.scrollTop},addLines:function(a){var c=this;var f=c._controlMap.text;var b=a.join("\n");var d=c.getValue();if(d.lenght>0){b=d+"\n"+b}f.setValue(b)},setValue:function(a){var b=this._getTextCtrl();b.setValue(a);this._refreshLine()},getValue:function(){var a=this._getTextCtrl();return baidu.trim(a.getValue().replace(/\r/g,""))},getValueAsArray:function(){var d=this.getValue().split("\n");var b=d.length;var c={};var a=[];var f;var g;for(f=0;f<b;f++){g=baidu.trim(d[f]);if(g.length===0||c[g]){continue}c[g]=1;a.push(g)}return a},__dispose:function(){this._numberInnerEl=null;if(this._numberId){this._numberId.onscroll=null;this._numberId=null}var a=this._getTextCtrl();a&&(a.main.onscroll=null);esui.InputControl.prototype.__dispose.call(this)}};baidu.inherits(esui.TextLine,esui.InputControl);esui.Tip=function(){var p="__TipLayer",s="__TipLayerTitle",g="__TipLayerClose",n="__TipLayerArrow",c="__TipLayerBody",b="ui-tip-title",k="ui-tip-body",f="ui-tip-arrow",o,r,m,t;function d(){o.hide();r=false;var u=o.main;u.onmouseover=null;u.onmouseout=null}function h(){if(m){clearTimeout(m);m=null}}function a(u){this._type="tip-entrance";this._autoState=0;esui.Control.call(this,u);this.mode=this.mode||"over";if(this.hideDelay){this.hideDelay=parseInt(this.hideDelay,10)}if(this.disabled){this.addState("disabled",1)}}a.prototype={render:function(){var w=this;var x=w.mode;var v=w.main;var u=w._getDoShow();if(!w._isRendered){esui.Control.prototype.render.call(w);switch(x){case"over":case"click":if(x=="over"){v.onmouseover=u}else{v.onclick=u;v.style.cursor="pointer"}if(!w.disableMouseout){v.onmouseout=w._getOutHandler()}break;case"auto":u();break}w._isRendered=1}},_getDoShow:function(){var u=this;return function(){if(u.isDisabled()){return}var w=u.title;var v=u.content;if(typeof w=="function"){w=w.call(u)}if(typeof v=="function"){v=v.call(u)}l(u.main,{title:w,content:v,arrow:u.arrow,closeButton:u.closeButton,width:u.width,disableout:u.disableMouseout,hideDelay:u.hideDelay,mode:u.mode})}},_getOutHandler:function(){var u=this;return function(){a.hide(u.hideDelay)}}};baidu.inherits(a,esui.Control);function l(A,K){if(!K||!A){return}!t&&a._init();if(r){h()}baidu.g(c).innerHTML=K.content;var ab=K.title;if(ab){baidu.g(s).innerHTML=ab;baidu.show(s)}else{baidu.hide(s)}var B=o.main;var I=K.width||300;B.style.width=I+"px";var y=K.arrow,S=K.closeButton,C=baidu.dom.getPosition(A),Z=C.left,F=C.top,J=A.offsetWidth,L=A.offsetHeight,P=baidu.page.getViewWidth(),M=baidu.page.getViewHeight(),R=baidu.page.getScrollLeft(),w=baidu.page.getScrollTop(),Y=esui.util.get(g).main,O=B.offsetWidth,U=B.offsetHeight,W=5,V=0,X=0,N=f,z,Q,u,H,x,E,v,G,aa,D;if(!esui.util.hasValue(y)){y=a.ARROW}if(!esui.util.hasValue(S)){S=a.CLOSE_BUTTON}else{S=S==0||S==false?false:true}Y.style.display=S?"":"none";if(y){X=1;y=String(y).toLowerCase();W=20;V=14;u=Z+J-W;H=Z+W-O;x=F+L+V;E=F-V-U;v=Z+J+W;aa=F+L-V;D=F+V-U;G=Z-W-O;switch(y){case"tr":z=H;Q=x;break;case"tl":z=u;Q=x;break;case"bl":z=u;Q=E;break;case"br":z=H;Q=E;break;case"lt":z=v;Q=aa;break;case"lb":z=v;Q=D;break;case"rb":z=G;Q=D;break;case"rt":z=G;Q=aa;break;default:X=0;W=-W;break}}if(!X){Q=F+L+V;y&&(y="t");if(Q+U>M+w){if((X=F-V-U)>0){Q=X;y&&(y="b")}}z=Z+J+W;y&&(y+="l");if(z+O>P+R){if((X=Z-W-O)>0){z=X;y&&(y=y.substr(0,1)+"r")}}}y&&(N+=" "+f+"-"+y);baidu.g(n).className=N;if(K.mode!="auto"){B.onmouseover=h;if(!K.disableout){B.onmouseout=q(K.hideDelay)}}r=true;o.show(z,Q)}a.hide=function(u){u=u||a.HIDE_DELAY;m=setTimeout(d,u)};a.HIDE_DELAY=300;a.show=l;function q(u){return function(){a.hide(u)}}a._init=function(){if(t){return}t=1;o=esui.util.create("Layer",{id:p,retype:"tip",width:300});o.appendTo();var v=o.main,y=document.createElement("h3"),u=document.createElement("div"),w=document.createElement("div"),x=esui.util.create("Button",{id:g,skin:"layerclose"});y.id=s;y.className=b;v.appendChild(y);u.id=c;u.className=k;v.appendChild(u);w.id=n;w.className=f;v.appendChild(w);x.appendTo(v);x.onclick=d};a.ARROW=0;a.CLOSE_BUTTON=0;return a}();baidu.on(window,"load",esui.Tip._init);esui.TreeView=function(a){this._type="treeview";this._autoState=0;esui.Control.call(this,a);this.__initOption("clickExpand",null,"CLICK_EXPAND");this.__initOption("expandSelected",null,"EXPAND_SELECTED");this.__initOption("collapsed",null,"COLLAPSED");this._dataMap={}};esui.TreeView.COLLAPSED=0;esui.TreeView.CLICK_EXPAND=1;esui.TreeView.EXPAND_SELECTED=0;esui.TreeView.prototype={render:function(){var a=this;if(!a._isRendered){esui.Control.prototype.render.call(a);a.width&&(a.main.style.width=a.width+"px");a._isRendered=1}a.main.innerHTML=a._getMainHtml()},_getMainHtml:function(){return this.datasource&&this._getNodeHtml(this.datasource,!!this.collapsed,0)},_getChildsHtml:function(d,f,h){var g=this,b=[],c,a;for(c=0,a=d.length;c<a;c++){b.push("<li>"+g._getNodeHtml(d[c],f,h+1)+"</li>")}return b.join("")},_tplNode:'<div type="{0}" value="{4}" id="{2}" class="{1}" isExpanded="{8}" level="{9}" onclick="{10}" onmouseover="{11}" onmouseout="{12}"><div class="{5}" onclick="{13}">&nbsp;</div><div class="{6}">&nbsp;</div><div class="{7}">{3}</div></div>',_getNodeHtml:function(n,u,b){var w=b;b=this._getLevelTag(b);var v=this,f=n.type,k=v.getChildren(n),s=k&&k.length>0,q=v.getItemId(n),c=v.__getClass("node-type"),a=v.__getClass("node-icon"),t=v._getNodeClass("node",b),h=v._getNodeClass("children",b),p=v.__getId("node"+q),m=v.getItemHtml(n),l=v.__getStrRef(),r="",d=u,g,o;this._dataMap[q]=n;if(s){g="branch"}else{g="leaf"}t+=" "+v.__getClass("node-"+g);if(b=="root"){d=false}if(f){c+=" "+v.__getClass("node-type-"+f)}if(d){if(s){r=' style="display:none";'}}else{t+=" "+v.__getClass("node-expanded")}o=esui.util.format(v._tplNode,g,t,p,m,q,a,c,v.__getClass("node-text"),d?"":"1",w,l+"._nodeClickHandler(this)",l+"._nodeOverHandler(this)",l+"._nodeOutHandler(this)",l+"._iconClickHandler(this)");if(s){o+=esui.util.format('<ul id="{2}" value="{4}" class="{3}"{1}>{0}</ul>',v.getChildrenHtml(k,u,w),r,v.__getId("children"+q),h,q)}return o},_getNodeClass:function(a,b){return this.__getClass(a)+" "+this.__getClass(a+"-"+b)},_getLevelTag:function(a){if(a===0){a="root"}else{a="level"+a}return a},_nodeOverHandler:function(a){if(this.isDisabled()){return}baidu.addClass(a,this.__getClass("node-hover"))},_nodeOutHandler:function(a){if(this.isDisabled()){return}baidu.removeClass(a,this.__getClass("node-hover"))},_iconClickHandler:function(a){if(this.isDisabled()){return}var b=a.parentNode;this._toggle(b);this._isPreventClick=1},_nodeClickHandler:function(b){if(this.isDisabled()){return}var c=b.getAttribute("value"),a=this._dataMap[c];if(!this._isPreventClick&&this.onchange(c,a)!==false){this.select(c);if(this.expandSelected){!b.getAttribute("isExpanded")&&this._expand(b)}else{if(this.clickExpand){this._toggle(b)}}}this._isPreventClick=0},onchange:new Function(),select:function(c){if(this._selected==c){return}var a=this.__getClass("node-selected"),b=baidu.g(this.__getId("node"+this._selected));b&&baidu.removeClass(b,a);this._selected=c;baidu.addClass(this.__getId("node"+c),a)},_toggle:function(a){if(a.getAttribute("isExpanded")){this._collapse(a)}else{this._expand(a)}},_collapse:function(a){var b=a.getAttribute("value");if(this.oncollapse(b)!==false){this.collapse(b)}},_expand:function(a){var b=a.getAttribute("value");if(this.onexpand(b)!==false){this.expand(b)}},oncollapse:new Function(),onexpand:new Function(),expand:function(c){var b=baidu.g(this.__getId("node"+c));var a=baidu.g(this.__getId("children"+c));if(b){b.setAttribute("isExpanded","1");a&&(a.style.display="");baidu.addClass(b,this.__getClass("node-expanded"))}},collapse:function(c){var b=baidu.g(this.__getId("node"+c));var a=baidu.g(this.__getId("children"+c));if(b){b.setAttribute("isExpanded","");a&&(a.style.display="none");baidu.removeClass(b,this.__getClass("node-expanded"))}},repaintNodeText:function(a){var c=this,f=c.getItemId(a),d=c.getItemHtml(a),b=baidu.g(c.__getId("node"+f));if(d){b.lastChild.innerHTML=d}},repaintNode:function(a){var h=this,k=h.getItemId(a),d=h.getChildren(a),f=baidu.g(h.__getId("node"+k)),l=h.__getId("children"+k),m=baidu.g(l),g=h.__getClass("node-leaf"),c=h.__getClass("node-branch"),b=parseInt(f.getAttribute("level"),10);this.repaintNodeText(a);if(d instanceof Array&&d.length){if(!m){m=document.createElement("ul");m.id=l;m.style.display=f.getAttribute("isExpanded")?"":"none";m.className=h._getNodeClass("children",this._getLevelTag(b));f.parentNode.insertBefore(m,f.nextSibling)}m.innerHTML=h.getChildrenHtml(d,1,b);baidu.addClass(f,c);baidu.removeClass(f,g);f.setAttribute("type","branch")}else{baidu.removeClass(f,c);baidu.addClass(f,g);f.setAttribute("type","leaf")}},getChildrenHtml:function(a,b,c){return this._getChildsHtml(a,b,c)},getChildren:function(a){return a.children||[]},getItemHtml:function(a){return a.text},getItemId:function(a){if(esui.util.hasValue(a.id)){return a.id}return esui.util.getGUID()}};baidu.inherits(esui.TreeView,esui.Control);
/*!
 * jQuery JavaScript Library v1.8.2
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: Thu Sep 20 2012 21:13:05 GMT-0400 (Eastern Daylight Time)
 */
(function(a5,aE){var y,ai,q=a5.document,aL=a5.location,d=a5.navigator,bj=a5.jQuery,K=a5.$,ap=Array.prototype.push,a7=Array.prototype.slice,aN=Array.prototype.indexOf,B=Object.prototype.toString,Y=Object.prototype.hasOwnProperty,aR=String.prototype.trim,bJ=function(b2,b3){return new bJ.fn.init(b2,b3,y)},bA=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,ad=/\S/,aY=/\s+/,E=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,br=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,a=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,bi=/^[\],:{}\s]*$/,bl=/(?:^|:|,)(?:\s*\[)+/g,bG=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,a3=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,bS=/^-ms-/,aX=/-([\da-z])/gi,P=function(b2,b3){return(b3+"").toUpperCase()},aI=function(){if(q.addEventListener){q.removeEventListener("DOMContentLoaded",aI,false);bJ.ready()}else{if(q.readyState==="complete"){q.detachEvent("onreadystatechange",aI);bJ.ready()}}},ac={};bJ.fn=bJ.prototype={constructor:bJ,init:function(b2,b6,b5){var b4,b7,b3,b8;if(!b2){return this}if(b2.nodeType){this.context=this[0]=b2;this.length=1;return this}if(typeof b2==="string"){if(b2.charAt(0)==="<"&&b2.charAt(b2.length-1)===">"&&b2.length>=3){b4=[null,b2,null]}else{b4=br.exec(b2)}if(b4&&(b4[1]||!b6)){if(b4[1]){b6=b6 instanceof bJ?b6[0]:b6;b8=(b6&&b6.nodeType?b6.ownerDocument||b6:q);b2=bJ.parseHTML(b4[1],b8,true);if(a.test(b4[1])&&bJ.isPlainObject(b6)){this.attr.call(b2,b6,true)}return bJ.merge(this,b2)}else{b7=q.getElementById(b4[2]);if(b7&&b7.parentNode){if(b7.id!==b4[2]){return b5.find(b2)}this.length=1;this[0]=b7}this.context=q;this.selector=b2;return this}}else{if(!b6||b6.jquery){return(b6||b5).find(b2)}else{return this.constructor(b6).find(b2)}}}else{if(bJ.isFunction(b2)){return b5.ready(b2)}}if(b2.selector!==aE){this.selector=b2.selector;this.context=b2.context}return bJ.makeArray(b2,this)},selector:"",jquery:"1.8.2",length:0,size:function(){return this.length},toArray:function(){return a7.call(this)},get:function(b2){return b2==null?this.toArray():(b2<0?this[this.length+b2]:this[b2])},pushStack:function(b3,b5,b2){var b4=bJ.merge(this.constructor(),b3);b4.prevObject=this;b4.context=this.context;if(b5==="find"){b4.selector=this.selector+(this.selector?" ":"")+b2}else{if(b5){b4.selector=this.selector+"."+b5+"("+b2+")"}}return b4},each:function(b3,b2){return bJ.each(this,b3,b2)},ready:function(b2){bJ.ready.promise().done(b2);return this},eq:function(b2){b2=+b2;return b2===-1?this.slice(b2):this.slice(b2,b2+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(a7.apply(this,arguments),"slice",a7.call(arguments).join(","))},map:function(b2){return this.pushStack(bJ.map(this,function(b4,b3){return b2.call(b4,b3,b4)}))},end:function(){return this.prevObject||this.constructor(null)},push:ap,sort:[].sort,splice:[].splice};bJ.fn.init.prototype=bJ.fn;bJ.extend=bJ.fn.extend=function(){var cb,b4,b2,b3,b8,b9,b7=arguments[0]||{},b6=1,b5=arguments.length,ca=false;if(typeof b7==="boolean"){ca=b7;b7=arguments[1]||{};b6=2}if(typeof b7!=="object"&&!bJ.isFunction(b7)){b7={}}if(b5===b6){b7=this;--b6}for(;b6<b5;b6++){if((cb=arguments[b6])!=null){for(b4 in cb){b2=b7[b4];b3=cb[b4];if(b7===b3){continue}if(ca&&b3&&(bJ.isPlainObject(b3)||(b8=bJ.isArray(b3)))){if(b8){b8=false;b9=b2&&bJ.isArray(b2)?b2:[]}else{b9=b2&&bJ.isPlainObject(b2)?b2:{}}b7[b4]=bJ.extend(ca,b9,b3)}else{if(b3!==aE){b7[b4]=b3}}}}}return b7};bJ.extend({noConflict:function(b2){if(a5.$===bJ){a5.$=K}if(b2&&a5.jQuery===bJ){a5.jQuery=bj}return bJ},isReady:false,readyWait:1,holdReady:function(b2){if(b2){bJ.readyWait++}else{bJ.ready(true)}},ready:function(b2){if(b2===true?--bJ.readyWait:bJ.isReady){return}if(!q.body){return setTimeout(bJ.ready,1)}bJ.isReady=true;if(b2!==true&&--bJ.readyWait>0){return}ai.resolveWith(q,[bJ]);if(bJ.fn.trigger){bJ(q).trigger("ready").off("ready")}},isFunction:function(b2){return bJ.type(b2)==="function"},isArray:Array.isArray||function(b2){return bJ.type(b2)==="array"},isWindow:function(b2){return b2!=null&&b2==b2.window},isNumeric:function(b2){return !isNaN(parseFloat(b2))&&isFinite(b2)},type:function(b2){return b2==null?String(b2):ac[B.call(b2)]||"object"},isPlainObject:function(b4){if(!b4||bJ.type(b4)!=="object"||b4.nodeType||bJ.isWindow(b4)){return false}try{if(b4.constructor&&!Y.call(b4,"constructor")&&!Y.call(b4.constructor.prototype,"isPrototypeOf")){return false}}catch(b3){return false}var b2;for(b2 in b4){}return b2===aE||Y.call(b4,b2)},isEmptyObject:function(b3){var b2;for(b2 in b3){return false}return true},error:function(b2){throw new Error(b2)},parseHTML:function(b5,b4,b2){var b3;if(!b5||typeof b5!=="string"){return null}if(typeof b4==="boolean"){b2=b4;b4=0}b4=b4||q;if((b3=a.exec(b5))){return[b4.createElement(b3[1])]}b3=bJ.buildFragment([b5],b4,b2?null:[]);return bJ.merge([],(b3.cacheable?bJ.clone(b3.fragment):b3.fragment).childNodes)},parseJSON:function(b2){if(!b2||typeof b2!=="string"){return null}b2=bJ.trim(b2);if(a5.JSON&&a5.JSON.parse){return a5.JSON.parse(b2)}if(bi.test(b2.replace(bG,"@").replace(a3,"]").replace(bl,""))){return(new Function("return "+b2))()}bJ.error("Invalid JSON: "+b2)},parseXML:function(b4){var b2,b3;if(!b4||typeof b4!=="string"){return null}try{if(a5.DOMParser){b3=new DOMParser();b2=b3.parseFromString(b4,"text/xml")}else{b2=new ActiveXObject("Microsoft.XMLDOM");b2.async="false";b2.loadXML(b4)}}catch(b5){b2=aE}if(!b2||!b2.documentElement||b2.getElementsByTagName("parsererror").length){bJ.error("Invalid XML: "+b4)}return b2},noop:function(){},globalEval:function(b2){if(b2&&ad.test(b2)){(a5.execScript||function(b3){a5["eval"].call(a5,b3)})(b2)}},camelCase:function(b2){return b2.replace(bS,"ms-").replace(aX,P)},nodeName:function(b3,b2){return b3.nodeName&&b3.nodeName.toLowerCase()===b2.toLowerCase()},each:function(b7,b8,b4){var b3,b5=0,b6=b7.length,b2=b6===aE||bJ.isFunction(b7);if(b4){if(b2){for(b3 in b7){if(b8.apply(b7[b3],b4)===false){break}}}else{for(;b5<b6;){if(b8.apply(b7[b5++],b4)===false){break}}}}else{if(b2){for(b3 in b7){if(b8.call(b7[b3],b3,b7[b3])===false){break}}}else{for(;b5<b6;){if(b8.call(b7[b5],b5,b7[b5++])===false){break}}}}return b7},trim:aR&&!aR.call("\uFEFF\xA0")?function(b2){return b2==null?"":aR.call(b2)}:function(b2){return b2==null?"":(b2+"").replace(E,"")},makeArray:function(b2,b4){var b5,b3=b4||[];if(b2!=null){b5=bJ.type(b2);if(b2.length==null||b5==="string"||b5==="function"||b5==="regexp"||bJ.isWindow(b2)){ap.call(b3,b2)}else{bJ.merge(b3,b2)}}return b3},inArray:function(b5,b3,b4){var b2;if(b3){if(aN){return aN.call(b3,b5,b4)}b2=b3.length;b4=b4?b4<0?Math.max(0,b2+b4):b4:0;for(;b4<b2;b4++){if(b4 in b3&&b3[b4]===b5){return b4}}}return -1},merge:function(b6,b4){var b2=b4.length,b5=b6.length,b3=0;if(typeof b2==="number"){for(;b3<b2;b3++){b6[b5++]=b4[b3]}}else{while(b4[b3]!==aE){b6[b5++]=b4[b3++]}}b6.length=b5;return b6},grep:function(b3,b8,b2){var b7,b4=[],b5=0,b6=b3.length;b2=!!b2;for(;b5<b6;b5++){b7=!!b8(b3[b5],b5);if(b2!==b7){b4.push(b3[b5])}}return b4},map:function(b2,b9,ca){var b7,b8,b6=[],b4=0,b3=b2.length,b5=b2 instanceof bJ||b3!==aE&&typeof b3==="number"&&((b3>0&&b2[0]&&b2[b3-1])||b3===0||bJ.isArray(b2));if(b5){for(;b4<b3;b4++){b7=b9(b2[b4],b4,ca);if(b7!=null){b6[b6.length]=b7}}}else{for(b8 in b2){b7=b9(b2[b8],b8,ca);if(b7!=null){b6[b6.length]=b7}}}return b6.concat.apply([],b6)},guid:1,proxy:function(b6,b5){var b4,b2,b3;if(typeof b5==="string"){b4=b6[b5];b5=b6;b6=b4}if(!bJ.isFunction(b6)){return aE}b2=a7.call(arguments,2);b3=function(){return b6.apply(b5,b2.concat(a7.call(arguments)))};b3.guid=b6.guid=b6.guid||bJ.guid++;return b3},access:function(b2,b8,cb,b9,b6,cc,ca){var b4,b7=cb==null,b5=0,b3=b2.length;if(cb&&typeof cb==="object"){for(b5 in cb){bJ.access(b2,b8,b5,cb[b5],1,cc,b9)}b6=1}else{if(b9!==aE){b4=ca===aE&&bJ.isFunction(b9);if(b7){if(b4){b4=b8;b8=function(ce,cd,cf){return b4.call(bJ(ce),cf)}}else{b8.call(b2,b9);b8=null}}if(b8){for(;b5<b3;b5++){b8(b2[b5],cb,b4?b9.call(b2[b5],b5,b8(b2[b5],cb)):b9,ca)}}b6=1}}return b6?b2:b7?b8.call(b2):b3?b8(b2[0],cb):cc},now:function(){return(new Date()).getTime()}});bJ.ready.promise=function(b5){if(!ai){ai=bJ.Deferred();if(q.readyState==="complete"){setTimeout(bJ.ready,1)}else{if(q.addEventListener){q.addEventListener("DOMContentLoaded",aI,false);a5.addEventListener("load",bJ.ready,false)}else{q.attachEvent("onreadystatechange",aI);a5.attachEvent("onload",bJ.ready);var b4=false;try{b4=a5.frameElement==null&&q.documentElement}catch(b3){}if(b4&&b4.doScroll){(function b2(){if(!bJ.isReady){try{b4.doScroll("left")}catch(b6){return setTimeout(b2,50)}bJ.ready()}})()}}}}return ai.promise(b5)};bJ.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(b3,b2){ac["[object "+b2+"]"]=b2.toLowerCase()});y=bJ(q);var bX={};function af(b3){var b2=bX[b3]={};bJ.each(b3.split(aY),function(b5,b4){b2[b4]=true});return b2}bJ.Callbacks=function(cc){cc=typeof cc==="string"?(bX[cc]||af(cc)):bJ.extend({},cc);var b5,b2,b6,b4,b7,b8,b9=[],ca=!cc.once&&[],b3=function(cd){b5=cc.memory&&cd;b2=true;b8=b4||0;b4=0;b7=b9.length;b6=true;for(;b9&&b8<b7;b8++){if(b9[b8].apply(cd[0],cd[1])===false&&cc.stopOnFalse){b5=false;break}}b6=false;if(b9){if(ca){if(ca.length){b3(ca.shift())}}else{if(b5){b9=[]}else{cb.disable()}}}},cb={add:function(){if(b9){var ce=b9.length;(function cd(cf){bJ.each(cf,function(ch,cg){var ci=bJ.type(cg);if(ci==="function"&&(!cc.unique||!cb.has(cg))){b9.push(cg)}else{if(cg&&cg.length&&ci!=="string"){cd(cg)}}})})(arguments);if(b6){b7=b9.length}else{if(b5){b4=ce;b3(b5)}}}return this},remove:function(){if(b9){bJ.each(arguments,function(cf,cd){var ce;while((ce=bJ.inArray(cd,b9,ce))>-1){b9.splice(ce,1);if(b6){if(ce<=b7){b7--}if(ce<=b8){b8--}}}})}return this},has:function(cd){return bJ.inArray(cd,b9)>-1},empty:function(){b9=[];return this},disable:function(){b9=ca=b5=aE;return this},disabled:function(){return !b9},lock:function(){ca=aE;if(!b5){cb.disable()}return this},locked:function(){return !ca},fireWith:function(ce,cd){cd=cd||[];cd=[ce,cd.slice?cd.slice():cd];if(b9&&(!b2||ca)){if(b6){ca.push(cd)}else{b3(cd)}}return this},fire:function(){cb.fireWith(this,arguments);return this},fired:function(){return !!b2}};return cb};bJ.extend({Deferred:function(b4){var b3=[["resolve","done",bJ.Callbacks("once memory"),"resolved"],["reject","fail",bJ.Callbacks("once memory"),"rejected"],["notify","progress",bJ.Callbacks("memory")]],b5="pending",b6={state:function(){return b5},always:function(){b2.done(arguments).fail(arguments);return this},then:function(){var b7=arguments;return bJ.Deferred(function(b8){bJ.each(b3,function(ca,b9){var cc=b9[0],cb=b7[ca];b2[b9[1]](bJ.isFunction(cb)?function(){var cd=cb.apply(this,arguments);if(cd&&bJ.isFunction(cd.promise)){cd.promise().done(b8.resolve).fail(b8.reject).progress(b8.notify)}else{b8[cc+"With"](this===b2?b8:this,[cd])}}:b8[cc])});b7=null}).promise()},promise:function(b7){return b7!=null?bJ.extend(b7,b6):b6}},b2={};b6.pipe=b6.then;bJ.each(b3,function(b8,b7){var ca=b7[2],b9=b7[3];b6[b7[1]]=ca.add;if(b9){ca.add(function(){b5=b9},b3[b8^1][2].disable,b3[2][2].lock)}b2[b7[0]]=ca.fire;b2[b7[0]+"With"]=ca.fireWith});b6.promise(b2);if(b4){b4.call(b2,b2)}return b2},when:function(b6){var b4=0,b8=a7.call(arguments),b2=b8.length,b3=b2!==1||(b6&&bJ.isFunction(b6.promise))?b2:0,cb=b3===1?b6:bJ.Deferred(),b5=function(cd,ce,cc){return function(cf){ce[cd]=this;cc[cd]=arguments.length>1?a7.call(arguments):cf;if(cc===ca){cb.notifyWith(ce,cc)}else{if(!(--b3)){cb.resolveWith(ce,cc)}}}},ca,b7,b9;if(b2>1){ca=new Array(b2);b7=new Array(b2);b9=new Array(b2);for(;b4<b2;b4++){if(b8[b4]&&bJ.isFunction(b8[b4].promise)){b8[b4].promise().done(b5(b4,b9,b8)).fail(cb.reject).progress(b5(b4,b7,ca))}else{--b3}}}if(!b3){cb.resolveWith(b9,b8)}return cb.promise()}});bJ.support=(function(){var ce,cd,cb,cc,b5,ca,b9,b7,b6,b4,b2,b3=q.createElement("div");b3.setAttribute("className","t");b3.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";cd=b3.getElementsByTagName("*");cb=b3.getElementsByTagName("a")[0];cb.style.cssText="top:1px;float:left;opacity:.5";if(!cd||!cd.length){return{}}cc=q.createElement("select");b5=cc.appendChild(q.createElement("option"));ca=b3.getElementsByTagName("input")[0];ce={leadingWhitespace:(b3.firstChild.nodeType===3),tbody:!b3.getElementsByTagName("tbody").length,htmlSerialize:!!b3.getElementsByTagName("link").length,style:/top/.test(cb.getAttribute("style")),hrefNormalized:(cb.getAttribute("href")==="/a"),opacity:/^0.5/.test(cb.style.opacity),cssFloat:!!cb.style.cssFloat,checkOn:(ca.value==="on"),optSelected:b5.selected,getSetAttribute:b3.className!=="t",enctype:!!q.createElement("form").enctype,html5Clone:q.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>",boxModel:(q.compatMode==="CSS1Compat"),submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true,boxSizingReliable:true,pixelPosition:false};ca.checked=true;ce.noCloneChecked=ca.cloneNode(true).checked;cc.disabled=true;ce.optDisabled=!b5.disabled;try{delete b3.test}catch(b8){ce.deleteExpando=false}if(!b3.addEventListener&&b3.attachEvent&&b3.fireEvent){b3.attachEvent("onclick",b2=function(){ce.noCloneEvent=false});b3.cloneNode(true).fireEvent("onclick");b3.detachEvent("onclick",b2)}ca=q.createElement("input");ca.value="t";ca.setAttribute("type","radio");ce.radioValue=ca.value==="t";ca.setAttribute("checked","checked");ca.setAttribute("name","t");b3.appendChild(ca);b9=q.createDocumentFragment();b9.appendChild(b3.lastChild);ce.checkClone=b9.cloneNode(true).cloneNode(true).lastChild.checked;ce.appendChecked=ca.checked;b9.removeChild(ca);b9.appendChild(b3);if(b3.attachEvent){for(b6 in {submit:true,change:true,focusin:true}){b7="on"+b6;b4=(b7 in b3);if(!b4){b3.setAttribute(b7,"return;");b4=(typeof b3[b7]==="function")}ce[b6+"Bubbles"]=b4}}bJ(function(){var cg,ck,ci,cj,ch="padding:0;margin:0;border:0;display:block;overflow:hidden;",cf=q.getElementsByTagName("body")[0];if(!cf){return}cg=q.createElement("div");cg.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px";cf.insertBefore(cg,cf.firstChild);ck=q.createElement("div");cg.appendChild(ck);ck.innerHTML="<table><tr><td></td><td>t</td></tr></table>";ci=ck.getElementsByTagName("td");ci[0].style.cssText="padding:0;margin:0;border:0;display:none";b4=(ci[0].offsetHeight===0);ci[0].style.display="";ci[1].style.display="none";ce.reliableHiddenOffsets=b4&&(ci[0].offsetHeight===0);ck.innerHTML="";ck.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;";ce.boxSizing=(ck.offsetWidth===4);ce.doesNotIncludeMarginInBodyOffset=(cf.offsetTop!==1);if(a5.getComputedStyle){ce.pixelPosition=(a5.getComputedStyle(ck,null)||{}).top!=="1%";ce.boxSizingReliable=(a5.getComputedStyle(ck,null)||{width:"4px"}).width==="4px";cj=q.createElement("div");cj.style.cssText=ck.style.cssText=ch;cj.style.marginRight=cj.style.width="0";ck.style.width="1px";ck.appendChild(cj);ce.reliableMarginRight=!parseFloat((a5.getComputedStyle(cj,null)||{}).marginRight)}if(typeof ck.style.zoom!=="undefined"){ck.innerHTML="";ck.style.cssText=ch+"width:1px;padding:1px;display:inline;zoom:1";ce.inlineBlockNeedsLayout=(ck.offsetWidth===3);ck.style.display="block";ck.style.overflow="visible";ck.innerHTML="<div></div>";ck.firstChild.style.width="5px";ce.shrinkWrapBlocks=(ck.offsetWidth!==3);cg.style.zoom=1}cf.removeChild(cg);cg=ck=ci=cj=null});b9.removeChild(b3);cd=cb=cc=b5=ca=b9=b3=null;return ce})();var bw=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,aO=/([A-Z])/g;bJ.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(bJ.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(b2){b2=b2.nodeType?bJ.cache[b2[bJ.expando]]:b2[bJ.expando];return !!b2&&!Q(b2)},data:function(b5,b3,b7,b6){if(!bJ.acceptData(b5)){return}var b8,ca,cb=bJ.expando,b9=typeof b3==="string",cc=b5.nodeType,b2=cc?bJ.cache:b5,b4=cc?b5[cb]:b5[cb]&&cb;if((!b4||!b2[b4]||(!b6&&!b2[b4].data))&&b9&&b7===aE){return}if(!b4){if(cc){b5[cb]=b4=bJ.deletedIds.pop()||bJ.guid++}else{b4=cb}}if(!b2[b4]){b2[b4]={};if(!cc){b2[b4].toJSON=bJ.noop}}if(typeof b3==="object"||typeof b3==="function"){if(b6){b2[b4]=bJ.extend(b2[b4],b3)}else{b2[b4].data=bJ.extend(b2[b4].data,b3)}}b8=b2[b4];if(!b6){if(!b8.data){b8.data={}}b8=b8.data}if(b7!==aE){b8[bJ.camelCase(b3)]=b7}if(b9){ca=b8[b3];if(ca==null){ca=b8[bJ.camelCase(b3)]}}else{ca=b8}return ca},removeData:function(b5,b3,b6){if(!bJ.acceptData(b5)){return}var b9,b8,b7,ca=b5.nodeType,b2=ca?bJ.cache:b5,b4=ca?b5[bJ.expando]:bJ.expando;if(!b2[b4]){return}if(b3){b9=b6?b2[b4]:b2[b4].data;if(b9){if(!bJ.isArray(b3)){if(b3 in b9){b3=[b3]}else{b3=bJ.camelCase(b3);if(b3 in b9){b3=[b3]}else{b3=b3.split(" ")}}}for(b8=0,b7=b3.length;b8<b7;b8++){delete b9[b3[b8]]}if(!(b6?Q:bJ.isEmptyObject)(b9)){return}}}if(!b6){delete b2[b4].data;if(!Q(b2[b4])){return}}if(ca){bJ.cleanData([b5],true)}else{if(bJ.support.deleteExpando||b2!=b2.window){delete b2[b4]}else{b2[b4]=null}}},_data:function(b3,b2,b4){return bJ.data(b3,b2,b4,true)},acceptData:function(b3){var b2=b3.nodeName&&bJ.noData[b3.nodeName.toLowerCase()];return !b2||b2!==true&&b3.getAttribute("classid")===b2}});bJ.fn.extend({data:function(cb,ca){var b6,b3,b9,b2,b5,b4=this[0],b8=0,b7=null;if(cb===aE){if(this.length){b7=bJ.data(b4);if(b4.nodeType===1&&!bJ._data(b4,"parsedAttrs")){b9=b4.attributes;for(b5=b9.length;b8<b5;b8++){b2=b9[b8].name;if(!b2.indexOf("data-")){b2=bJ.camelCase(b2.substring(5));by(b4,b2,b7[b2])}}bJ._data(b4,"parsedAttrs",true)}}return b7}if(typeof cb==="object"){return this.each(function(){bJ.data(this,cb)})}b6=cb.split(".",2);b6[1]=b6[1]?"."+b6[1]:"";b3=b6[1]+"!";return bJ.access(this,function(cc){if(cc===aE){b7=this.triggerHandler("getData"+b3,[b6[0]]);if(b7===aE&&b4){b7=bJ.data(b4,cb);b7=by(b4,cb,b7)}return b7===aE&&b6[1]?this.data(b6[0]):b7}b6[1]=cc;this.each(function(){var cd=bJ(this);cd.triggerHandler("setData"+b3,b6);bJ.data(this,cb,cc);cd.triggerHandler("changeData"+b3,b6)})},null,ca,arguments.length>1,null,false)},removeData:function(b2){return this.each(function(){bJ.removeData(this,b2)})}});function by(b4,b3,b5){if(b5===aE&&b4.nodeType===1){var b2="data-"+b3.replace(aO,"-$1").toLowerCase();b5=b4.getAttribute(b2);if(typeof b5==="string"){try{b5=b5==="true"?true:b5==="false"?false:b5==="null"?null:+b5+""===b5?+b5:bw.test(b5)?bJ.parseJSON(b5):b5}catch(b6){}bJ.data(b4,b3,b5)}else{b5=aE}}return b5}function Q(b3){var b2;for(b2 in b3){if(b2==="data"&&bJ.isEmptyObject(b3[b2])){continue}if(b2!=="toJSON"){return false}}return true}bJ.extend({queue:function(b4,b3,b5){var b2;if(b4){b3=(b3||"fx")+"queue";b2=bJ._data(b4,b3);if(b5){if(!b2||bJ.isArray(b5)){b2=bJ._data(b4,b3,bJ.makeArray(b5))}else{b2.push(b5)}}return b2||[]}},dequeue:function(b7,b6){b6=b6||"fx";var b3=bJ.queue(b7,b6),b8=b3.length,b5=b3.shift(),b2=bJ._queueHooks(b7,b6),b4=function(){bJ.dequeue(b7,b6)};if(b5==="inprogress"){b5=b3.shift();b8--}if(b5){if(b6==="fx"){b3.unshift("inprogress")}delete b2.stop;b5.call(b7,b4,b2)}if(!b8&&b2){b2.empty.fire()}},_queueHooks:function(b4,b3){var b2=b3+"queueHooks";return bJ._data(b4,b2)||bJ._data(b4,b2,{empty:bJ.Callbacks("once memory").add(function(){bJ.removeData(b4,b3+"queue",true);bJ.removeData(b4,b2,true)})})}});bJ.fn.extend({queue:function(b2,b3){var b4=2;if(typeof b2!=="string"){b3=b2;b2="fx";b4--}if(arguments.length<b4){return bJ.queue(this[0],b2)}return b3===aE?this:this.each(function(){var b5=bJ.queue(this,b2,b3);bJ._queueHooks(this,b2);if(b2==="fx"&&b5[0]!=="inprogress"){bJ.dequeue(this,b2)}})},dequeue:function(b2){return this.each(function(){bJ.dequeue(this,b2)})},delay:function(b3,b2){b3=bJ.fx?bJ.fx.speeds[b3]||b3:b3;b2=b2||"fx";return this.queue(b2,function(b5,b4){var b6=setTimeout(b5,b3);b4.stop=function(){clearTimeout(b6)}})},clearQueue:function(b2){return this.queue(b2||"fx",[])},promise:function(b4,b8){var b3,b5=1,b9=bJ.Deferred(),b7=this,b2=this.length,b6=function(){if(!(--b5)){b9.resolveWith(b7,[b7])}};if(typeof b4!=="string"){b8=b4;b4=aE}b4=b4||"fx";while(b2--){b3=bJ._data(b7[b2],b4+"queueHooks");if(b3&&b3.empty){b5++;b3.empty.add(b6)}}b6();return b9.promise(b8)}});var ba,bY,p,bM=/[\t\r\n]/g,al=/\r/g,l=/^(?:button|input)$/i,aD=/^(?:button|input|object|select|textarea)$/i,F=/^a(?:rea|)$/i,O=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,bO=bJ.support.getSetAttribute;bJ.fn.extend({attr:function(b2,b3){return bJ.access(this,bJ.attr,b2,b3,arguments.length>1)},removeAttr:function(b2){return this.each(function(){bJ.removeAttr(this,b2)})},prop:function(b2,b3){return bJ.access(this,bJ.prop,b2,b3,arguments.length>1)},removeProp:function(b2){b2=bJ.propFix[b2]||b2;return this.each(function(){try{this[b2]=aE;delete this[b2]}catch(b3){}})},addClass:function(b6){var b8,b4,b3,b5,b7,b9,b2;if(bJ.isFunction(b6)){return this.each(function(ca){bJ(this).addClass(b6.call(this,ca,this.className))})}if(b6&&typeof b6==="string"){b8=b6.split(aY);for(b4=0,b3=this.length;b4<b3;b4++){b5=this[b4];if(b5.nodeType===1){if(!b5.className&&b8.length===1){b5.className=b6}else{b7=" "+b5.className+" ";for(b9=0,b2=b8.length;b9<b2;b9++){if(b7.indexOf(" "+b8[b9]+" ")<0){b7+=b8[b9]+" "}}b5.className=bJ.trim(b7)}}}}return this},removeClass:function(b8){var b5,b6,b7,b9,b3,b4,b2;if(bJ.isFunction(b8)){return this.each(function(ca){bJ(this).removeClass(b8.call(this,ca,this.className))})}if((b8&&typeof b8==="string")||b8===aE){b5=(b8||"").split(aY);for(b4=0,b2=this.length;b4<b2;b4++){b7=this[b4];if(b7.nodeType===1&&b7.className){b6=(" "+b7.className+" ").replace(bM," ");for(b9=0,b3=b5.length;b9<b3;b9++){while(b6.indexOf(" "+b5[b9]+" ")>=0){b6=b6.replace(" "+b5[b9]+" "," ")}}b7.className=b8?bJ.trim(b6):""}}}return this},toggleClass:function(b5,b3){var b4=typeof b5,b2=typeof b3==="boolean";if(bJ.isFunction(b5)){return this.each(function(b6){bJ(this).toggleClass(b5.call(this,b6,this.className,b3),b3)})}return this.each(function(){if(b4==="string"){var b8,b7=0,b6=bJ(this),b9=b3,ca=b5.split(aY);while((b8=ca[b7++])){b9=b2?b9:!b6.hasClass(b8);b6[b9?"addClass":"removeClass"](b8)}}else{if(b4==="undefined"||b4==="boolean"){if(this.className){bJ._data(this,"__className__",this.className)}this.className=this.className||b5===false?"":bJ._data(this,"__className__")||""}}})},hasClass:function(b2){var b5=" "+b2+" ",b4=0,b3=this.length;for(;b4<b3;b4++){if(this[b4].nodeType===1&&(" "+this[b4].className+" ").replace(bM," ").indexOf(b5)>=0){return true}}return false},val:function(b5){var b2,b3,b6,b4=this[0];if(!arguments.length){if(b4){b2=bJ.valHooks[b4.type]||bJ.valHooks[b4.nodeName.toLowerCase()];if(b2&&"get" in b2&&(b3=b2.get(b4,"value"))!==aE){return b3}b3=b4.value;return typeof b3==="string"?b3.replace(al,""):b3==null?"":b3}return}b6=bJ.isFunction(b5);return this.each(function(b8){var b9,b7=bJ(this);if(this.nodeType!==1){return}if(b6){b9=b5.call(this,b8,b7.val())}else{b9=b5}if(b9==null){b9=""}else{if(typeof b9==="number"){b9+=""}else{if(bJ.isArray(b9)){b9=bJ.map(b9,function(ca){return ca==null?"":ca+""})}}}b2=bJ.valHooks[this.type]||bJ.valHooks[this.nodeName.toLowerCase()];if(!b2||!("set" in b2)||b2.set(this,b9,"value")===aE){this.value=b9}})}});bJ.extend({valHooks:{option:{get:function(b2){var b3=b2.attributes.value;return !b3||b3.specified?b2.value:b2.text}},select:{get:function(b2){var b8,b3,b7,b5,b6=b2.selectedIndex,b9=[],ca=b2.options,b4=b2.type==="select-one";if(b6<0){return null}b3=b4?b6:0;b7=b4?b6+1:ca.length;for(;b3<b7;b3++){b5=ca[b3];if(b5.selected&&(bJ.support.optDisabled?!b5.disabled:b5.getAttribute("disabled")===null)&&(!b5.parentNode.disabled||!bJ.nodeName(b5.parentNode,"optgroup"))){b8=bJ(b5).val();if(b4){return b8}b9.push(b8)}}if(b4&&!b9.length&&ca.length){return bJ(ca[b6]).val()}return b9},set:function(b3,b4){var b2=bJ.makeArray(b4);bJ(b3).find("option").each(function(){this.selected=bJ.inArray(bJ(this).val(),b2)>=0});if(!b2.length){b3.selectedIndex=-1}return b2}}},attrFn:{},attr:function(b8,b5,b9,b7){var b4,b2,b6,b3=b8.nodeType;if(!b8||b3===3||b3===8||b3===2){return}if(b7&&bJ.isFunction(bJ.fn[b5])){return bJ(b8)[b5](b9)}if(typeof b8.getAttribute==="undefined"){return bJ.prop(b8,b5,b9)}b6=b3!==1||!bJ.isXMLDoc(b8);if(b6){b5=b5.toLowerCase();b2=bJ.attrHooks[b5]||(O.test(b5)?bY:ba)}if(b9!==aE){if(b9===null){bJ.removeAttr(b8,b5);return}else{if(b2&&"set" in b2&&b6&&(b4=b2.set(b8,b9,b5))!==aE){return b4}else{b8.setAttribute(b5,b9+"");return b9}}}else{if(b2&&"get" in b2&&b6&&(b4=b2.get(b8,b5))!==null){return b4}else{b4=b8.getAttribute(b5);return b4===null?aE:b4}}},removeAttr:function(b5,b7){var b6,b8,b3,b2,b4=0;if(b7&&b5.nodeType===1){b8=b7.split(aY);for(;b4<b8.length;b4++){b3=b8[b4];if(b3){b6=bJ.propFix[b3]||b3;b2=O.test(b3);if(!b2){bJ.attr(b5,b3,"")}b5.removeAttribute(bO?b3:b6);if(b2&&b6 in b5){b5[b6]=false}}}}},attrHooks:{type:{set:function(b2,b3){if(l.test(b2.nodeName)&&b2.parentNode){bJ.error("type property can't be changed")}else{if(!bJ.support.radioValue&&b3==="radio"&&bJ.nodeName(b2,"input")){var b4=b2.value;b2.setAttribute("type",b3);if(b4){b2.value=b4}return b3}}}},value:{get:function(b3,b2){if(ba&&bJ.nodeName(b3,"button")){return ba.get(b3,b2)}return b2 in b3?b3.value:null},set:function(b3,b4,b2){if(ba&&bJ.nodeName(b3,"button")){return ba.set(b3,b4,b2)}b3.value=b4}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(b7,b5,b8){var b4,b2,b6,b3=b7.nodeType;if(!b7||b3===3||b3===8||b3===2){return}b6=b3!==1||!bJ.isXMLDoc(b7);if(b6){b5=bJ.propFix[b5]||b5;b2=bJ.propHooks[b5]}if(b8!==aE){if(b2&&"set" in b2&&(b4=b2.set(b7,b8,b5))!==aE){return b4}else{return(b7[b5]=b8)}}else{if(b2&&"get" in b2&&(b4=b2.get(b7,b5))!==null){return b4}else{return b7[b5]}}},propHooks:{tabIndex:{get:function(b3){var b2=b3.getAttributeNode("tabindex");return b2&&b2.specified?parseInt(b2.value,10):aD.test(b3.nodeName)||F.test(b3.nodeName)&&b3.href?0:aE}}}});bY={get:function(b3,b2){var b5,b4=bJ.prop(b3,b2);return b4===true||typeof b4!=="boolean"&&(b5=b3.getAttributeNode(b2))&&b5.nodeValue!==false?b2.toLowerCase():aE},set:function(b3,b5,b2){var b4;if(b5===false){bJ.removeAttr(b3,b2)}else{b4=bJ.propFix[b2]||b2;if(b4 in b3){b3[b4]=true}b3.setAttribute(b2,b2.toLowerCase())}return b2}};if(!bO){p={name:true,id:true,coords:true};ba=bJ.valHooks.button={get:function(b4,b3){var b2;b2=b4.getAttributeNode(b3);return b2&&(p[b3]?b2.value!=="":b2.specified)?b2.value:aE},set:function(b4,b5,b3){var b2=b4.getAttributeNode(b3);if(!b2){b2=q.createAttribute(b3);b4.setAttributeNode(b2)}return(b2.value=b5+"")}};bJ.each(["width","height"],function(b3,b2){bJ.attrHooks[b2]=bJ.extend(bJ.attrHooks[b2],{set:function(b4,b5){if(b5===""){b4.setAttribute(b2,"auto");return b5}}})});bJ.attrHooks.contenteditable={get:ba.get,set:function(b3,b4,b2){if(b4===""){b4="false"}ba.set(b3,b4,b2)}}}if(!bJ.support.hrefNormalized){bJ.each(["href","src","width","height"],function(b3,b2){bJ.attrHooks[b2]=bJ.extend(bJ.attrHooks[b2],{get:function(b5){var b4=b5.getAttribute(b2,2);return b4===null?aE:b4}})})}if(!bJ.support.style){bJ.attrHooks.style={get:function(b2){return b2.style.cssText.toLowerCase()||aE},set:function(b2,b3){return(b2.style.cssText=b3+"")}}}if(!bJ.support.optSelected){bJ.propHooks.selected=bJ.extend(bJ.propHooks.selected,{get:function(b3){var b2=b3.parentNode;if(b2){b2.selectedIndex;if(b2.parentNode){b2.parentNode.selectedIndex}}return null}})}if(!bJ.support.enctype){bJ.propFix.enctype="encoding"}if(!bJ.support.checkOn){bJ.each(["radio","checkbox"],function(){bJ.valHooks[this]={get:function(b2){return b2.getAttribute("value")===null?"on":b2.value}}})}bJ.each(["radio","checkbox"],function(){bJ.valHooks[this]=bJ.extend(bJ.valHooks[this],{set:function(b2,b3){if(bJ.isArray(b3)){return(b2.checked=bJ.inArray(bJ(b2).val(),b3)>=0)}}})});var bH=/^(?:textarea|input|select)$/i,bu=/^([^\.]*|)(?:\.(.+)|)$/,bd=/(?:^|\s)hover(\.\S+|)\b/,a6=/^key/,bN=/^(?:mouse|contextmenu)|click/,bB=/^(?:focusinfocus|focusoutblur)$/,au=function(b2){return bJ.event.special.hover?b2:b2.replace(bd,"mouseenter$1 mouseleave$1")};bJ.event={add:function(b5,b9,cg,b7,b6){var ca,b8,ch,cf,ce,cc,b2,cd,b3,b4,cb;if(b5.nodeType===3||b5.nodeType===8||!b9||!cg||!(ca=bJ._data(b5))){return}if(cg.handler){b3=cg;cg=b3.handler;b6=b3.selector}if(!cg.guid){cg.guid=bJ.guid++}ch=ca.events;if(!ch){ca.events=ch={}}b8=ca.handle;if(!b8){ca.handle=b8=function(ci){return typeof bJ!=="undefined"&&(!ci||bJ.event.triggered!==ci.type)?bJ.event.dispatch.apply(b8.elem,arguments):aE};b8.elem=b5}b9=bJ.trim(au(b9)).split(" ");for(cf=0;cf<b9.length;cf++){ce=bu.exec(b9[cf])||[];cc=ce[1];b2=(ce[2]||"").split(".").sort();cb=bJ.event.special[cc]||{};cc=(b6?cb.delegateType:cb.bindType)||cc;cb=bJ.event.special[cc]||{};cd=bJ.extend({type:cc,origType:ce[1],data:b7,handler:cg,guid:cg.guid,selector:b6,needsContext:b6&&bJ.expr.match.needsContext.test(b6),namespace:b2.join(".")},b3);b4=ch[cc];if(!b4){b4=ch[cc]=[];b4.delegateCount=0;if(!cb.setup||cb.setup.call(b5,b7,b2,b8)===false){if(b5.addEventListener){b5.addEventListener(cc,b8,false)}else{if(b5.attachEvent){b5.attachEvent("on"+cc,b8)}}}}if(cb.add){cb.add.call(b5,cd);if(!cd.handler.guid){cd.handler.guid=cg.guid}}if(b6){b4.splice(b4.delegateCount++,0,cd)}else{b4.push(cd)}bJ.event.global[cc]=true}b5=null},global:{},remove:function(b5,ca,cg,b6,b9){var ch,ci,cd,b4,b3,b7,b8,cf,cc,b2,ce,cb=bJ.hasData(b5)&&bJ._data(b5);if(!cb||!(cf=cb.events)){return}ca=bJ.trim(au(ca||"")).split(" ");for(ch=0;ch<ca.length;ch++){ci=bu.exec(ca[ch])||[];cd=b4=ci[1];b3=ci[2];if(!cd){for(cd in cf){bJ.event.remove(b5,cd+ca[ch],cg,b6,true)}continue}cc=bJ.event.special[cd]||{};cd=(b6?cc.delegateType:cc.bindType)||cd;b2=cf[cd]||[];b7=b2.length;b3=b3?new RegExp("(^|\\.)"+b3.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(b8=0;b8<b2.length;b8++){ce=b2[b8];if((b9||b4===ce.origType)&&(!cg||cg.guid===ce.guid)&&(!b3||b3.test(ce.namespace))&&(!b6||b6===ce.selector||b6==="**"&&ce.selector)){b2.splice(b8--,1);if(ce.selector){b2.delegateCount--}if(cc.remove){cc.remove.call(b5,ce)}}}if(b2.length===0&&b7!==b2.length){if(!cc.teardown||cc.teardown.call(b5,b3,cb.handle)===false){bJ.removeEvent(b5,cd,cb.handle)}delete cf[cd]}}if(bJ.isEmptyObject(cf)){delete cb.handle;bJ.removeData(b5,"events",true)}},customEvent:{getData:true,setData:true,changeData:true},trigger:function(b3,ca,b8,ch){if(b8&&(b8.nodeType===3||b8.nodeType===8)){return}var b2,b5,cb,cf,b7,b6,cd,cc,b9,cg,ce=b3.type||b3,b4=[];if(bB.test(ce+bJ.event.triggered)){return}if(ce.indexOf("!")>=0){ce=ce.slice(0,-1);b5=true}if(ce.indexOf(".")>=0){b4=ce.split(".");ce=b4.shift();b4.sort()}if((!b8||bJ.event.customEvent[ce])&&!bJ.event.global[ce]){return}b3=typeof b3==="object"?b3[bJ.expando]?b3:new bJ.Event(ce,b3):new bJ.Event(ce);b3.type=ce;b3.isTrigger=true;b3.exclusive=b5;b3.namespace=b4.join(".");b3.namespace_re=b3.namespace?new RegExp("(^|\\.)"+b4.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;b6=ce.indexOf(":")<0?"on"+ce:"";if(!b8){b2=bJ.cache;for(cb in b2){if(b2[cb].events&&b2[cb].events[ce]){bJ.event.trigger(b3,ca,b2[cb].handle.elem,true)}}return}b3.result=aE;if(!b3.target){b3.target=b8}ca=ca!=null?bJ.makeArray(ca):[];ca.unshift(b3);cd=bJ.event.special[ce]||{};if(cd.trigger&&cd.trigger.apply(b8,ca)===false){return}b9=[[b8,cd.bindType||ce]];if(!ch&&!cd.noBubble&&!bJ.isWindow(b8)){cg=cd.delegateType||ce;cf=bB.test(cg+ce)?b8:b8.parentNode;for(b7=b8;cf;cf=cf.parentNode){b9.push([cf,cg]);b7=cf}if(b7===(b8.ownerDocument||q)){b9.push([b7.defaultView||b7.parentWindow||a5,cg])}}for(cb=0;cb<b9.length&&!b3.isPropagationStopped();cb++){cf=b9[cb][0];b3.type=b9[cb][1];cc=(bJ._data(cf,"events")||{})[b3.type]&&bJ._data(cf,"handle");if(cc){cc.apply(cf,ca)}cc=b6&&cf[b6];if(cc&&bJ.acceptData(cf)&&cc.apply&&cc.apply(cf,ca)===false){b3.preventDefault()}}b3.type=ce;if(!ch&&!b3.isDefaultPrevented()){if((!cd._default||cd._default.apply(b8.ownerDocument,ca)===false)&&!(ce==="click"&&bJ.nodeName(b8,"a"))&&bJ.acceptData(b8)){if(b6&&b8[ce]&&((ce!=="focus"&&ce!=="blur")||b3.target.offsetWidth!==0)&&!bJ.isWindow(b8)){b7=b8[b6];if(b7){b8[b6]=null}bJ.event.triggered=ce;b8[ce]();bJ.event.triggered=aE;if(b7){b8[b6]=b7}}}}return b3.result},dispatch:function(b2){b2=bJ.event.fix(b2||a5.event);var b9,b8,ci,cc,cb,b3,ca,cg,b5,ch,b6=((bJ._data(this,"events")||{})[b2.type]||[]),b7=b6.delegateCount,ce=a7.call(arguments),b4=!b2.exclusive&&!b2.namespace,cd=bJ.event.special[b2.type]||{},cf=[];ce[0]=b2;b2.delegateTarget=this;if(cd.preDispatch&&cd.preDispatch.call(this,b2)===false){return}if(b7&&!(b2.button&&b2.type==="click")){for(ci=b2.target;ci!=this;ci=ci.parentNode||this){if(ci.disabled!==true||b2.type!=="click"){cb={};ca=[];for(b9=0;b9<b7;b9++){cg=b6[b9];b5=cg.selector;if(cb[b5]===aE){cb[b5]=cg.needsContext?bJ(b5,this).index(ci)>=0:bJ.find(b5,this,null,[ci]).length}if(cb[b5]){ca.push(cg)}}if(ca.length){cf.push({elem:ci,matches:ca})}}}}if(b6.length>b7){cf.push({elem:this,matches:b6.slice(b7)})}for(b9=0;b9<cf.length&&!b2.isPropagationStopped();b9++){b3=cf[b9];b2.currentTarget=b3.elem;for(b8=0;b8<b3.matches.length&&!b2.isImmediatePropagationStopped();b8++){cg=b3.matches[b8];if(b4||(!b2.namespace&&!cg.namespace)||b2.namespace_re&&b2.namespace_re.test(cg.namespace)){b2.data=cg.data;b2.handleObj=cg;cc=((bJ.event.special[cg.origType]||{}).handle||cg.handler).apply(b3.elem,ce);if(cc!==aE){b2.result=cc;if(cc===false){b2.preventDefault();b2.stopPropagation()}}}}}if(cd.postDispatch){cd.postDispatch.call(this,b2)}return b2.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(b3,b2){if(b3.which==null){b3.which=b2.charCode!=null?b2.charCode:b2.keyCode}return b3}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(b5,b4){var b6,b7,b2,b3=b4.button,b8=b4.fromElement;if(b5.pageX==null&&b4.clientX!=null){b6=b5.target.ownerDocument||q;b7=b6.documentElement;b2=b6.body;b5.pageX=b4.clientX+(b7&&b7.scrollLeft||b2&&b2.scrollLeft||0)-(b7&&b7.clientLeft||b2&&b2.clientLeft||0);b5.pageY=b4.clientY+(b7&&b7.scrollTop||b2&&b2.scrollTop||0)-(b7&&b7.clientTop||b2&&b2.clientTop||0)}if(!b5.relatedTarget&&b8){b5.relatedTarget=b8===b5.target?b4.toElement:b8}if(!b5.which&&b3!==aE){b5.which=(b3&1?1:(b3&2?3:(b3&4?2:0)))}return b5}},fix:function(b4){if(b4[bJ.expando]){return b4}var b3,b7,b2=b4,b5=bJ.event.fixHooks[b4.type]||{},b6=b5.props?this.props.concat(b5.props):this.props;b4=bJ.Event(b2);for(b3=b6.length;b3;){b7=b6[--b3];b4[b7]=b2[b7]}if(!b4.target){b4.target=b2.srcElement||q}if(b4.target.nodeType===3){b4.target=b4.target.parentNode}b4.metaKey=!!b4.metaKey;return b5.filter?b5.filter(b4,b2):b4},special:{load:{noBubble:true},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(b4,b3,b2){if(bJ.isWindow(this)){this.onbeforeunload=b2}},teardown:function(b3,b2){if(this.onbeforeunload===b2){this.onbeforeunload=null}}}},simulate:function(b3,b5,b4,b2){var b6=bJ.extend(new bJ.Event(),b4,{type:b3,isSimulated:true,originalEvent:{}});if(b2){bJ.event.trigger(b6,null,b5)}else{bJ.event.dispatch.call(b5,b6)}if(b6.isDefaultPrevented()){b4.preventDefault()}}};bJ.event.handle=bJ.event.dispatch;bJ.removeEvent=q.removeEventListener?function(b3,b2,b4){if(b3.removeEventListener){b3.removeEventListener(b2,b4,false)}}:function(b4,b3,b5){var b2="on"+b3;if(b4.detachEvent){if(typeof b4[b2]==="undefined"){b4[b2]=null}b4.detachEvent(b2,b5)}};bJ.Event=function(b3,b2){if(!(this instanceof bJ.Event)){return new bJ.Event(b3,b2)}if(b3&&b3.type){this.originalEvent=b3;this.type=b3.type;this.isDefaultPrevented=(b3.defaultPrevented||b3.returnValue===false||b3.getPreventDefault&&b3.getPreventDefault())?U:aa}else{this.type=b3}if(b2){bJ.extend(this,b2)}this.timeStamp=b3&&b3.timeStamp||bJ.now();this[bJ.expando]=true};function aa(){return false}function U(){return true}bJ.Event.prototype={preventDefault:function(){this.isDefaultPrevented=U;var b2=this.originalEvent;if(!b2){return}if(b2.preventDefault){b2.preventDefault()}else{b2.returnValue=false}},stopPropagation:function(){this.isPropagationStopped=U;var b2=this.originalEvent;if(!b2){return}if(b2.stopPropagation){b2.stopPropagation()}b2.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=U;this.stopPropagation()},isDefaultPrevented:aa,isPropagationStopped:aa,isImmediatePropagationStopped:aa};bJ.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(b3,b2){bJ.event.special[b3]={delegateType:b2,bindType:b2,handle:function(b7){var b5,b9=this,b8=b7.relatedTarget,b6=b7.handleObj,b4=b6.selector;if(!b8||(b8!==b9&&!bJ.contains(b9,b8))){b7.type=b6.origType;b5=b6.handler.apply(this,arguments);b7.type=b2}return b5}}});if(!bJ.support.submitBubbles){bJ.event.special.submit={setup:function(){if(bJ.nodeName(this,"form")){return false}bJ.event.add(this,"click._submit keypress._submit",function(b4){var b3=b4.target,b2=bJ.nodeName(b3,"input")||bJ.nodeName(b3,"button")?b3.form:aE;if(b2&&!bJ._data(b2,"_submit_attached")){bJ.event.add(b2,"submit._submit",function(b5){b5._submit_bubble=true});bJ._data(b2,"_submit_attached",true)}})},postDispatch:function(b2){if(b2._submit_bubble){delete b2._submit_bubble;if(this.parentNode&&!b2.isTrigger){bJ.event.simulate("submit",this.parentNode,b2,true)}}},teardown:function(){if(bJ.nodeName(this,"form")){return false}bJ.event.remove(this,"._submit")}}}if(!bJ.support.changeBubbles){bJ.event.special.change={setup:function(){if(bH.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){bJ.event.add(this,"propertychange._change",function(b2){if(b2.originalEvent.propertyName==="checked"){this._just_changed=true}});bJ.event.add(this,"click._change",function(b2){if(this._just_changed&&!b2.isTrigger){this._just_changed=false}bJ.event.simulate("change",this,b2,true)})}return false}bJ.event.add(this,"beforeactivate._change",function(b3){var b2=b3.target;if(bH.test(b2.nodeName)&&!bJ._data(b2,"_change_attached")){bJ.event.add(b2,"change._change",function(b4){if(this.parentNode&&!b4.isSimulated&&!b4.isTrigger){bJ.event.simulate("change",this.parentNode,b4,true)}});bJ._data(b2,"_change_attached",true)}})},handle:function(b3){var b2=b3.target;if(this!==b2||b3.isSimulated||b3.isTrigger||(b2.type!=="radio"&&b2.type!=="checkbox")){return b3.handleObj.handler.apply(this,arguments)}},teardown:function(){bJ.event.remove(this,"._change");return !bH.test(this.nodeName)}}}if(!bJ.support.focusinBubbles){bJ.each({focus:"focusin",blur:"focusout"},function(b5,b2){var b3=0,b4=function(b6){bJ.event.simulate(b2,b6.target,bJ.event.fix(b6),true)};bJ.event.special[b2]={setup:function(){if(b3++===0){q.addEventListener(b5,b4,true)}},teardown:function(){if(--b3===0){q.removeEventListener(b5,b4,true)}}}})}bJ.fn.extend({on:function(b4,b2,b7,b6,b3){var b8,b5;if(typeof b4==="object"){if(typeof b2!=="string"){b7=b7||b2;b2=aE}for(b5 in b4){this.on(b5,b2,b7,b4[b5],b3)}return this}if(b7==null&&b6==null){b6=b2;b7=b2=aE}else{if(b6==null){if(typeof b2==="string"){b6=b7;b7=aE}else{b6=b7;b7=b2;b2=aE}}}if(b6===false){b6=aa}else{if(!b6){return this}}if(b3===1){b8=b6;b6=function(b9){bJ().off(b9);return b8.apply(this,arguments)};b6.guid=b8.guid||(b8.guid=bJ.guid++)}return this.each(function(){bJ.event.add(this,b4,b6,b7,b2)})},one:function(b3,b2,b5,b4){return this.on(b3,b2,b5,b4,1)},off:function(b4,b2,b6){var b3,b5;if(b4&&b4.preventDefault&&b4.handleObj){b3=b4.handleObj;bJ(b4.delegateTarget).off(b3.namespace?b3.origType+"."+b3.namespace:b3.origType,b3.selector,b3.handler);return this}if(typeof b4==="object"){for(b5 in b4){this.off(b5,b2,b4[b5])}return this}if(b2===false||typeof b2==="function"){b6=b2;b2=aE}if(b6===false){b6=aa}return this.each(function(){bJ.event.remove(this,b4,b6,b2)})},bind:function(b2,b4,b3){return this.on(b2,null,b4,b3)},unbind:function(b2,b3){return this.off(b2,null,b3)},live:function(b2,b4,b3){bJ(this.context).on(b2,this.selector,b4,b3);return this},die:function(b2,b3){bJ(this.context).off(b2,this.selector||"**",b3);return this},delegate:function(b2,b3,b5,b4){return this.on(b3,b2,b5,b4)},undelegate:function(b2,b3,b4){return arguments.length===1?this.off(b2,"**"):this.off(b3,b2||"**",b4)},trigger:function(b2,b3){return this.each(function(){bJ.event.trigger(b2,b3,this)})},triggerHandler:function(b2,b3){if(this[0]){return bJ.event.trigger(b2,b3,this[0],true)}},toggle:function(b5){var b3=arguments,b2=b5.guid||bJ.guid++,b4=0,b6=function(b7){var b8=(bJ._data(this,"lastToggle"+b5.guid)||0)%b4;bJ._data(this,"lastToggle"+b5.guid,b8+1);b7.preventDefault();return b3[b8].apply(this,arguments)||false};b6.guid=b2;while(b4<b3.length){b3[b4++].guid=b2}return this.click(b6)},hover:function(b2,b3){return this.mouseenter(b2).mouseleave(b3||b2)}});bJ.each(("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu").split(" "),function(b3,b2){bJ.fn[b2]=function(b5,b4){if(b4==null){b4=b5;b5=null}return arguments.length>0?this.on(b2,null,b5,b4):this.trigger(b2)};if(a6.test(b2)){bJ.event.fixHooks[b2]=bJ.event.keyHooks}if(bN.test(b2)){bJ.event.fixHooks[b2]=bJ.event.mouseHooks}});
/*!
   * Sizzle CSS Selector Engine
   * Copyright 2012 jQuery Foundation and other contributors
   * Released under the MIT license
   * http://sizzlejs.com/
   */
(function(cV,ck){var c0,cd,cO,b3,cp,cD,cg,cj,cf,cM,cc=true,cx="undefined",c2=("sizcache"+Math.random()).replace(".",""),b7=String,cb=cV.document,ce=cb.documentElement,cu=0,ci=0,cH=[].pop,cZ=[].push,co=[].slice,cr=[].indexOf||function(dc){var db=0,da=this.length;for(;db<da;db++){if(this[db]===dc){return db}}return -1},c4=function(da,db){da[c2]=db==null||db;return da},c8=function(){var da={},db=[];return c4(function(dc,dd){if(db.push(dc)>cO.cacheLength){delete da[db.shift()]}return(da[dc]=dd)},da)},cX=c8(),cY=c8(),cq=c8(),cB="[\\x20\\t\\r\\n\\f]",cn="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",cl=cn.replace("w","w#"),c7="([*^$|!~]?=)",cS="\\["+cB+"*("+cn+")"+cB+"*(?:"+c7+cB+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+cl+")|)|)"+cB+"*\\]",c9=":("+cn+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+cS+")|[^:]|\\\\.)*|.*))\\)|)",cC=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+cB+"*((?:-\\d)?\\d*)"+cB+"*\\)|)(?=[^-]|$)",cW=new RegExp("^"+cB+"+|((?:^|[^\\\\])(?:\\\\.)*)"+cB+"+$","g"),b8=new RegExp("^"+cB+"*,"+cB+"*"),cK=new RegExp("^"+cB+"*([\\x20\\t\\r\\n\\f>+~])"+cB+"*"),cP=new RegExp(c9),cR=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,cG=/^:not/,cU=/[\x20\t\r\n\f]*[+~]/,c3=/:not\($/,cv=/h\d/i,cQ=/input|select|textarea|button/i,cw=/\\(?!\\)/g,cJ={ID:new RegExp("^#("+cn+")"),CLASS:new RegExp("^\\.("+cn+")"),NAME:new RegExp("^\\[name=['\"]?("+cn+")['\"]?\\]"),TAG:new RegExp("^("+cn.replace("w","w*")+")"),ATTR:new RegExp("^"+cS),PSEUDO:new RegExp("^"+c9),POS:new RegExp(cC,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+cB+"*(even|odd|(([+-]|)(\\d*)n|)"+cB+"*(?:([+-]|)"+cB+"*(\\d+)|))"+cB+"*\\)|)","i"),needsContext:new RegExp("^"+cB+"*[>+~]|"+cC,"i")},cN=function(da){var dc=cb.createElement("div");try{return da(dc)}catch(db){return false}finally{dc=null}},ca=cN(function(da){da.appendChild(cb.createComment(""));return !da.getElementsByTagName("*").length}),cF=cN(function(da){da.innerHTML="<a href='#'></a>";return da.firstChild&&typeof da.firstChild.getAttribute!==cx&&da.firstChild.getAttribute("href")==="#"}),ct=cN(function(db){db.innerHTML="<select></select>";var da=typeof db.lastChild.getAttribute("multiple");return da!=="boolean"&&da!=="string"}),cE=cN(function(da){da.innerHTML="<div class='hidden e'></div><div class='hidden'></div>";if(!da.getElementsByClassName||!da.getElementsByClassName("e").length){return false}da.lastChild.className="e";return da.getElementsByClassName("e").length===2}),b2=cN(function(db){db.id=c2+0;db.innerHTML="<a name='"+c2+"'></a><div name='"+c2+"'></div>";ce.insertBefore(db,ce.firstChild);var da=cb.getElementsByName&&cb.getElementsByName(c2).length===2+cb.getElementsByName(c2+0).length;cd=!cb.getElementById(c2);ce.removeChild(db);return da});try{co.call(ce.childNodes,0)[0].nodeType}catch(c6){co=function(db){var dc,da=[];for(;(dc=this[db]);db++){da.push(dc)}return da}}function cT(dd,da,df,di){df=df||[];da=da||cb;var dg,db,dh,dc,de=da.nodeType;if(!dd||typeof dd!=="string"){return df}if(de!==1&&de!==9){return[]}dh=cp(da);if(!dh&&!di){if((dg=cR.exec(dd))){if((dc=dg[1])){if(de===9){db=da.getElementById(dc);if(db&&db.parentNode){if(db.id===dc){df.push(db);return df}}else{return df}}else{if(da.ownerDocument&&(db=da.ownerDocument.getElementById(dc))&&cD(da,db)&&db.id===dc){df.push(db);return df}}}else{if(dg[2]){cZ.apply(df,co.call(da.getElementsByTagName(dd),0));return df}else{if((dc=dg[3])&&cE&&da.getElementsByClassName){cZ.apply(df,co.call(da.getElementsByClassName(dc),0));return df}}}}}return c1(dd.replace(cW,"$1"),da,df,di,dh)}cT.matches=function(db,da){return cT(db,null,null,da)};cT.matchesSelector=function(da,db){return cT(db,null,null,[da]).length>0};function cL(da){return function(dc){var db=dc.nodeName.toLowerCase();return db==="input"&&dc.type===da}}function b6(da){return function(dc){var db=dc.nodeName.toLowerCase();return(db==="input"||db==="button")&&dc.type===da}}function cI(da){return c4(function(db){db=+db;return c4(function(dc,dg){var de,dd=da([],dc.length,db),df=dd.length;while(df--){if(dc[(de=dd[df])]){dc[de]=!(dg[de]=dc[de])}}})})}b3=cT.getText=function(de){var dd,db="",dc=0,da=de.nodeType;if(da){if(da===1||da===9||da===11){if(typeof de.textContent==="string"){return de.textContent}else{for(de=de.firstChild;de;de=de.nextSibling){db+=b3(de)}}}else{if(da===3||da===4){return de.nodeValue}}}else{for(;(dd=de[dc]);dc++){db+=b3(dd)}}return db};cp=cT.isXML=function(da){var db=da&&(da.ownerDocument||da).documentElement;return db?db.nodeName!=="HTML":false};cD=cT.contains=ce.contains?function(db,da){var dd=db.nodeType===9?db.documentElement:db,dc=da&&da.parentNode;return db===dc||!!(dc&&dc.nodeType===1&&dd.contains&&dd.contains(dc))}:ce.compareDocumentPosition?function(db,da){return da&&!!(db.compareDocumentPosition(da)&16)}:function(db,da){while((da=da.parentNode)){if(da===db){return true}}return false};cT.attr=function(dc,db){var dd,da=cp(dc);if(!da){db=db.toLowerCase()}if((dd=cO.attrHandle[db])){return dd(dc)}if(da||ct){return dc.getAttribute(db)}dd=dc.getAttributeNode(db);return dd?typeof dc[db]==="boolean"?dc[db]?db:null:dd.specified?dd.value:null:null};cO=cT.selectors={cacheLength:50,createPseudo:c4,match:cJ,attrHandle:cF?{}:{href:function(da){return da.getAttribute("href",2)},type:function(da){return da.getAttribute("type")}},find:{ID:cd?function(dd,dc,db){if(typeof dc.getElementById!==cx&&!db){var da=dc.getElementById(dd);return da&&da.parentNode?[da]:[]}}:function(dd,dc,db){if(typeof dc.getElementById!==cx&&!db){var da=dc.getElementById(dd);return da?da.id===dd||typeof da.getAttributeNode!==cx&&da.getAttributeNode("id").value===dd?[da]:ck:[]}},TAG:ca?function(da,db){if(typeof db.getElementsByTagName!==cx){return db.getElementsByTagName(da)}}:function(da,de){var dd=de.getElementsByTagName(da);if(da==="*"){var df,dc=[],db=0;for(;(df=dd[db]);db++){if(df.nodeType===1){dc.push(df)}}return dc}return dd},NAME:b2&&function(da,db){if(typeof db.getElementsByName!==cx){return db.getElementsByName(name)}},CLASS:cE&&function(dc,db,da){if(typeof db.getElementsByClassName!==cx&&!da){return db.getElementsByClassName(dc)}}},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(da){da[1]=da[1].replace(cw,"");da[3]=(da[4]||da[5]||"").replace(cw,"");if(da[2]==="~="){da[3]=" "+da[3]+" "}return da.slice(0,4)},CHILD:function(da){da[1]=da[1].toLowerCase();if(da[1]==="nth"){if(!da[2]){cT.error(da[0])}da[3]=+(da[3]?da[4]+(da[5]||1):2*(da[2]==="even"||da[2]==="odd"));da[4]=+((da[6]+da[7])||da[2]==="odd")}else{if(da[2]){cT.error(da[0])}}return da},PSEUDO:function(db){var dc,da;if(cJ.CHILD.test(db[0])){return null}if(db[3]){db[2]=db[3]}else{if((dc=db[4])){if(cP.test(dc)&&(da=b4(dc,true))&&(da=dc.indexOf(")",dc.length-da)-dc.length)){dc=dc.slice(0,da);db[0]=db[0].slice(0,da)}db[2]=dc}}return db.slice(0,3)}},filter:{ID:cd?function(da){da=da.replace(cw,"");return function(db){return db.getAttribute("id")===da}}:function(da){da=da.replace(cw,"");return function(dc){var db=typeof dc.getAttributeNode!==cx&&dc.getAttributeNode("id");return db&&db.value===da}},TAG:function(da){if(da==="*"){return function(){return true}}da=da.replace(cw,"").toLowerCase();return function(db){return db.nodeName&&db.nodeName.toLowerCase()===da}},CLASS:function(da){var db=cX[c2][da];if(!db){db=cX(da,new RegExp("(^|"+cB+")"+da+"("+cB+"|$)"))}return function(dc){return db.test(dc.className||(typeof dc.getAttribute!==cx&&dc.getAttribute("class"))||"")}},ATTR:function(dc,db,da){return function(df,de){var dd=cT.attr(df,dc);if(dd==null){return db==="!="}if(!db){return true}dd+="";return db==="="?dd===da:db==="!="?dd!==da:db==="^="?da&&dd.indexOf(da)===0:db==="*="?da&&dd.indexOf(da)>-1:db==="$="?da&&dd.substr(dd.length-da.length)===da:db==="~="?(" "+dd+" ").indexOf(da)>-1:db==="|="?dd===da||dd.substr(0,da.length+1)===da+"-":false}},CHILD:function(da,dc,dd,db){if(da==="nth"){return function(dg){var df,dh,de=dg.parentNode;if(dd===1&&db===0){return true}if(de){dh=0;for(df=de.firstChild;df;df=df.nextSibling){if(df.nodeType===1){dh++;if(dg===df){break}}}}dh-=db;return dh===dd||(dh%dd===0&&dh/dd>=0)}}return function(df){var de=df;switch(da){case"only":case"first":while((de=de.previousSibling)){if(de.nodeType===1){return false}}if(da==="first"){return true}de=df;case"last":while((de=de.nextSibling)){if(de.nodeType===1){return false}}return true}}},PSEUDO:function(dd,dc){var da,db=cO.pseudos[dd]||cO.setFilters[dd.toLowerCase()]||cT.error("unsupported pseudo: "+dd);if(db[c2]){return db(dc)}if(db.length>1){da=[dd,dd,"",dc];return cO.setFilters.hasOwnProperty(dd.toLowerCase())?c4(function(dg,di){var df,de=db(dg,dc),dh=de.length;while(dh--){df=cr.call(dg,de[dh]);dg[df]=!(di[df]=de[dh])}}):function(de){return db(de,0,da)}}return db}},pseudos:{not:c4(function(da){var db=[],dc=[],dd=cg(da.replace(cW,"$1"));return dd[c2]?c4(function(df,dk,di,dg){var dj,de=dd(df,null,dg,[]),dh=df.length;while(dh--){if((dj=de[dh])){df[dh]=!(dk[dh]=dj)}}}):function(dg,df,de){db[0]=dg;dd(db,null,de,dc);return !dc.pop()}}),has:c4(function(da){return function(db){return cT(da,db).length>0}}),contains:c4(function(da){return function(db){return(db.textContent||db.innerText||b3(db)).indexOf(da)>-1}}),enabled:function(da){return da.disabled===false},disabled:function(da){return da.disabled===true},checked:function(da){var db=da.nodeName.toLowerCase();return(db==="input"&&!!da.checked)||(db==="option"&&!!da.selected)},selected:function(da){if(da.parentNode){da.parentNode.selectedIndex}return da.selected===true},parent:function(da){return !cO.pseudos.empty(da)},empty:function(db){var da;db=db.firstChild;while(db){if(db.nodeName>"@"||(da=db.nodeType)===3||da===4){return false}db=db.nextSibling}return true},header:function(da){return cv.test(da.nodeName)},text:function(dc){var db,da;return dc.nodeName.toLowerCase()==="input"&&(db=dc.type)==="text"&&((da=dc.getAttribute("type"))==null||da.toLowerCase()===db)},radio:cL("radio"),checkbox:cL("checkbox"),file:cL("file"),password:cL("password"),image:cL("image"),submit:b6("submit"),reset:b6("reset"),button:function(db){var da=db.nodeName.toLowerCase();return da==="input"&&db.type==="button"||da==="button"},input:function(da){return cQ.test(da.nodeName)},focus:function(da){var db=da.ownerDocument;return da===db.activeElement&&(!db.hasFocus||db.hasFocus())&&!!(da.type||da.href)},active:function(da){return da===da.ownerDocument.activeElement},first:cI(function(da,dc,db){return[0]}),last:cI(function(da,dc,db){return[dc-1]}),eq:cI(function(da,dc,db){return[db<0?db+dc:db]}),even:cI(function(da,dd,dc){for(var db=0;db<dd;db+=2){da.push(db)}return da}),odd:cI(function(da,dd,dc){for(var db=1;db<dd;db+=2){da.push(db)}return da}),lt:cI(function(da,dd,dc){for(var db=dc<0?dc+dd:dc;--db>=0;){da.push(db)}return da}),gt:cI(function(da,dd,dc){for(var db=dc<0?dc+dd:dc;++db<dd;){da.push(db)}return da})}};function b5(db,da,dc){if(db===da){return dc}var dd=db.nextSibling;while(dd){if(dd===da){return -1}dd=dd.nextSibling}return 1}cj=ce.compareDocumentPosition?function(db,da){if(db===da){cf=true;return 0}return(!db.compareDocumentPosition||!da.compareDocumentPosition?db.compareDocumentPosition:db.compareDocumentPosition(da)&4)?-1:1}:function(di,dh){if(di===dh){cf=true;return 0}else{if(di.sourceIndex&&dh.sourceIndex){return di.sourceIndex-dh.sourceIndex}}var df,db,dc=[],da=[],de=di.parentNode,dg=dh.parentNode,dj=de;if(de===dg){return b5(di,dh)}else{if(!de){return -1}else{if(!dg){return 1}}}while(dj){dc.unshift(dj);dj=dj.parentNode}dj=dg;while(dj){da.unshift(dj);dj=dj.parentNode}df=dc.length;db=da.length;for(var dd=0;dd<df&&dd<db;dd++){if(dc[dd]!==da[dd]){return b5(dc[dd],da[dd])}}return dd===df?b5(di,da[dd],-1):b5(dc[dd],dh,1)};[0,0].sort(cj);cc=!cf;cT.uniqueSort=function(db){var dc,da=1;cf=cc;db.sort(cj);if(cf){for(;(dc=db[da]);da++){if(dc===db[da-1]){db.splice(da--,1)}}}return db};cT.error=function(da){throw new Error("Syntax error, unrecognized expression: "+da)};function b4(de,dj){var db,df,dh,di,dg,dc,da,dd=cY[c2][de];if(dd){return dj?0:dd.slice(0)}dg=de;dc=[];da=cO.preFilter;while(dg){if(!db||(df=b8.exec(dg))){if(df){dg=dg.slice(df[0].length)}dc.push(dh=[])}db=false;if((df=cK.exec(dg))){dh.push(db=new b7(df.shift()));dg=dg.slice(db.length);db.type=df[0].replace(cW," ")}for(di in cO.filter){if((df=cJ[di].exec(dg))&&(!da[di]||(df=da[di](df,cb,true)))){dh.push(db=new b7(df.shift()));dg=dg.slice(db.length);db.type=di;db.matches=df}}if(!db){break}}return dj?dg.length:dg?cT.error(de):cY(de,dc).slice(0)}function cz(de,dc,dd){var da=dc.dir,df=dd&&dc.dir==="parentNode",db=ci++;return dc.first?function(di,dh,dg){while((di=di[da])){if(df||di.nodeType===1){return de(di,dh,dg)}}}:function(dj,di,dh){if(!dh){var dg,dk=cu+" "+db+" ",dl=dk+c0;while((dj=dj[da])){if(df||dj.nodeType===1){if((dg=dj[c2])===dl){return dj.sizset}else{if(typeof dg==="string"&&dg.indexOf(dk)===0){if(dj.sizset){return dj}}else{dj[c2]=dl;if(de(dj,di,dh)){dj.sizset=true;return dj}dj.sizset=false}}}}}else{while((dj=dj[da])){if(df||dj.nodeType===1){if(de(dj,di,dh)){return dj}}}}}}function ch(da){return da.length>1?function(de,dd,db){var dc=da.length;while(dc--){if(!da[dc](de,dd,db)){return false}}return true}:da[0]}function cy(da,db,dc,dd,dg){var de,dj=[],df=0,dh=da.length,di=db!=null;for(;df<dh;df++){if((de=da[df])){if(!dc||dc(de,dd,dg)){dj.push(de);if(di){db.push(df)}}}}return dj}function c5(dc,db,de,dd,df,da){if(dd&&!dd[c2]){dd=c5(dd)}if(df&&!df[c2]){df=c5(df,da)}return c4(function(ds,dp,di,dr){if(ds&&df){return}var dq,dk,dl,dj=[],dt=[],dh=dp.length,dg=ds||cs(db||"*",di.nodeType?[di]:di,[],ds),dm=dc&&(ds||!db)?cy(dg,dj,dc,di,dr):dg,dn=de?df||(ds?dc:dh||dd)?[]:dp:dm;if(de){de(dm,dn,di,dr)}if(dd){dl=cy(dn,dt);dd(dl,[],di,dr);dq=dl.length;while(dq--){if((dk=dl[dq])){dn[dt[dq]]=!(dm[dt[dq]]=dk)}}}if(ds){dq=dc&&dn.length;while(dq--){if((dk=dn[dq])){ds[dj[dq]]=!(dp[dj[dq]]=dk)}}}else{dn=cy(dn===dp?dn.splice(dh,dn.length):dn);if(df){df(null,dp,dn,dr)}else{cZ.apply(dp,dn)}}})}function cA(dg){var db,de,dc,df=dg.length,dj=cO.relative[dg[0].type],dk=dj||cO.relative[" "],dd=dj?1:0,dh=cz(function(dl){return dl===db},dk,true),di=cz(function(dl){return cr.call(db,dl)>-1},dk,true),da=[function(dn,dm,dl){return(!dj&&(dl||dm!==cM))||((db=dm).nodeType?dh(dn,dm,dl):di(dn,dm,dl))}];for(;dd<df;dd++){if((de=cO.relative[dg[dd].type])){da=[cz(ch(da),de)]}else{de=cO.filter[dg[dd].type].apply(null,dg[dd].matches);if(de[c2]){dc=++dd;for(;dc<df;dc++){if(cO.relative[dg[dc].type]){break}}return c5(dd>1&&ch(da),dd>1&&dg.slice(0,dd-1).join("").replace(cW,"$1"),de,dd<dc&&cA(dg.slice(dd,dc)),dc<df&&cA((dg=dg.slice(dc))),dc<df&&dg.join(""))}da.push(de)}}return ch(da)}function b9(dd,dc){var da=dc.length>0,de=dd.length>0,db=function(dp,di,dn,dm,dv){var dj,dk,dq,du=[],dt=0,dl="0",df=dp&&[],dr=dv!=null,ds=cM,dh=dp||de&&cO.find.TAG("*",dv&&di.parentNode||di),dg=(cu+=ds==null?1:Math.E);if(dr){cM=di!==cb&&di;c0=db.el}for(;(dj=dh[dl])!=null;dl++){if(de&&dj){for(dk=0;(dq=dd[dk]);dk++){if(dq(dj,di,dn)){dm.push(dj);break}}if(dr){cu=dg;c0=++db.el}}if(da){if((dj=!dq&&dj)){dt--}if(dp){df.push(dj)}}}dt+=dl;if(da&&dl!==dt){for(dk=0;(dq=dc[dk]);dk++){dq(df,du,di,dn)}if(dp){if(dt>0){while(dl--){if(!(df[dl]||du[dl])){du[dl]=cH.call(dm)}}}du=cy(du)}cZ.apply(dm,du);if(dr&&!dp&&du.length>0&&(dt+dc.length)>1){cT.uniqueSort(dm)}}if(dr){cu=dg;cM=ds}return df};db.el=0;return da?c4(db):db}cg=cT.compile=function(da,df){var dc,db=[],de=[],dd=cq[c2][da];if(!dd){if(!df){df=b4(da)}dc=df.length;while(dc--){dd=cA(df[dc]);if(dd[c2]){db.push(dd)}else{de.push(dd)}}dd=cq(da,b9(de,db))}return dd};function cs(db,df,de,dc){var dd=0,da=df.length;for(;dd<da;dd++){cT(db,df[dd],de,dc)}return de}function c1(dc,da,de,di,dh){var df,dl,db,dk,dj,dg=b4(dc),dd=dg.length;if(!di){if(dg.length===1){dl=dg[0]=dg[0].slice(0);if(dl.length>2&&(db=dl[0]).type==="ID"&&da.nodeType===9&&!dh&&cO.relative[dl[1].type]){da=cO.find.ID(db.matches[0].replace(cw,""),da,dh)[0];if(!da){return de}dc=dc.slice(dl.shift().length)}for(df=cJ.POS.test(dc)?-1:dl.length-1;df>=0;df--){db=dl[df];if(cO.relative[(dk=db.type)]){break}if((dj=cO.find[dk])){if((di=dj(db.matches[0].replace(cw,""),cU.test(dl[0].type)&&da.parentNode||da,dh))){dl.splice(df,1);dc=di.length&&dl.join("");if(!dc){cZ.apply(de,co.call(di,0));return de}break}}}}}cg(dc,dg)(di,da,dh,de,cU.test(dc));return de}if(cb.querySelectorAll){(function(){var df,dg=c1,de=/'|\\/g,dc=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,db=[":focus"],da=[":active",":focus"],dd=ce.matchesSelector||ce.mozMatchesSelector||ce.webkitMatchesSelector||ce.oMatchesSelector||ce.msMatchesSelector;cN(function(dh){dh.innerHTML="<select><option selected=''></option></select>";if(!dh.querySelectorAll("[selected]").length){db.push("\\["+cB+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)")}if(!dh.querySelectorAll(":checked").length){db.push(":checked")}});cN(function(dh){dh.innerHTML="<p test=''></p>";if(dh.querySelectorAll("[test^='']").length){db.push("[*^$]="+cB+"*(?:\"\"|'')")}dh.innerHTML="<input type='hidden'/>";if(!dh.querySelectorAll(":enabled").length){db.push(":enabled",":disabled")}});db=new RegExp(db.join("|"));c1=function(dn,di,dq,dt,ds){if(!dt&&!ds&&(!db||!db.test(dn))){var dl,dr,dk=true,dh=c2,dj=di,dp=di.nodeType===9&&dn;if(di.nodeType===1&&di.nodeName.toLowerCase()!=="object"){dl=b4(dn);if((dk=di.getAttribute("id"))){dh=dk.replace(de,"\\$&")}else{di.setAttribute("id",dh)}dh="[id='"+dh+"'] ";dr=dl.length;while(dr--){dl[dr]=dh+dl[dr].join("")}dj=cU.test(dn)&&di.parentNode||di;dp=dl.join(",")}if(dp){try{cZ.apply(dq,co.call(dj.querySelectorAll(dp),0));return dq}catch(dm){}finally{if(!dk){di.removeAttribute("id")}}}}return dg(dn,di,dq,dt,ds)};if(dd){cN(function(di){df=dd.call(di,"div");try{dd.call(di,"[test!='']:sizzle");da.push("!=",c9)}catch(dh){}});da=new RegExp(da.join("|"));cT.matchesSelector=function(di,dk){dk=dk.replace(dc,"='$1']");if(!cp(di)&&!da.test(dk)&&(!db||!db.test(dk))){try{var dh=dd.call(di,dk);if(dh||df||di.document&&di.document.nodeType!==11){return dh}}catch(dj){}}return cT(dk,null,null,[di]).length>0}}})()}cO.pseudos.nth=cO.pseudos.eq;function cm(){}cO.filters=cm.prototype=cO.pseudos;cO.setFilters=new cm();cT.attr=bJ.attr;bJ.find=cT;bJ.expr=cT.selectors;bJ.expr[":"]=bJ.expr.pseudos;bJ.unique=cT.uniqueSort;bJ.text=cT.getText;bJ.isXMLDoc=cT.isXML;bJ.contains=cT.contains})(a5);var aj=/Until$/,bt=/^(?:parents|prev(?:Until|All))/,ao=/^.[^:#\[\.,]*$/,A=bJ.expr.match.needsContext,bx={children:true,contents:true,next:true,prev:true};bJ.fn.extend({find:function(b2){var b6,b3,b8,b9,b7,b5,b4=this;if(typeof b2!=="string"){return bJ(b2).filter(function(){for(b6=0,b3=b4.length;b6<b3;b6++){if(bJ.contains(b4[b6],this)){return true}}})}b5=this.pushStack("","find",b2);for(b6=0,b3=this.length;b6<b3;b6++){b8=b5.length;bJ.find(b2,this[b6],b5);if(b6>0){for(b9=b8;b9<b5.length;b9++){for(b7=0;b7<b8;b7++){if(b5[b7]===b5[b9]){b5.splice(b9--,1);break}}}}}return b5},has:function(b5){var b4,b3=bJ(b5,this),b2=b3.length;return this.filter(function(){for(b4=0;b4<b2;b4++){if(bJ.contains(this,b3[b4])){return true}}})},not:function(b2){return this.pushStack(aP(this,b2,false),"not",b2)},filter:function(b2){return this.pushStack(aP(this,b2,true),"filter",b2)},is:function(b2){return !!b2&&(typeof b2==="string"?A.test(b2)?bJ(b2,this.context).index(this[0])>=0:bJ.filter(b2,this).length>0:this.filter(b2).length>0)},closest:function(b6,b5){var b7,b4=0,b2=this.length,b3=[],b8=A.test(b6)||typeof b6!=="string"?bJ(b6,b5||this.context):0;for(;b4<b2;b4++){b7=this[b4];while(b7&&b7.ownerDocument&&b7!==b5&&b7.nodeType!==11){if(b8?b8.index(b7)>-1:bJ.find.matchesSelector(b7,b6)){b3.push(b7);break}b7=b7.parentNode}}b3=b3.length>1?bJ.unique(b3):b3;return this.pushStack(b3,"closest",b6)},index:function(b2){if(!b2){return(this[0]&&this[0].parentNode)?this.prevAll().length:-1}if(typeof b2==="string"){return bJ.inArray(this[0],bJ(b2))}return bJ.inArray(b2.jquery?b2[0]:b2,this)},add:function(b2,b3){var b5=typeof b2==="string"?bJ(b2,b3):bJ.makeArray(b2&&b2.nodeType?[b2]:b2),b4=bJ.merge(this.get(),b5);return this.pushStack(aU(b5[0])||aU(b4[0])?b4:bJ.unique(b4))},addBack:function(b2){return this.add(b2==null?this.prevObject:this.prevObject.filter(b2))}});bJ.fn.andSelf=bJ.fn.addBack;function aU(b2){return !b2||!b2.parentNode||b2.parentNode.nodeType===11}function a1(b3,b2){do{b3=b3[b2]}while(b3&&b3.nodeType!==1);return b3}bJ.each({parent:function(b3){var b2=b3.parentNode;return b2&&b2.nodeType!==11?b2:null},parents:function(b2){return bJ.dir(b2,"parentNode")},parentsUntil:function(b3,b2,b4){return bJ.dir(b3,"parentNode",b4)},next:function(b2){return a1(b2,"nextSibling")},prev:function(b2){return a1(b2,"previousSibling")},nextAll:function(b2){return bJ.dir(b2,"nextSibling")},prevAll:function(b2){return bJ.dir(b2,"previousSibling")},nextUntil:function(b3,b2,b4){return bJ.dir(b3,"nextSibling",b4)},prevUntil:function(b3,b2,b4){return bJ.dir(b3,"previousSibling",b4)},siblings:function(b2){return bJ.sibling((b2.parentNode||{}).firstChild,b2)},children:function(b2){return bJ.sibling(b2.firstChild)},contents:function(b2){return bJ.nodeName(b2,"iframe")?b2.contentDocument||b2.contentWindow.document:bJ.merge([],b2.childNodes)}},function(b2,b3){bJ.fn[b2]=function(b6,b4){var b5=bJ.map(this,b3,b6);if(!aj.test(b2)){b4=b6}if(b4&&typeof b4==="string"){b5=bJ.filter(b4,b5)}b5=this.length>1&&!bx[b2]?bJ.unique(b5):b5;if(this.length>1&&bt.test(b2)){b5=b5.reverse()}return this.pushStack(b5,b2,a7.call(arguments).join(","))}});bJ.extend({filter:function(b4,b2,b3){if(b3){b4=":not("+b4+")"}return b2.length===1?bJ.find.matchesSelector(b2[0],b4)?[b2[0]]:[]:bJ.find.matches(b4,b2)},dir:function(b4,b3,b6){var b2=[],b5=b4[b3];while(b5&&b5.nodeType!==9&&(b6===aE||b5.nodeType!==1||!bJ(b5).is(b6))){if(b5.nodeType===1){b2.push(b5)}b5=b5[b3]}return b2},sibling:function(b4,b3){var b2=[];for(;b4;b4=b4.nextSibling){if(b4.nodeType===1&&b4!==b3){b2.push(b4)}}return b2}});function aP(b5,b4,b2){b4=b4||0;if(bJ.isFunction(b4)){return bJ.grep(b5,function(b7,b6){var b8=!!b4.call(b7,b6,b7);return b8===b2})}else{if(b4.nodeType){return bJ.grep(b5,function(b7,b6){return(b7===b4)===b2})}else{if(typeof b4==="string"){var b3=bJ.grep(b5,function(b6){return b6.nodeType===1});if(ao.test(b4)){return bJ.filter(b4,b3,!b2)}else{b4=bJ.filter(b4,b3)}}}}return bJ.grep(b5,function(b7,b6){return(bJ.inArray(b7,b4)>=0)===b2})}function C(b2){var b4=c.split("|"),b3=b2.createDocumentFragment();if(b3.createElement){while(b4.length){b3.createElement(b4.pop())}}return b3}var c="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",ay=/ jQuery\d+="(?:null|\d+)"/g,b1=/^\s+/,aB=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,r=/<([\w:]+)/,bW=/<tbody/i,L=/<|&#?\w+;/,am=/<(?:script|style|link)/i,at=/<(?:script|object|embed|option|style)/i,M=new RegExp("<(?:"+c+")[\\s/>]","i"),aH=/^(?:checkbox|radio)$/,bU=/checked\s*(?:[^=]|=\s*.checked.)/i,bz=/\/(java|ecma)script/i,aK=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,W={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},aT=C(q),n=aT.appendChild(q.createElement("div"));W.optgroup=W.option;W.tbody=W.tfoot=W.colgroup=W.caption=W.thead;W.th=W.td;if(!bJ.support.htmlSerialize){W._default=[1,"X<div>","</div>"]}bJ.fn.extend({text:function(b2){return bJ.access(this,function(b3){return b3===aE?bJ.text(this):this.empty().append((this[0]&&this[0].ownerDocument||q).createTextNode(b3))},null,b2,arguments.length)},wrapAll:function(b2){if(bJ.isFunction(b2)){return this.each(function(b4){bJ(this).wrapAll(b2.call(this,b4))})}if(this[0]){var b3=bJ(b2,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){b3.insertBefore(this[0])}b3.map(function(){var b4=this;while(b4.firstChild&&b4.firstChild.nodeType===1){b4=b4.firstChild}return b4}).append(this)}return this},wrapInner:function(b2){if(bJ.isFunction(b2)){return this.each(function(b3){bJ(this).wrapInner(b2.call(this,b3))})}return this.each(function(){var b3=bJ(this),b4=b3.contents();if(b4.length){b4.wrapAll(b2)}else{b3.append(b2)}})},wrap:function(b2){var b3=bJ.isFunction(b2);return this.each(function(b4){bJ(this).wrapAll(b3?b2.call(this,b4):b2)})},unwrap:function(){return this.parent().each(function(){if(!bJ.nodeName(this,"body")){bJ(this).replaceWith(this.childNodes)}}).end()},append:function(){return this.domManip(arguments,true,function(b2){if(this.nodeType===1||this.nodeType===11){this.appendChild(b2)}})},prepend:function(){return this.domManip(arguments,true,function(b2){if(this.nodeType===1||this.nodeType===11){this.insertBefore(b2,this.firstChild)}})},before:function(){if(!aU(this[0])){return this.domManip(arguments,false,function(b3){this.parentNode.insertBefore(b3,this)})}if(arguments.length){var b2=bJ.clean(arguments);return this.pushStack(bJ.merge(b2,this),"before",this.selector)}},after:function(){if(!aU(this[0])){return this.domManip(arguments,false,function(b3){this.parentNode.insertBefore(b3,this.nextSibling)})}if(arguments.length){var b2=bJ.clean(arguments);return this.pushStack(bJ.merge(this,b2),"after",this.selector)}},remove:function(b2,b5){var b4,b3=0;for(;(b4=this[b3])!=null;b3++){if(!b2||bJ.filter(b2,[b4]).length){if(!b5&&b4.nodeType===1){bJ.cleanData(b4.getElementsByTagName("*"));bJ.cleanData([b4])}if(b4.parentNode){b4.parentNode.removeChild(b4)}}}return this},empty:function(){var b3,b2=0;for(;(b3=this[b2])!=null;b2++){if(b3.nodeType===1){bJ.cleanData(b3.getElementsByTagName("*"))}while(b3.firstChild){b3.removeChild(b3.firstChild)}}return this},clone:function(b3,b2){b3=b3==null?false:b3;b2=b2==null?b3:b2;return this.map(function(){return bJ.clone(this,b3,b2)})},html:function(b2){return bJ.access(this,function(b6){var b5=this[0]||{},b4=0,b3=this.length;if(b6===aE){return b5.nodeType===1?b5.innerHTML.replace(ay,""):aE}if(typeof b6==="string"&&!am.test(b6)&&(bJ.support.htmlSerialize||!M.test(b6))&&(bJ.support.leadingWhitespace||!b1.test(b6))&&!W[(r.exec(b6)||["",""])[1].toLowerCase()]){b6=b6.replace(aB,"<$1></$2>");try{for(;b4<b3;b4++){b5=this[b4]||{};if(b5.nodeType===1){bJ.cleanData(b5.getElementsByTagName("*"));b5.innerHTML=b6}}b5=0}catch(b7){}}if(b5){this.empty().append(b6)}},null,b2,arguments.length)},replaceWith:function(b2){if(!aU(this[0])){if(bJ.isFunction(b2)){return this.each(function(b5){var b4=bJ(this),b3=b4.html();b4.replaceWith(b2.call(this,b5,b3))})}if(typeof b2!=="string"){b2=bJ(b2).detach()}return this.each(function(){var b4=this.nextSibling,b3=this.parentNode;bJ(this).remove();if(b4){bJ(b4).before(b2)}else{bJ(b3).append(b2)}})}return this.length?this.pushStack(bJ(bJ.isFunction(b2)?b2():b2),"replaceWith",b2):this},detach:function(b2){return this.remove(b2,true)},domManip:function(b8,cc,cb){b8=[].concat.apply([],b8);var b4,b6,b7,ca,b5=0,b9=b8[0],b3=[],b2=this.length;if(!bJ.support.checkClone&&b2>1&&typeof b9==="string"&&bU.test(b9)){return this.each(function(){bJ(this).domManip(b8,cc,cb)})}if(bJ.isFunction(b9)){return this.each(function(ce){var cd=bJ(this);b8[0]=b9.call(this,ce,cc?cd.html():aE);cd.domManip(b8,cc,cb)})}if(this[0]){b4=bJ.buildFragment(b8,this,b3);b7=b4.fragment;b6=b7.firstChild;if(b7.childNodes.length===1){b7=b6}if(b6){cc=cc&&bJ.nodeName(b6,"tr");for(ca=b4.cacheable||b2-1;b5<b2;b5++){cb.call(cc&&bJ.nodeName(this[b5],"table")?z(this[b5],"tbody"):this[b5],b5===ca?b7:bJ.clone(b7,true,true))}}b7=b6=null;if(b3.length){bJ.each(b3,function(cd,ce){if(ce.src){if(bJ.ajax){bJ.ajax({url:ce.src,type:"GET",dataType:"script",async:false,global:false,"throws":true})}else{bJ.error("no ajax")}}else{bJ.globalEval((ce.text||ce.textContent||ce.innerHTML||"").replace(aK,""))}if(ce.parentNode){ce.parentNode.removeChild(ce)}})}}return this}});function z(b3,b2){return b3.getElementsByTagName(b2)[0]||b3.appendChild(b3.ownerDocument.createElement(b2))}function ar(b9,b3){if(b3.nodeType!==1||!bJ.hasData(b9)){return}var b6,b5,b2,b8=bJ._data(b9),b7=bJ._data(b3,b8),b4=b8.events;if(b4){delete b7.handle;b7.events={};for(b6 in b4){for(b5=0,b2=b4[b6].length;b5<b2;b5++){bJ.event.add(b3,b6,b4[b6][b5])}}}if(b7.data){b7.data=bJ.extend({},b7.data)}}function H(b3,b2){var b4;if(b2.nodeType!==1){return}if(b2.clearAttributes){b2.clearAttributes()}if(b2.mergeAttributes){b2.mergeAttributes(b3)}b4=b2.nodeName.toLowerCase();if(b4==="object"){if(b2.parentNode){b2.outerHTML=b3.outerHTML}if(bJ.support.html5Clone&&(b3.innerHTML&&!bJ.trim(b2.innerHTML))){b2.innerHTML=b3.innerHTML}}else{if(b4==="input"&&aH.test(b3.type)){b2.defaultChecked=b2.checked=b3.checked;if(b2.value!==b3.value){b2.value=b3.value}}else{if(b4==="option"){b2.selected=b3.defaultSelected}else{if(b4==="input"||b4==="textarea"){b2.defaultValue=b3.defaultValue}else{if(b4==="script"&&b2.text!==b3.text){b2.text=b3.text}}}}}b2.removeAttribute(bJ.expando)}bJ.buildFragment=function(b5,b6,b3){var b4,b2,b7,b8=b5[0];b6=b6||q;b6=!b6.nodeType&&b6[0]||b6;b6=b6.ownerDocument||b6;if(b5.length===1&&typeof b8==="string"&&b8.length<512&&b6===q&&b8.charAt(0)==="<"&&!at.test(b8)&&(bJ.support.checkClone||!bU.test(b8))&&(bJ.support.html5Clone||!M.test(b8))){b2=true;b4=bJ.fragments[b8];b7=b4!==aE}if(!b4){b4=b6.createDocumentFragment();bJ.clean(b5,b6,b4,b3);if(b2){bJ.fragments[b8]=b7&&b4}}return{fragment:b4,cacheable:b2}};bJ.fragments={};bJ.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(b2,b3){bJ.fn[b2]=function(b4){var b6,b8=0,b7=[],ca=bJ(b4),b5=ca.length,b9=this.length===1&&this[0].parentNode;if((b9==null||b9&&b9.nodeType===11&&b9.childNodes.length===1)&&b5===1){ca[b3](this[0]);return this}else{for(;b8<b5;b8++){b6=(b8>0?this.clone(true):this).get();bJ(ca[b8])[b3](b6);b7=b7.concat(b6)}return this.pushStack(b7,b2,ca.selector)}}});function o(b2){if(typeof b2.getElementsByTagName!=="undefined"){return b2.getElementsByTagName("*")}else{if(typeof b2.querySelectorAll!=="undefined"){return b2.querySelectorAll("*")}else{return[]}}}function bV(b2){if(aH.test(b2.type)){b2.defaultChecked=b2.checked}}bJ.extend({clone:function(b6,b8,b4){var b2,b3,b5,b7;if(bJ.support.html5Clone||bJ.isXMLDoc(b6)||!M.test("<"+b6.nodeName+">")){b7=b6.cloneNode(true)}else{n.innerHTML=b6.outerHTML;n.removeChild(b7=n.firstChild)}if((!bJ.support.noCloneEvent||!bJ.support.noCloneChecked)&&(b6.nodeType===1||b6.nodeType===11)&&!bJ.isXMLDoc(b6)){H(b6,b7);b2=o(b6);b3=o(b7);for(b5=0;b2[b5];++b5){if(b3[b5]){H(b2[b5],b3[b5])}}}if(b8){ar(b6,b7);if(b4){b2=o(b6);b3=o(b7);for(b5=0;b2[b5];++b5){ar(b2[b5],b3[b5])}}}b2=b3=null;return b7},clean:function(cf,b4,b2,b5){var cc,cb,ce,cj,b8,ci,b9,b6,b3,cd,ch,ca,b7=b4===q&&aT,cg=[];if(!b4||typeof b4.createDocumentFragment==="undefined"){b4=q}for(cc=0;(ce=cf[cc])!=null;cc++){if(typeof ce==="number"){ce+=""}if(!ce){continue}if(typeof ce==="string"){if(!L.test(ce)){ce=b4.createTextNode(ce)}else{b7=b7||C(b4);b9=b4.createElement("div");b7.appendChild(b9);ce=ce.replace(aB,"<$1></$2>");cj=(r.exec(ce)||["",""])[1].toLowerCase();b8=W[cj]||W._default;ci=b8[0];b9.innerHTML=b8[1]+ce+b8[2];while(ci--){b9=b9.lastChild}if(!bJ.support.tbody){b6=bW.test(ce);b3=cj==="table"&&!b6?b9.firstChild&&b9.firstChild.childNodes:b8[1]==="<table>"&&!b6?b9.childNodes:[];for(cb=b3.length-1;cb>=0;--cb){if(bJ.nodeName(b3[cb],"tbody")&&!b3[cb].childNodes.length){b3[cb].parentNode.removeChild(b3[cb])}}}if(!bJ.support.leadingWhitespace&&b1.test(ce)){b9.insertBefore(b4.createTextNode(b1.exec(ce)[0]),b9.firstChild)}ce=b9.childNodes;b9.parentNode.removeChild(b9)}}if(ce.nodeType){cg.push(ce)}else{bJ.merge(cg,ce)}}if(b9){ce=b9=b7=null}if(!bJ.support.appendChecked){for(cc=0;(ce=cg[cc])!=null;cc++){if(bJ.nodeName(ce,"input")){bV(ce)}else{if(typeof ce.getElementsByTagName!=="undefined"){bJ.grep(ce.getElementsByTagName("input"),bV)}}}}if(b2){ch=function(ck){if(!ck.type||bz.test(ck.type)){return b5?b5.push(ck.parentNode?ck.parentNode.removeChild(ck):ck):b2.appendChild(ck)}};for(cc=0;(ce=cg[cc])!=null;cc++){if(!(bJ.nodeName(ce,"script")&&ch(ce))){b2.appendChild(ce);if(typeof ce.getElementsByTagName!=="undefined"){ca=bJ.grep(bJ.merge([],ce.getElementsByTagName("script")),ch);cg.splice.apply(cg,[cc+1,0].concat(ca));cc+=ca.length}}}}return cg},cleanData:function(b3,cb){var b6,b4,b5,ca,b7=0,cc=bJ.expando,b2=bJ.cache,b8=bJ.support.deleteExpando,b9=bJ.event.special;for(;(b5=b3[b7])!=null;b7++){if(cb||bJ.acceptData(b5)){b4=b5[cc];b6=b4&&b2[b4];if(b6){if(b6.events){for(ca in b6.events){if(b9[ca]){bJ.event.remove(b5,ca)}else{bJ.removeEvent(b5,ca,b6.handle)}}}if(b2[b4]){delete b2[b4];if(b8){delete b5[cc]}else{if(b5.removeAttribute){b5.removeAttribute(cc)}else{b5[cc]=null}}bJ.deletedIds.push(b4)}}}}}});(function(){var b2,b3;bJ.uaMatch=function(b5){b5=b5.toLowerCase();var b4=/(chrome)[ \/]([\w.]+)/.exec(b5)||/(webkit)[ \/]([\w.]+)/.exec(b5)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(b5)||/(msie) ([\w.]+)/.exec(b5)||b5.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(b5)||[];return{browser:b4[1]||"",version:b4[2]||"0"}};b2=bJ.uaMatch(d.userAgent);b3={};if(b2.browser){b3[b2.browser]=true;b3.version=b2.version}if(b3.chrome){b3.webkit=true}else{if(b3.webkit){b3.safari=true}}bJ.browser=b3;bJ.sub=function(){function b4(b7,b8){return new b4.fn.init(b7,b8)}bJ.extend(true,b4,this);b4.superclass=this;b4.fn=b4.prototype=this();b4.fn.constructor=b4;b4.sub=this.sub;b4.fn.init=function b6(b7,b8){if(b8&&b8 instanceof bJ&&!(b8 instanceof b4)){b8=b4(b8)}return bJ.fn.init.call(this,b7,b8,b5)};b4.fn.init.prototype=b4.fn;var b5=b4(q);return b4}})();var G,aC,aZ,bh=/alpha\([^)]*\)/i,aV=/opacity=([^)]*)/,bn=/^(top|right|bottom|left)$/,I=/^(none|table(?!-c[ea]).+)/,a2=/^margin/,bb=new RegExp("^("+bA+")(.*)$","i"),Z=new RegExp("^("+bA+")(?!px)[a-z%]+$","i"),V=new RegExp("^([-+])=("+bA+")","i"),bk={},bc={position:"absolute",visibility:"hidden",display:"block"},bD={letterSpacing:0,fontWeight:400},bT=["Top","Right","Bottom","Left"],av=["Webkit","O","Moz","ms"],aM=bJ.fn.toggle;function b(b5,b3){if(b3 in b5){return b3}var b6=b3.charAt(0).toUpperCase()+b3.slice(1),b2=b3,b4=av.length;while(b4--){b3=av[b4]+b6;if(b3 in b5){return b3}}return b2}function S(b3,b2){b3=b2||b3;return bJ.css(b3,"display")==="none"||!bJ.contains(b3.ownerDocument,b3)}function u(b7,b2){var b6,b8,b3=[],b4=0,b5=b7.length;for(;b4<b5;b4++){b6=b7[b4];if(!b6.style){continue}b3[b4]=bJ._data(b6,"olddisplay");if(b2){if(!b3[b4]&&b6.style.display==="none"){b6.style.display=""}if(b6.style.display===""&&S(b6)){b3[b4]=bJ._data(b6,"olddisplay",bF(b6.nodeName))}}else{b8=G(b6,"display");if(!b3[b4]&&b8!=="none"){bJ._data(b6,"olddisplay",b8)}}}for(b4=0;b4<b5;b4++){b6=b7[b4];if(!b6.style){continue}if(!b2||b6.style.display==="none"||b6.style.display===""){b6.style.display=b2?b3[b4]||"":"none"}}return b7}bJ.fn.extend({css:function(b2,b3){return bJ.access(this,function(b5,b4,b6){return b6!==aE?bJ.style(b5,b4,b6):bJ.css(b5,b4)},b2,b3,arguments.length>1)},show:function(){return u(this,true)},hide:function(){return u(this)},toggle:function(b4,b3){var b2=typeof b4==="boolean";if(bJ.isFunction(b4)&&bJ.isFunction(b3)){return aM.apply(this,arguments)}return this.each(function(){if(b2?b4:S(this)){bJ(this).show()}else{bJ(this).hide()}})}});bJ.extend({cssHooks:{opacity:{get:function(b4,b3){if(b3){var b2=G(b4,"opacity");return b2===""?"1":b2}}}},cssNumber:{fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":bJ.support.cssFloat?"cssFloat":"styleFloat"},style:function(b4,b3,ca,b5){if(!b4||b4.nodeType===3||b4.nodeType===8||!b4.style){return}var b8,b9,cb,b6=bJ.camelCase(b3),b2=b4.style;b3=bJ.cssProps[b6]||(bJ.cssProps[b6]=b(b2,b6));cb=bJ.cssHooks[b3]||bJ.cssHooks[b6];if(ca!==aE){b9=typeof ca;if(b9==="string"&&(b8=V.exec(ca))){ca=(b8[1]+1)*b8[2]+parseFloat(bJ.css(b4,b3));b9="number"}if(ca==null||b9==="number"&&isNaN(ca)){return}if(b9==="number"&&!bJ.cssNumber[b6]){ca+="px"}if(!cb||!("set" in cb)||(ca=cb.set(b4,ca,b5))!==aE){try{b2[b3]=ca}catch(b7){}}}else{if(cb&&"get" in cb&&(b8=cb.get(b4,false,b5))!==aE){return b8}return b2[b3]}},css:function(b8,b6,b7,b3){var b9,b5,b2,b4=bJ.camelCase(b6);b6=bJ.cssProps[b4]||(bJ.cssProps[b4]=b(b8.style,b4));b2=bJ.cssHooks[b6]||bJ.cssHooks[b4];if(b2&&"get" in b2){b9=b2.get(b8,true,b3)}if(b9===aE){b9=G(b8,b6)}if(b9==="normal"&&b6 in bD){b9=bD[b6]}if(b7||b3!==aE){b5=parseFloat(b9);return b7||bJ.isNumeric(b5)?b5||0:b9}return b9},swap:function(b6,b5,b7){var b4,b3,b2={};for(b3 in b5){b2[b3]=b6.style[b3];b6.style[b3]=b5[b3]}b4=b7.call(b6);for(b3 in b5){b6.style[b3]=b2[b3]}return b4}});if(a5.getComputedStyle){G=function(b9,b3){var b2,b6,b5,b8,b7=a5.getComputedStyle(b9,null),b4=b9.style;if(b7){b2=b7[b3];if(b2===""&&!bJ.contains(b9.ownerDocument,b9)){b2=bJ.style(b9,b3)}if(Z.test(b2)&&a2.test(b3)){b6=b4.width;b5=b4.minWidth;b8=b4.maxWidth;b4.minWidth=b4.maxWidth=b4.width=b2;b2=b7.width;b4.width=b6;b4.minWidth=b5;b4.maxWidth=b8}}return b2}}else{if(q.documentElement.currentStyle){G=function(b6,b4){var b7,b2,b3=b6.currentStyle&&b6.currentStyle[b4],b5=b6.style;if(b3==null&&b5&&b5[b4]){b3=b5[b4]}if(Z.test(b3)&&!bn.test(b4)){b7=b5.left;b2=b6.runtimeStyle&&b6.runtimeStyle.left;if(b2){b6.runtimeStyle.left=b6.currentStyle.left}b5.left=b4==="fontSize"?"1em":b3;b3=b5.pixelLeft+"px";b5.left=b7;if(b2){b6.runtimeStyle.left=b2}}return b3===""?"auto":b3}}}function aJ(b2,b4,b5){var b3=bb.exec(b4);return b3?Math.max(0,b3[1]-(b5||0))+(b3[2]||"px"):b4}function aw(b5,b3,b2,b7){var b4=b2===(b7?"border":"content")?4:b3==="width"?1:0,b6=0;for(;b4<4;b4+=2){if(b2==="margin"){b6+=bJ.css(b5,b2+bT[b4],true)}if(b7){if(b2==="content"){b6-=parseFloat(G(b5,"padding"+bT[b4]))||0}if(b2!=="margin"){b6-=parseFloat(G(b5,"border"+bT[b4]+"Width"))||0}}else{b6+=parseFloat(G(b5,"padding"+bT[b4]))||0;if(b2!=="padding"){b6+=parseFloat(G(b5,"border"+bT[b4]+"Width"))||0}}}return b6}function w(b5,b3,b2){var b6=b3==="width"?b5.offsetWidth:b5.offsetHeight,b4=true,b7=bJ.support.boxSizing&&bJ.css(b5,"boxSizing")==="border-box";if(b6<=0||b6==null){b6=G(b5,b3);if(b6<0||b6==null){b6=b5.style[b3]}if(Z.test(b6)){return b6}b4=b7&&(bJ.support.boxSizingReliable||b6===b5.style[b3]);b6=parseFloat(b6)||0}return(b6+aw(b5,b3,b2||(b7?"border":"content"),b4))+"px"}function bF(b4){if(bk[b4]){return bk[b4]}var b2=bJ("<"+b4+">").appendTo(q.body),b3=b2.css("display");b2.remove();if(b3==="none"||b3===""){aC=q.body.appendChild(aC||bJ.extend(q.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!aZ||!aC.createElement){aZ=(aC.contentWindow||aC.contentDocument).document;aZ.write("<!doctype html><html><body>");aZ.close()}b2=aZ.body.appendChild(aZ.createElement(b4));b3=G(b2,"display");q.body.removeChild(aC)}bk[b4]=b3;return b3}bJ.each(["height","width"],function(b3,b2){bJ.cssHooks[b2]={get:function(b6,b5,b4){if(b5){if(b6.offsetWidth===0&&I.test(G(b6,"display"))){return bJ.swap(b6,bc,function(){return w(b6,b2,b4)})}else{return w(b6,b2,b4)}}},set:function(b5,b6,b4){return aJ(b5,b6,b4?aw(b5,b2,b4,bJ.support.boxSizing&&bJ.css(b5,"boxSizing")==="border-box"):0)}}});if(!bJ.support.opacity){bJ.cssHooks.opacity={get:function(b3,b2){return aV.test((b2&&b3.currentStyle?b3.currentStyle.filter:b3.style.filter)||"")?(0.01*parseFloat(RegExp.$1))+"":b2?"1":""},set:function(b6,b7){var b5=b6.style,b3=b6.currentStyle,b2=bJ.isNumeric(b7)?"alpha(opacity="+b7*100+")":"",b4=b3&&b3.filter||b5.filter||"";b5.zoom=1;if(b7>=1&&bJ.trim(b4.replace(bh,""))===""&&b5.removeAttribute){b5.removeAttribute("filter");if(b3&&!b3.filter){return}}b5.filter=bh.test(b4)?b4.replace(bh,b2):b4+" "+b2}}}bJ(function(){if(!bJ.support.reliableMarginRight){bJ.cssHooks.marginRight={get:function(b3,b2){return bJ.swap(b3,{display:"inline-block"},function(){if(b2){return G(b3,"marginRight")}})}}}if(!bJ.support.pixelPosition&&bJ.fn.position){bJ.each(["top","left"],function(b2,b3){bJ.cssHooks[b3]={get:function(b6,b5){if(b5){var b4=G(b6,b3);return Z.test(b4)?bJ(b6).position()[b3]+"px":b4}}}})}});if(bJ.expr&&bJ.expr.filters){bJ.expr.filters.hidden=function(b2){return(b2.offsetWidth===0&&b2.offsetHeight===0)||(!bJ.support.reliableHiddenOffsets&&((b2.style&&b2.style.display)||G(b2,"display"))==="none")};bJ.expr.filters.visible=function(b2){return !bJ.expr.filters.hidden(b2)}}bJ.each({margin:"",padding:"",border:"Width"},function(b2,b3){bJ.cssHooks[b2+b3]={expand:function(b6){var b5,b7=typeof b6==="string"?b6.split(" "):[b6],b4={};for(b5=0;b5<4;b5++){b4[b2+bT[b5]+b3]=b7[b5]||b7[b5-2]||b7[0]}return b4}};if(!a2.test(b2)){bJ.cssHooks[b2+b3].set=aJ}});var bv=/%20/g,aS=/\[\]$/,X=/\r?\n/g,bC=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,aG=/^(?:select|textarea)/i;bJ.fn.extend({serialize:function(){return bJ.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?bJ.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||aG.test(this.nodeName)||bC.test(this.type))}).map(function(b2,b3){var b4=bJ(this).val();return b4==null?null:bJ.isArray(b4)?bJ.map(b4,function(b6,b5){return{name:b3.name,value:b6.replace(X,"\r\n")}}):{name:b3.name,value:b4.replace(X,"\r\n")}}).get()}});bJ.param=function(b2,b4){var b5,b3=[],b6=function(b7,b8){b8=bJ.isFunction(b8)?b8():(b8==null?"":b8);b3[b3.length]=encodeURIComponent(b7)+"="+encodeURIComponent(b8)};if(b4===aE){b4=bJ.ajaxSettings&&bJ.ajaxSettings.traditional}if(bJ.isArray(b2)||(b2.jquery&&!bJ.isPlainObject(b2))){bJ.each(b2,function(){b6(this.name,this.value)})}else{for(b5 in b2){m(b5,b2[b5],b4,b6)}}return b3.join("&").replace(bv,"+")};function m(b4,b6,b3,b5){var b2;if(bJ.isArray(b6)){bJ.each(b6,function(b8,b7){if(b3||aS.test(b4)){b5(b4,b7)}else{m(b4+"["+(typeof b7==="object"?b8:"")+"]",b7,b3,b5)}})}else{if(!b3&&bJ.type(b6)==="object"){for(b2 in b6){m(b4+"["+b2+"]",b6[b2],b3,b5)}}else{b5(b4,b6)}}}var b0,ab,aq=/#.*$/,ag=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,D=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,t=/^(?:GET|HEAD)$/,aF=/^\/\//,bQ=/\?/,g=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,R=/([?&])_=[^&]*/,aW=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,bZ=bJ.fn.load,x={},a9={},a0=["*/"]+["*"];try{ab=aL.href}catch(bg){ab=q.createElement("a");ab.href="";ab=ab.href}b0=aW.exec(ab.toLowerCase())||[];function bL(b2){return function(b6,b8){if(typeof b6!=="string"){b8=b6;b6="*"}var b3,b9,ca,b5=b6.toLowerCase().split(aY),b4=0,b7=b5.length;if(bJ.isFunction(b8)){for(;b4<b7;b4++){b3=b5[b4];ca=/^\+/.test(b3);if(ca){b3=b3.substr(1)||"*"}b9=b2[b3]=b2[b3]||[];b9[ca?"unshift":"push"](b8)}}}}function s(b3,cc,b7,ca,b9,b5){b9=b9||cc.dataTypes[0];b5=b5||{};b5[b9]=true;var cb,b8=b3[b9],b4=0,b2=b8?b8.length:0,b6=(b3===x);for(;b4<b2&&(b6||!cb);b4++){cb=b8[b4](cc,b7,ca);if(typeof cb==="string"){if(!b6||b5[cb]){cb=aE}else{cc.dataTypes.unshift(cb);cb=s(b3,cc,b7,ca,cb,b5)}}}if((b6||!cb)&&!b5["*"]){cb=s(b3,cc,b7,ca,"*",b5)}return cb}function v(b4,b5){var b3,b2,b6=bJ.ajaxSettings.flatOptions||{};for(b3 in b5){if(b5[b3]!==aE){(b6[b3]?b4:(b2||(b2={})))[b3]=b5[b3]}}if(b2){bJ.extend(true,b4,b2)}}bJ.fn.load=function(b5,b8,b9){if(typeof b5!=="string"&&bZ){return bZ.apply(this,arguments)}if(!this.length){return this}var b2,b6,b4,b3=this,b7=b5.indexOf(" ");if(b7>=0){b2=b5.slice(b7,b5.length);b5=b5.slice(0,b7)}if(bJ.isFunction(b8)){b9=b8;b8=aE}else{if(b8&&typeof b8==="object"){b6="POST"}}bJ.ajax({url:b5,type:b6,dataType:"html",data:b8,complete:function(cb,ca){if(b9){b3.each(b9,b4||[cb.responseText,ca,cb])}}}).done(function(ca){b4=arguments;b3.html(b2?bJ("<div>").append(ca.replace(g,"")).find(b2):ca)});return this};bJ.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(b2,b3){bJ.fn[b3]=function(b4){return this.on(b3,b4)}});bJ.each(["get","post"],function(b2,b3){bJ[b3]=function(b4,b6,b7,b5){if(bJ.isFunction(b6)){b5=b5||b7;b7=b6;b6=aE}return bJ.ajax({type:b3,url:b4,data:b6,success:b7,dataType:b5})}});bJ.extend({getScript:function(b2,b3){return bJ.get(b2,aE,b3,"script")},getJSON:function(b2,b3,b4){return bJ.get(b2,b3,b4,"json")},ajaxSetup:function(b3,b2){if(b2){v(b3,bJ.ajaxSettings)}else{b2=b3;b3=bJ.ajaxSettings}v(b3,b2);return b3},ajaxSettings:{url:ab,isLocal:D.test(b0[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":a0},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a5.String,"text html":true,"text json":bJ.parseJSON,"text xml":bJ.parseXML},flatOptions:{context:true,url:true}},ajaxPrefilter:bL(x),ajaxTransport:bL(a9),ajax:function(b7,b4){if(typeof b7==="object"){b4=b7;b7=aE}b4=b4||{};var ca,co,b5,cj,cc,cg,b3,ci,cb=bJ.ajaxSetup({},b4),cq=cb.context||cb,ce=cq!==cb&&(cq.nodeType||cq instanceof bJ)?bJ(cq):bJ.event,cp=bJ.Deferred(),cl=bJ.Callbacks("once memory"),b8=cb.statusCode||{},cf={},cm={},b6=0,b9="canceled",ch={readyState:0,setRequestHeader:function(cs,ct){if(!b6){var cr=cs.toLowerCase();cs=cm[cr]=cm[cr]||cs;cf[cs]=ct}return this},getAllResponseHeaders:function(){return b6===2?co:null},getResponseHeader:function(cs){var cr;if(b6===2){if(!b5){b5={};while((cr=ag.exec(co))){b5[cr[1].toLowerCase()]=cr[2]}}cr=b5[cs.toLowerCase()]}return cr===aE?null:cr},overrideMimeType:function(cr){if(!b6){cb.mimeType=cr}return this},abort:function(cr){cr=cr||b9;if(cj){cj.abort(cr)}cd(0,cr);return this}};function cd(cw,cs,cx,cu){var cr,cA,cy,cv,cz,ct=cs;if(b6===2){return}b6=2;if(cc){clearTimeout(cc)}cj=aE;co=cu||"";ch.readyState=cw>0?4:0;if(cx){cv=h(cb,ch,cx)}if(cw>=200&&cw<300||cw===304){if(cb.ifModified){cz=ch.getResponseHeader("Last-Modified");if(cz){bJ.lastModified[ca]=cz}cz=ch.getResponseHeader("Etag");if(cz){bJ.etag[ca]=cz}}if(cw===304){ct="notmodified";cr=true}else{cr=ah(cb,cv);ct=cr.state;cA=cr.data;cy=cr.error;cr=!cy}}else{cy=ct;if(!ct||cw){ct="error";if(cw<0){cw=0}}}ch.status=cw;ch.statusText=(cs||ct)+"";if(cr){cp.resolveWith(cq,[cA,ct,ch])}else{cp.rejectWith(cq,[ch,ct,cy])}ch.statusCode(b8);b8=aE;if(b3){ce.trigger("ajax"+(cr?"Success":"Error"),[ch,cb,cr?cA:cy])}cl.fireWith(cq,[ch,ct]);if(b3){ce.trigger("ajaxComplete",[ch,cb]);if(!(--bJ.active)){bJ.event.trigger("ajaxStop")}}}cp.promise(ch);ch.success=ch.done;ch.error=ch.fail;ch.complete=cl.add;ch.statusCode=function(cs){if(cs){var cr;if(b6<2){for(cr in cs){b8[cr]=[b8[cr],cs[cr]]}}else{cr=cs[ch.status];ch.always(cr)}}return this};cb.url=((b7||cb.url)+"").replace(aq,"").replace(aF,b0[1]+"//");cb.dataTypes=bJ.trim(cb.dataType||"*").toLowerCase().split(aY);if(cb.crossDomain==null){cg=aW.exec(cb.url.toLowerCase())||false;cb.crossDomain=cg&&(cg.join(":")+(cg[3]?"":cg[1]==="http:"?80:443))!==(b0.join(":")+(b0[3]?"":b0[1]==="http:"?80:443))}if(cb.data&&cb.processData&&typeof cb.data!=="string"){cb.data=bJ.param(cb.data,cb.traditional)}s(x,cb,b4,ch);if(b6===2){return ch}b3=cb.global;cb.type=cb.type.toUpperCase();cb.hasContent=!t.test(cb.type);if(b3&&bJ.active++===0){bJ.event.trigger("ajaxStart")}if(!cb.hasContent){if(cb.data){cb.url+=(bQ.test(cb.url)?"&":"?")+cb.data;delete cb.data}ca=cb.url;if(cb.cache===false){var b2=bJ.now(),cn=cb.url.replace(R,"$1_="+b2);cb.url=cn+((cn===cb.url)?(bQ.test(cb.url)?"&":"?")+"_="+b2:"")}}if(cb.data&&cb.hasContent&&cb.contentType!==false||b4.contentType){ch.setRequestHeader("Content-Type",cb.contentType)}if(cb.ifModified){ca=ca||cb.url;if(bJ.lastModified[ca]){ch.setRequestHeader("If-Modified-Since",bJ.lastModified[ca])}if(bJ.etag[ca]){ch.setRequestHeader("If-None-Match",bJ.etag[ca])}}ch.setRequestHeader("Accept",cb.dataTypes[0]&&cb.accepts[cb.dataTypes[0]]?cb.accepts[cb.dataTypes[0]]+(cb.dataTypes[0]!=="*"?", "+a0+"; q=0.01":""):cb.accepts["*"]);for(ci in cb.headers){ch.setRequestHeader(ci,cb.headers[ci])}if(cb.beforeSend&&(cb.beforeSend.call(cq,ch,cb)===false||b6===2)){return ch.abort()}b9="abort";for(ci in {success:1,error:1,complete:1}){ch[ci](cb[ci])}cj=s(a9,cb,b4,ch);if(!cj){cd(-1,"No Transport")}else{ch.readyState=1;if(b3){ce.trigger("ajaxSend",[ch,cb])}if(cb.async&&cb.timeout>0){cc=setTimeout(function(){ch.abort("timeout")},cb.timeout)}try{b6=1;cj.send(cf,cd)}catch(ck){if(b6<2){cd(-1,ck)}else{throw ck}}}return ch},active:0,lastModified:{},etag:{}});function h(cb,ca,b7){var b6,b8,b5,b2,b3=cb.contents,b9=cb.dataTypes,b4=cb.responseFields;for(b8 in b4){if(b8 in b7){ca[b4[b8]]=b7[b8]}}while(b9[0]==="*"){b9.shift();if(b6===aE){b6=cb.mimeType||ca.getResponseHeader("content-type")}}if(b6){for(b8 in b3){if(b3[b8]&&b3[b8].test(b6)){b9.unshift(b8);break}}}if(b9[0] in b7){b5=b9[0]}else{for(b8 in b7){if(!b9[0]||cb.converters[b8+" "+b9[0]]){b5=b8;break}if(!b2){b2=b8}}b5=b5||b2}if(b5){if(b5!==b9[0]){b9.unshift(b5)}return b7[b5]}}function ah(cc,b4){var ca,b2,b8,b6,b9=cc.dataTypes.slice(),b3=b9[0],cb={},b5=0;if(cc.dataFilter){b4=cc.dataFilter(b4,cc.dataType)}if(b9[1]){for(ca in cc.converters){cb[ca.toLowerCase()]=cc.converters[ca]}}for(;(b8=b9[++b5]);){if(b8!=="*"){if(b3!=="*"&&b3!==b8){ca=cb[b3+" "+b8]||cb["* "+b8];if(!ca){for(b2 in cb){b6=b2.split(" ");if(b6[1]===b8){ca=cb[b3+" "+b6[0]]||cb["* "+b6[0]];if(ca){if(ca===true){ca=cb[b2]}else{if(cb[b2]!==true){b8=b6[0];b9.splice(b5--,0,b8)}}break}}}}if(ca!==true){if(ca&&cc["throws"]){b4=ca(b4)}else{try{b4=ca(b4)}catch(b7){return{state:"parsererror",error:ca?b7:"No conversion from "+b3+" to "+b8}}}}}b3=b8}}return{state:"success",data:b4}}var bs=[],az=/\?/,a8=/(=)\?(?=&|$)|\?\?/,bo=bJ.now();bJ.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var b2=bs.pop()||(bJ.expando+"_"+(bo++));this[b2]=true;return b2}});bJ.ajaxPrefilter("json jsonp",function(cc,b7,cb){var ca,b2,b9,b5=cc.data,b3=cc.url,b4=cc.jsonp!==false,b8=b4&&a8.test(b3),b6=b4&&!b8&&typeof b5==="string"&&!(cc.contentType||"").indexOf("application/x-www-form-urlencoded")&&a8.test(b5);if(cc.dataTypes[0]==="jsonp"||b8||b6){ca=cc.jsonpCallback=bJ.isFunction(cc.jsonpCallback)?cc.jsonpCallback():cc.jsonpCallback;b2=a5[ca];if(b8){cc.url=b3.replace(a8,"$1"+ca)}else{if(b6){cc.data=b5.replace(a8,"$1"+ca)}else{if(b4){cc.url+=(az.test(b3)?"&":"?")+cc.jsonp+"="+ca}}}cc.converters["script json"]=function(){if(!b9){bJ.error(ca+" was not called")}return b9[0]};cc.dataTypes[0]="json";a5[ca]=function(){b9=arguments};cb.always(function(){a5[ca]=b2;if(cc[ca]){cc.jsonpCallback=b7.jsonpCallback;bs.push(ca)}if(b9&&bJ.isFunction(b2)){b2(b9[0])}b9=b2=aE});return"script"}});bJ.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(b2){bJ.globalEval(b2);return b2}}});bJ.ajaxPrefilter("script",function(b2){if(b2.cache===aE){b2.cache=false}if(b2.crossDomain){b2.type="GET";b2.global=false}});bJ.ajaxTransport("script",function(b4){if(b4.crossDomain){var b2,b3=q.head||q.getElementsByTagName("head")[0]||q.documentElement;return{send:function(b5,b6){b2=q.createElement("script");b2.async="async";if(b4.scriptCharset){b2.charset=b4.scriptCharset}b2.src=b4.url;b2.onload=b2.onreadystatechange=function(b8,b7){if(b7||!b2.readyState||/loaded|complete/.test(b2.readyState)){b2.onload=b2.onreadystatechange=null;if(b3&&b2.parentNode){b3.removeChild(b2)}b2=aE;if(!b7){b6(200,"success")}}};b3.insertBefore(b2,b3.firstChild)},abort:function(){if(b2){b2.onload(0,1)}}}}});var ak,aQ=a5.ActiveXObject?function(){for(var b2 in ak){ak[b2](0,1)}}:false,ax=0;function bE(){try{return new a5.XMLHttpRequest()}catch(b2){}}function be(){try{return new a5.ActiveXObject("Microsoft.XMLHTTP")}catch(b2){}}bJ.ajaxSettings.xhr=a5.ActiveXObject?function(){return !this.isLocal&&bE()||be()}:bE;(function(b2){bJ.extend(bJ.support,{ajax:!!b2,cors:!!b2&&("withCredentials" in b2)})})(bJ.ajaxSettings.xhr());if(bJ.support.ajax){bJ.ajaxTransport(function(b2){if(!b2.crossDomain||bJ.support.cors){var b3;return{send:function(b9,b4){var b7,b6,b8=b2.xhr();if(b2.username){b8.open(b2.type,b2.url,b2.async,b2.username,b2.password)}else{b8.open(b2.type,b2.url,b2.async)}if(b2.xhrFields){for(b6 in b2.xhrFields){b8[b6]=b2.xhrFields[b6]}}if(b2.mimeType&&b8.overrideMimeType){b8.overrideMimeType(b2.mimeType)}if(!b2.crossDomain&&!b9["X-Requested-With"]){b9["X-Requested-With"]="XMLHttpRequest"}try{for(b6 in b9){b8.setRequestHeader(b6,b9[b6])}}catch(b5){}b8.send((b2.hasContent&&b2.data)||null);b3=function(ci,cc){var cd,cb,ca,cg,cf;try{if(b3&&(cc||b8.readyState===4)){b3=aE;if(b7){b8.onreadystatechange=bJ.noop;if(aQ){delete ak[b7]}}if(cc){if(b8.readyState!==4){b8.abort()}}else{cd=b8.status;ca=b8.getAllResponseHeaders();cg={};cf=b8.responseXML;if(cf&&cf.documentElement){cg.xml=cf}try{cg.text=b8.responseText}catch(ci){}try{cb=b8.statusText}catch(ch){cb=""}if(!cd&&b2.isLocal&&!b2.crossDomain){cd=cg.text?200:404}else{if(cd===1223){cd=204}}}}}catch(ce){if(!cc){b4(-1,ce)}}if(cg){b4(cd,cb,cg,ca)}};if(!b2.async){b3()}else{if(b8.readyState===4){setTimeout(b3,0)}else{b7=++ax;if(aQ){if(!ak){ak={};bJ(a5).unload(aQ)}ak[b7]=b3}b8.onreadystatechange=b3}}},abort:function(){if(b3){b3(0,1)}}}}})}var N,ae,bR=/^(?:toggle|show|hide)$/,bK=new RegExp("^(?:([-+])=|)("+bA+")([a-z%]*)$","i"),bP=/queueHooks$/,aA=[k],a4={"*":[function(b2,b9){var b5,ca,cb=this.createTween(b2,b9),b6=bK.exec(b9),b7=cb.cur(),b3=+b7||0,b4=1,b8=20;if(b6){b5=+b6[2];ca=b6[3]||(bJ.cssNumber[b2]?"":"px");if(ca!=="px"&&b3){b3=bJ.css(cb.elem,b2,true)||b5||1;do{b4=b4||".5";b3=b3/b4;bJ.style(cb.elem,b2,b3+ca)}while(b4!==(b4=cb.cur()/b7)&&b4!==1&&--b8)}cb.unit=ca;cb.start=b3;cb.end=b6[1]?b3+(b6[1]+1)*b5:b5}return cb}]};function bm(){setTimeout(function(){N=aE},0);return(N=bJ.now())}function bf(b3,b2){bJ.each(b2,function(b8,b6){var b7=(a4[b8]||[]).concat(a4["*"]),b4=0,b5=b7.length;for(;b4<b5;b4++){if(b7[b4].call(b3,b8,b6)){return}}})}function f(b4,b8,cb){var cc,b7=0,b2=0,b3=aA.length,ca=bJ.Deferred().always(function(){delete b6.elem}),b6=function(){var ch=N||bm(),ce=Math.max(0,b5.startTime+b5.duration-ch),cg=1-(ce/b5.duration||0),cd=0,cf=b5.tweens.length;for(;cd<cf;cd++){b5.tweens[cd].run(cg)}ca.notifyWith(b4,[b5,cg,ce]);if(cg<1&&cf){return ce}else{ca.resolveWith(b4,[b5]);return false}},b5=ca.promise({elem:b4,props:bJ.extend({},b8),opts:bJ.extend(true,{specialEasing:{}},cb),originalProperties:b8,originalOptions:cb,startTime:N||bm(),duration:cb.duration,tweens:[],createTween:function(cg,cd,cf){var ce=bJ.Tween(b4,b5.opts,cg,cd,b5.opts.specialEasing[cg]||b5.opts.easing);b5.tweens.push(ce);return ce},stop:function(ce){var cd=0,cf=ce?b5.tweens.length:0;for(;cd<cf;cd++){b5.tweens[cd].run(1)}if(ce){ca.resolveWith(b4,[b5,ce])}else{ca.rejectWith(b4,[b5,ce])}return this}}),b9=b5.props;an(b9,b5.opts.specialEasing);for(;b7<b3;b7++){cc=aA[b7].call(b5,b4,b9,b5.opts);if(cc){return cc}}bf(b5,b9);if(bJ.isFunction(b5.opts.start)){b5.opts.start.call(b4,b5)}bJ.fx.timer(bJ.extend(b6,{anim:b5,queue:b5.opts.queue,elem:b4}));return b5.progress(b5.opts.progress).done(b5.opts.done,b5.opts.complete).fail(b5.opts.fail).always(b5.opts.always)}function an(b5,b7){var b4,b3,b8,b6,b2;for(b4 in b5){b3=bJ.camelCase(b4);b8=b7[b3];b6=b5[b4];if(bJ.isArray(b6)){b8=b6[1];b6=b5[b4]=b6[0]}if(b4!==b3){b5[b3]=b6;delete b5[b4]}b2=bJ.cssHooks[b3];if(b2&&"expand" in b2){b6=b2.expand(b6);delete b5[b3];for(b4 in b6){if(!(b4 in b5)){b5[b4]=b6[b4];b7[b4]=b8}}}else{b7[b3]=b8}}}bJ.Animation=bJ.extend(f,{tweener:function(b3,b6){if(bJ.isFunction(b3)){b6=b3;b3=["*"]}else{b3=b3.split(" ")}var b5,b2=0,b4=b3.length;for(;b2<b4;b2++){b5=b3[b2];a4[b5]=a4[b5]||[];a4[b5].unshift(b6)}},prefilter:function(b3,b2){if(b2){aA.unshift(b3)}else{aA.push(b3)}}});function k(b6,cb,b2){var ca,b4,cd,b5,ch,cg,cf,ce,b7=this,b3=b6.style,cc={},b9=[],b8=b6.nodeType&&S(b6);if(!b2.queue){cf=bJ._queueHooks(b6,"fx");if(cf.unqueued==null){cf.unqueued=0;ce=cf.empty.fire;cf.empty.fire=function(){if(!cf.unqueued){ce()}}}cf.unqueued++;b7.always(function(){b7.always(function(){cf.unqueued--;if(!bJ.queue(b6,"fx").length){cf.empty.fire()}})})}if(b6.nodeType===1&&("height" in cb||"width" in cb)){b2.overflow=[b3.overflow,b3.overflowX,b3.overflowY];if(bJ.css(b6,"display")==="inline"&&bJ.css(b6,"float")==="none"){if(!bJ.support.inlineBlockNeedsLayout||bF(b6.nodeName)==="inline"){b3.display="inline-block"}else{b3.zoom=1}}}if(b2.overflow){b3.overflow="hidden";if(!bJ.support.shrinkWrapBlocks){b7.done(function(){b3.overflow=b2.overflow[0];b3.overflowX=b2.overflow[1];b3.overflowY=b2.overflow[2]})}}for(ca in cb){cd=cb[ca];if(bR.exec(cd)){delete cb[ca];if(cd===(b8?"hide":"show")){continue}b9.push(ca)}}b5=b9.length;if(b5){ch=bJ._data(b6,"fxshow")||bJ._data(b6,"fxshow",{});if(b8){bJ(b6).show()}else{b7.done(function(){bJ(b6).hide()})}b7.done(function(){var ci;bJ.removeData(b6,"fxshow",true);for(ci in cc){bJ.style(b6,ci,cc[ci])}});for(ca=0;ca<b5;ca++){b4=b9[ca];cg=b7.createTween(b4,b8?ch[b4]:0);cc[b4]=ch[b4]||bJ.style(b6,b4);if(!(b4 in ch)){ch[b4]=cg.start;if(b8){cg.end=cg.start;cg.start=b4==="width"||b4==="height"?1:0}}}}}function J(b4,b3,b6,b2,b5){return new J.prototype.init(b4,b3,b6,b2,b5)}bJ.Tween=J;J.prototype={constructor:J,init:function(b5,b3,b7,b2,b6,b4){this.elem=b5;this.prop=b7;this.easing=b6||"swing";this.options=b3;this.start=this.now=this.cur();this.end=b2;this.unit=b4||(bJ.cssNumber[b7]?"":"px")},cur:function(){var b2=J.propHooks[this.prop];return b2&&b2.get?b2.get(this):J.propHooks._default.get(this)},run:function(b4){var b3,b2=J.propHooks[this.prop];if(this.options.duration){this.pos=b3=bJ.easing[this.easing](b4,this.options.duration*b4,0,1,this.options.duration)}else{this.pos=b3=b4}this.now=(this.end-this.start)*b3+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(b2&&b2.set){b2.set(this)}else{J.propHooks._default.set(this)}return this}};J.prototype.init.prototype=J.prototype;J.propHooks={_default:{get:function(b3){var b2;if(b3.elem[b3.prop]!=null&&(!b3.elem.style||b3.elem.style[b3.prop]==null)){return b3.elem[b3.prop]}b2=bJ.css(b3.elem,b3.prop,false,"");return !b2||b2==="auto"?0:b2},set:function(b2){if(bJ.fx.step[b2.prop]){bJ.fx.step[b2.prop](b2)}else{if(b2.elem.style&&(b2.elem.style[bJ.cssProps[b2.prop]]!=null||bJ.cssHooks[b2.prop])){bJ.style(b2.elem,b2.prop,b2.now+b2.unit)}else{b2.elem[b2.prop]=b2.now}}}}};J.propHooks.scrollTop=J.propHooks.scrollLeft={set:function(b2){if(b2.elem.nodeType&&b2.elem.parentNode){b2.elem[b2.prop]=b2.now}}};bJ.each(["toggle","show","hide"],function(b3,b2){var b4=bJ.fn[b2];bJ.fn[b2]=function(b5,b7,b6){return b5==null||typeof b5==="boolean"||(!b3&&bJ.isFunction(b5)&&bJ.isFunction(b7))?b4.apply(this,arguments):this.animate(bI(b2,true),b5,b7,b6)}});bJ.fn.extend({fadeTo:function(b2,b5,b4,b3){return this.filter(S).css("opacity",0).show().end().animate({opacity:b5},b2,b4,b3)},animate:function(b8,b5,b7,b6){var b4=bJ.isEmptyObject(b8),b2=bJ.speed(b5,b7,b6),b3=function(){var b9=f(this,bJ.extend({},b8),b2);if(b4){b9.stop(true)}};return b4||b2.queue===false?this.each(b3):this.queue(b2.queue,b3)},stop:function(b4,b3,b2){var b5=function(b6){var b7=b6.stop;delete b6.stop;b7(b2)};if(typeof b4!=="string"){b2=b3;b3=b4;b4=aE}if(b3&&b4!==false){this.queue(b4||"fx",[])}return this.each(function(){var b9=true,b6=b4!=null&&b4+"queueHooks",b8=bJ.timers,b7=bJ._data(this);if(b6){if(b7[b6]&&b7[b6].stop){b5(b7[b6])}}else{for(b6 in b7){if(b7[b6]&&b7[b6].stop&&bP.test(b6)){b5(b7[b6])}}}for(b6=b8.length;b6--;){if(b8[b6].elem===this&&(b4==null||b8[b6].queue===b4)){b8[b6].anim.stop(b2);b9=false;b8.splice(b6,1)}}if(b9||!b2){bJ.dequeue(this,b4)}})}});function bI(b4,b6){var b5,b2={height:b4},b3=0;b6=b6?1:0;for(;b3<4;b3+=2-b6){b5=bT[b3];b2["margin"+b5]=b2["padding"+b5]=b4}if(b6){b2.opacity=b2.width=b4}return b2}bJ.each({slideDown:bI("show"),slideUp:bI("hide"),slideToggle:bI("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(b2,b3){bJ.fn[b2]=function(b4,b6,b5){return this.animate(b3,b4,b6,b5)}});bJ.speed=function(b4,b5,b3){var b2=b4&&typeof b4==="object"?bJ.extend({},b4):{complete:b3||!b3&&b5||bJ.isFunction(b4)&&b4,duration:b4,easing:b3&&b5||b5&&!bJ.isFunction(b5)&&b5};b2.duration=bJ.fx.off?0:typeof b2.duration==="number"?b2.duration:b2.duration in bJ.fx.speeds?bJ.fx.speeds[b2.duration]:bJ.fx.speeds._default;if(b2.queue==null||b2.queue===true){b2.queue="fx"}b2.old=b2.complete;b2.complete=function(){if(bJ.isFunction(b2.old)){b2.old.call(this)}if(b2.queue){bJ.dequeue(this,b2.queue)}};return b2};bJ.easing={linear:function(b2){return b2},swing:function(b2){return 0.5-Math.cos(b2*Math.PI)/2}};bJ.timers=[];bJ.fx=J.prototype.init;bJ.fx.tick=function(){var b4,b3=bJ.timers,b2=0;for(;b2<b3.length;b2++){b4=b3[b2];if(!b4()&&b3[b2]===b4){b3.splice(b2--,1)}}if(!b3.length){bJ.fx.stop()}};bJ.fx.timer=function(b2){if(b2()&&bJ.timers.push(b2)&&!ae){ae=setInterval(bJ.fx.tick,bJ.fx.interval)}};bJ.fx.interval=13;bJ.fx.stop=function(){clearInterval(ae);ae=null};bJ.fx.speeds={slow:600,fast:200,_default:400};bJ.fx.step={};if(bJ.expr&&bJ.expr.filters){bJ.expr.filters.animated=function(b2){return bJ.grep(bJ.timers,function(b3){return b2===b3.elem}).length}}var bp=/^(?:body|html)$/i;bJ.fn.offset=function(cc){if(arguments.length){return cc===aE?this:this.each(function(cd){bJ.offset.setOffset(this,cc,cd)})}var b3,b8,b9,b6,ca,b2,b5,b7={top:0,left:0},b4=this[0],cb=b4&&b4.ownerDocument;if(!cb){return}if((b8=cb.body)===b4){return bJ.offset.bodyOffset(b4)}b3=cb.documentElement;if(!bJ.contains(b3,b4)){return b7}if(typeof b4.getBoundingClientRect!=="undefined"){b7=b4.getBoundingClientRect()}b9=bq(cb);b6=b3.clientTop||b8.clientTop||0;ca=b3.clientLeft||b8.clientLeft||0;b2=b9.pageYOffset||b3.scrollTop;b5=b9.pageXOffset||b3.scrollLeft;return{top:b7.top+b2-b6,left:b7.left+b5-ca}};bJ.offset={bodyOffset:function(b2){var b4=b2.offsetTop,b3=b2.offsetLeft;if(bJ.support.doesNotIncludeMarginInBodyOffset){b4+=parseFloat(bJ.css(b2,"marginTop"))||0;b3+=parseFloat(bJ.css(b2,"marginLeft"))||0}return{top:b4,left:b3}},setOffset:function(b5,ce,b8){var b9=bJ.css(b5,"position");if(b9==="static"){b5.style.position="relative"}var b7=bJ(b5),b3=b7.offset(),b2=bJ.css(b5,"top"),cc=bJ.css(b5,"left"),cd=(b9==="absolute"||b9==="fixed")&&bJ.inArray("auto",[b2,cc])>-1,cb={},ca={},b4,b6;if(cd){ca=b7.position();b4=ca.top;b6=ca.left}else{b4=parseFloat(b2)||0;b6=parseFloat(cc)||0}if(bJ.isFunction(ce)){ce=ce.call(b5,b8,b3)}if(ce.top!=null){cb.top=(ce.top-b3.top)+b4}if(ce.left!=null){cb.left=(ce.left-b3.left)+b6}if("using" in ce){ce.using.call(b5,cb)}else{b7.css(cb)}}};bJ.fn.extend({position:function(){if(!this[0]){return}var b4=this[0],b3=this.offsetParent(),b5=this.offset(),b2=bp.test(b3[0].nodeName)?{top:0,left:0}:b3.offset();b5.top-=parseFloat(bJ.css(b4,"marginTop"))||0;b5.left-=parseFloat(bJ.css(b4,"marginLeft"))||0;b2.top+=parseFloat(bJ.css(b3[0],"borderTopWidth"))||0;b2.left+=parseFloat(bJ.css(b3[0],"borderLeftWidth"))||0;return{top:b5.top-b2.top,left:b5.left-b2.left}},offsetParent:function(){return this.map(function(){var b2=this.offsetParent||q.body;while(b2&&(!bp.test(b2.nodeName)&&bJ.css(b2,"position")==="static")){b2=b2.offsetParent}return b2||q.body})}});bJ.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b4,b3){var b2=/Y/.test(b3);bJ.fn[b4]=function(b5){return bJ.access(this,function(b6,b9,b8){var b7=bq(b6);if(b8===aE){return b7?(b3 in b7)?b7[b3]:b7.document.documentElement[b9]:b6[b9]}if(b7){b7.scrollTo(!b2?b8:bJ(b7).scrollLeft(),b2?b8:bJ(b7).scrollTop())}else{b6[b9]=b8}},b4,b5,arguments.length,null)}});function bq(b2){return bJ.isWindow(b2)?b2:b2.nodeType===9?b2.defaultView||b2.parentWindow:false}bJ.each({Height:"height",Width:"width"},function(b2,b3){bJ.each({padding:"inner"+b2,content:b3,"":"outer"+b2},function(b4,b5){bJ.fn[b5]=function(b9,b8){var b7=arguments.length&&(b4||typeof b9!=="boolean"),b6=b4||(b9===true||b8===true?"margin":"border");return bJ.access(this,function(cb,ca,cc){var cd;if(bJ.isWindow(cb)){return cb.document.documentElement["client"+b2]}if(cb.nodeType===9){cd=cb.documentElement;return Math.max(cb.body["scroll"+b2],cd["scroll"+b2],cb.body["offset"+b2],cd["offset"+b2],cd["client"+b2])}return cc===aE?bJ.css(cb,ca,cc,b6):bJ.style(cb,ca,cc,b6)},b3,b7?b9:aE,b7,null)}})});a5.jQuery=a5.$=bJ;if(typeof define==="function"&&define.amd&&define.amd.jQuery){define("jquery",[],function(){return bJ})}})(window);$.extend({isEmpty:function(a){return a===undefined||a===null},deepExtend:function(){var c=[].slice.call(arguments,0);var d=c.length;var b=c[0]||{};$.each(c.slice(1),function(a,f){if(!$.isPlainObject(f)){return true}$.each(f,function(g,h){if($.isPlainObject(h)){b[g]=$.deepExtend(b[g],h)}else{if($.isArray(h)){b[g]=[].concat(b[g],h)}else{b[g]=h}}})});return b},htmlEscape:function(c,b){var a=(c||"").replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/\r/g,"");if(b){return a.replace(/\n/g,"<br>")}else{return a}},format:function(h,c,f){h=$.isFunction(h)?h(c):String(h);var g=arguments.callee;if(arguments.length<2){return h||""}else{if($.isArray(c)){return $.map(c,function(l,k){return g(h,$.extend(l,{$index:k,$item:l}),f)}).join("")}else{if($.isPlainObject(c)){if($.isPlainObject(f)){c=$.extend(f,c)}var b=[{character:/\{\{each (.*?)\}\}([\s\S]*?)\{\{\/each\}\}/g,fn:function(l,k,m){k=c[k];if($.isEmpty(k)){return l}if(!$.isArray(k)){return m}return g(m,k,c)}},{character:/\{\{if (\!?)(.*?)\}\}([\s\S]*?)(?:\{\{else\}\}([\s\S]*?))?\{\{\/if\}\}/g,fn:function(l,n,k,o,m){k=c[k];k=$.isFunction(k)?k(c):k;n&&(k=!k);if(k){return g(o,c)}else{if(m){return g(m,c)}else{return""}}}},{character:/\#tmpl\((.*?),(.*?)\)/g,fn:function(l,k,m){k=c[k];m=c[m];if($.isEmpty(k)){return l}return g(k,c,m)}},{character:/\#(html|url)?\{(.*?)\}/g,fn:function(l,m,k){if(!$.isEmpty(c[k])){k=c[k];k=$.isFunction(k)?k(c):String(k);if(typeof(k)==="undefined"||typeof(k)==="null"){k=""}if(/\#(html|url)?\{.*?\}/.test(k)){k=g(k,c)}}if(m==="html"){k=$.htmlEscape(k)}else{if(m==="url"){k=encodeURIComponent(k)}}return k}}];var a=h;$.each(b,function(k,l){while(l.character.test(a)){a=a.replace(l.character,l.fn)}});return a}else{var d=[].slice.call(arguments,1);return h.replace(/\{([0-9]+)\}/g,function(l,k){return $.isEmpty(d[k])?l:d[k]})}}}}});console=window.console||{};console.info=console.info||new Function();console.warn=console.warn||new Function();console.error=console.error||new Function();JSON=window.JSON||{stringify:T.json.stringify,parse:T.json.parse};var mf={DEBUG:window.__DEBUG,MAIN_ID:"Main",HEADER_ID:"Header",USERNAME_ID:"UserName",NAV_ID:"Nav",NAV1_ID:"Nav1",NAV2_ID:"Nav2",NAV1_CONF:"__nav1",NAV2_CONF:"__nav2",MODEL_FIELD:{NEED_REFRESH:"needRefresh",NEW_DATA:"newData"},NOTICE_ID:"Notice",PAGER_MODEL:{pageSizes:[{name:"20行",value:20},{name:"50行",value:50},{name:"100行",value:100}],pageSize:20},G:{},DATE_FORMAT:"yyyy-MM-dd",TIME_FORMAT:"HH:mm:ss",DATE_TIME_FORMAT:"yyyy-MM-dd HH:mm"};(function(){mf.m=mf.exports={};mf.f=$.format;function dialog(opt){clearTimeout(loadingTimer);opt=opt||{};var content=opt.content||"";var hide=opt.hide||false;var animate=opt.animate||false;var width=opt.width||false;var bgColor=opt.bgColor||"#000";var opacity=typeof opt.opacity==="number"?opt.opacity:0.7;var WRAPPER=".screen-wrapper";var BG=".screen-bg";var CONTENT=".screen-content";var $wrapper=$(WRAPPER);if(!$wrapper.length){$(mf.f(['<div class="{0}">','<div class="{1}"></div>','<div class="{2}"></div>',"</div>"].join(""),WRAPPER.substr(1),BG.substr(1),CONTENT.substr(1))).appendTo($(document.body));$wrapper=$(WRAPPER)}if(opt.onhide){dialog.onhide=opt.onhide}if(hide){animate?$wrapper.fadeOut("slow"):$wrapper.hide();dialog.onhide&&dialog.onhide();dialog.onhide=null;return}var $content=$wrapper.find(CONTENT).html(content);var $bg=$wrapper.find(BG);var vp=getViewport();$bg.css("width",vp.width);$bg.css("height",vp.height);$bg.css("backgroundColor",bgColor);$bg.css("filter",mf.f("alpha(opacity = {0})",opacity*100));$bg.css("-moz-opacity",opacity);$bg.css("opacity",opacity);$content.width($($content.children()[0]).width());$content.height($($content.children()[0]).height());$content.css("left",($(window).width()-$content.width())/2);$content.css("top",($(window).height()-$content.height())/3+$(window).scrollTop());animate?$wrapper.fadeIn():$wrapper.show()}function getViewport(){return{width:Math.max(document.documentElement.clientWidth,Math.max(document.body.scrollWidth,document.documentElement.scrollWidth)),height:Math.max(document.documentElement.clientHeight,Math.max(document.body.scrollHeight,document.documentElement.scrollHeight))}}var LOADING_CONTENT=['<div class="screen-loading">','<span class="screen-loading-img"></span>','<span class="screen-loading-txt">正在读取数据，请稍候...</span>',"</div>"].join("");var UPLOAD_SUCCEED=['<div class="screen-loading">','<span class="screen-loading-img"></span>','<span class="screen-loading-txt"> {0}！ </span>',"</div>"].join("");var MSG_CONTENT=['<div class="screen-msg">','<div class="screen-msg-txt">{0}</div>','<div onclick="mf.hide()" class="ui-button skin-button-em">','<div class="ui-button-label skin-button-em-label" > 关闭 </div>',"</div>","</div>"].join("");var TIP_CONTENT=['<div class="screen-tip">','<div class="screen-tip-#{titleClass}"></div>','<div class="screen-tip-desc">#{msg}<br/>',"<div onclick=\"er.locator.redirect('#{href}');mf.hide(1);\" ",'class="ui-button skin-button-em">','<div class="ui-button-label skin-button-em-label" > #{back} </div>',"</div>&nbsp;&nbsp;","<div onclick=\"er.locator.redirect('#{href2}', { force: true });mf.hide(1);\" ",'class="ui-button #{btn2Class}">','<div class="ui-button-label"> #{back2} </div>',"</div>","</div>"].join("");var PAGE_CONTENT=['<div class="screen-page" style="width:#{width}px;height:#{height}px;">','   <div class="screen-page-close"></div>','   <iframe id="#{id}" src="#{src}" frameborder="0" scrolling="#{scrolling}"','   style="width:#{width}px;height:#{height}px;"></iframe>',"</div>"].join("");var LOADING_DELAY=0;var loadingTimer=0;mf.loading=function(delay){delay=typeof delay==="undefined"?LOADING_DELAY:delay;var OPACITY=0;if(delay>0){clearTimeout(loadingTimer);loadingTimer=setTimeout(function(){dialog({content:LOADING_CONTENT,opacity:OPACITY})},delay)}else{dialog({content:LOADING_CONTENT,opacity:OPACITY})}};mf.loaded=function(){mf.hide()};mf.uploadSucceed=function(txt){dialog({content:mf.f(UPLOAD_SUCCEED,txt||"文件上传成功"),opacity:0});setTimeout(function(){mf.hide()},2000)};mf.hide=function(animate){dialog({hide:true,animate:animate})};mf.msg=function(msg,onhide){dialog({content:mf.f(MSG_CONTENT,msg),onhide:onhide})};mf.redirect2Tip=function(opt){opt=opt||{};var error=!!opt.error;var msg=opt.msg||(error?"您的操作已失败":"您的操作已成功");var href=opt.href;var back=opt.back||"返回";var href2=opt.href2||"";var back2=opt.back2||"";dialog({content:mf.f(TIP_CONTENT,{msg:msg,href:href,back:back,href2:href2,back2:back2,titleClass:error?"error":"success",btn2Class:href2?"":"hide"}),animate:0})};mf.reload=function(opt){opt=opt||{};opt.shell=opt.shell||function(){};var loadURL=opt.loadURL||"index.html";var id="screenPage"+(new Date()).getTime();var width=opt.width||325;var height=opt.height||270;var scrollLeft=opt.scrollLeft||653;var scrollTop=opt.scrollTop||439;var scrolling=opt.scrolling||"yes";dialog({content:mf.f(PAGE_CONTENT,{id:id,src:loadURL,width:width,height:height,scrolling:scrolling}),animate:0});opt.shell=(function(shell){return function(){mf.hide();shell()}})(opt.shell);$(".screen-page-close").click(mf.hide);document.getElementById(id).onload=function(){try{this.contentWindow.scrollTo(scrollLeft,scrollTop)}catch(e){}};return mf.screenPage.reg(id,opt.shell)};mf.screenPage=(function(){var regID=[];var l=0;var reg=function(id,shell){l=regID.push({id:id,shell:shell});return id};var find=function(key,callback){for(var i=0;i<l;i++){var screenWindow=document.getElementById(regID[i].id);if(screenWindow&&screenWindow.contentWindow._key===key){l--;return callback(regID.splice(i,1)[0].shell)}}return null};return{reg:reg,find:find}})();var DP_ID="__dataProxy";mf.download=function(url){url+=(url.indexOf("?")>=0?"&":"?")+"_="+(+new Date);var outId=location.search.match(/outId=(\d+)(?=\&|$)/);if(outId){url+="&outId="+outId[1]}var $dp=$("#"+DP_ID);if(!$dp.length){var dp=document.createElement("iframe");dp.onload=function(){var err="";try{var dw=this.contentWindow;try{var value=dw.document.body.innerHTML;if(value){value=JSON.parse(value);if(value&&value.model&&value.model.formError){mf.formErrorHandler(value.model)}}}catch(e){}}catch(e){}};$dp=$(dp);$dp.attr("id",DP_ID);$dp.css("visibility","hidden");$dp.css("position","absolute");$dp.css("display","block");$dp.css("width","1px");$dp.css("height","1px");$dp.css("overflow","hidden");$dp.appendTo(document.body)}$dp.attr("src",url)};var ajax=function(url,onSuccess,opt){opt=opt||{};var method=opt.post?"POST":"GET";var data=opt.data||{};var ourl=url;var ajax=arguments.callee;if(!ajax.__called){ajax.__called=true}var query=url.indexOf("?")>=0?url.split("?")[1]:"";url=url.substring(0,url.indexOf("?")>=0?url.indexOf("?"):url.length);var outId=location.search.match(/outId=([\w\d]+)(?=\&|$)/);if(outId){query+="&outId="+outId[1]}var onData=function(result){mf.loaded();var model=result.model;if(!result.success&&!model.formError){if(model.global){mf.msg(model.global)}else{if(model.sessionTimeout){var obj={shell:(function(ajax,url,onSuccess,opt){return function(){mf.loading();ajax(url,onSuccess,opt)}})(ajax,ourl,onSuccess,opt)};var erPage=mf.getErPage();if(mf.hao){}else{if(mf.hj){if(erPage==="admin"){location.href="#/index/login~force=1";return}}else{mf.cookieKeyMap.authority&&T.cookie.set(mf.cookieKeyMap.authority,0);window.location.reload()}}mf.reload(obj)}else{if(model.redirect){er.locator.redirect(model.redirect)}else{mf.msg("未知错误，请联系我们<br>")}}}}else{$.isFunction(onSuccess)&&onSuccess(model)}};var errorMsg=function(XMLHttpRequest,otherInfo){mf.msg("网络异常，请尝试稍后操作<br>")};var sessionTimeoutModel={success:false,model:{sessionTimeout:1}};if(mf.DEBUG){url=mf.f("{0}.js?{1}",url.replace(/\.html$/i,""),query);if(!/[\\\/]/.test(url.charAt(0))){url="/"+url}for(var q in data){url+=mf.f("&{0}={1}",q,data[q])}$.getScript("data"+url,function(){onData(window.exports.response)})}else{url=url+(/\.html$/i.test(url)?"":".json")+(query?"?":"")+query;$.ajax({url:url,type:method,data:data,cache:false,dataType:"json",success:function(result,textStatus,XMLHttpRequest){if($.isEmptyObject(result)||$.isEmpty(result)){onData.call(XMLHttpRequest,sessionTimeoutModel)}else{onData.call(XMLHttpRequest,result)}},error:function(XMLHttpRequest,textStatus,errorThrown){var text=XMLHttpRequest.responseText;if(/success/i.test(text)){try{text=eval("(function () { return "+text+";})()")}catch(e){errorMsg(XMLHttpRequest,"JSON parse Error");return false}onData.call(XMLHttpRequest,text)}else{errorMsg(XMLHttpRequest)}}})}};mf.get=function(url,onSuccess){ajax(url,onSuccess)};mf.post=function(url,data,onSuccess){ajax(url,onSuccess,{post:true,data:data})};mf.getErPage=function(url){url=url||location.href;var page=null;try{page=/\/(\w+?)\.html([?#]|$)/.exec(url)[1]}catch(e){}return page};mf.getErPath=function(url){url=url||location.href;var path=null;try{path=/#((\/\w*?)+)(~|$)/.exec(url)[1]}catch(e){}return path};mf.updateNav1=function(opt){opt=opt||{};var sitemap=opt.sitemap||mf.MAP;var $nav=$("#"+(opt.nav||mf.NAV_ID));var $nav1=$("#"+(opt.nav1||mf.NAV1_ID));var highlight=opt.highlight||"";var hideNav=opt.hideNav||[];var HL_C="on";var PRE_NAV1="__nav1_";var HOVER_C="hover";var page=mf.getErPage();if(!$nav1.length){return}if(!mf.updateNav1.__called){mf.updateNav1.__called=1;var tabs=sitemap[page][mf.NAV1_CONF];var html=["<ul>"];var TPL=['<li id="__nav1_{3}">','<sup class="l"></sup>','<a class="nav-1-{3}" {0} href="{1}"><span>{2}</span></a>','<sup class="r"></sup>',"</li>"].join("");var user=mf.getUser();for(var k in tabs){if(tabs.hasOwnProperty(k)){var tab=tabs[k];if(tab.authority&&!er.permission.isAllow(tab.authority)){continue}var url=tab.url;if(tab.urlExtSwitch&&user[tab.urlExtSwitch]==="1"){url=tab.urlExt}url=mf.f(url,{userid:user.userid});if($.inArray(k,hideNav)===-1){html.push(mf.f(TPL,url.indexOf("#")===0?"":'target="_blank"',url,tab.label,k))}}}html.push("</ul>");$nav1.html(html.join(""));$nav1.find("a").focus(function(){$(this).blur()});$nav1.find("li").mouseover(function(){$(this).hasClass(HL_C)||$(this).addClass(HOVER_C)}).mouseout(function(){$(this).removeClass(HOVER_C)})}if(highlight){$nav1.find("li").removeClass(HL_C);$nav1.find(mf.f("li[id=__nav1_{0}]",highlight)).addClass(HL_C)}$nav.show()};var SEP='<span class="nav-2-sep">{0}</span>';mf.updateNav2=function(opt){opt=opt||{};var hide=opt.hide||false;var sep=mf.f(SEP,opt.sep)||"";var $nav2=$("#"+(opt.nav2||mf.NAV2_ID));if(opt.nav2Html){$nav2.html(opt.nav2Html);return}var sitemap=opt.sitemap||mf.MAP;var nav1s=sitemap[mf.getErPage()][mf.NAV1_CONF];var nav2s=sitemap[mf.getErPage()][mf.NAV2_CONF];var path=opt.path||mf.getErPath();if(!nav2s||!nav2s[path]){return}var nav2=nav2s[path];mf.updateNav1({highlight:nav2.nav1});if(!$nav2.length){return}var html=[];var TLP1='<span class="nav-2-item"><b>{0}</b></span>';var TLP2='<span class="nav-2-item"><a href="{0}" class="{2}" {3}>{1}</a></span>';for(var k in nav2.list){if(nav2.list.hasOwnProperty(k)){var tab=nav2.list[k];var conf=er.controller.getActionConfigByPath(tab.nav2);if(conf&&conf.authority&&!er.permission.isAllow(conf.authority)){continue}if(tab.parentPath){if(tab.nav2===path){opt.path=tab.parentPath;mf.updateNav2(opt);return}}else{var boo=tab.nav2.indexOf("/")===0;html.push(mf.f(TLP2,(boo?"#":"")+tab.nav2,nav2s[tab.nav2].label,(tab.parent?" nav-2-back ":"")+(tab.nav2===path?" nav-2-current":""),boo?"":'target="_blank"'))}}}$nav2.html(html.join(sep));!html.length||hide||!nav1s[nav2.nav1]||nav1s[nav2.nav1].hideNav2?$nav2.hide():$nav2.show()};mf.getGUID=function(opt_len){var len=opt_len||64;return er._util.getUID(len)};var NOTICE_ID="__mfNoticePanel";var NOTICE=mf.f('<div id="{0}" class="notice"></div>',NOTICE_ID);var NOTICE_CLOSE='<a href="javascript:;" class="notice-close" ></a>';var NOTICE_ICON='<span class="notice-icon" ></span>';mf.notice=function(opt){var hide=opt.hide||false;var $notice=$("#"+NOTICE_ID);if(hide){$notice.hide();return}var msg=opt.msg||"";var html=[];html.push(NOTICE_ICON);html.push(msg);if(!$notice.length){$(NOTICE).insertAfter("#"+mf.HEADER_ID);$notice=$("#"+NOTICE_ID)}var onClose=$.isFunction(opt.onClose)?opt.onClose:new Function();$notice.empty().html(html.join("")).append($(NOTICE_CLOSE).click(function(){$notice.hide();onClose()})).show()};mf.onenter=function(action,opt){mf.notice({hide:1});mf.loading();var user=mf.getUser();if(user){$("#"+mf.USERNAME_ID).html(user.name);if(action&&action.model&&action.model.set){action.model.set("userInfo",user)}}mf.updateNav2(opt)};mf.getDate=function(offset){offset=offset||0;var date=new Date();date.setTime(date.getTime()+86400*1000*offset);return date};var ORIGIN=new Date(2011,7,25);mf.DEF_DATE_RANGE={begin:ORIGIN,end:mf.getDate(0)};mf.DEF_DATE_VALUE={begin:mf.getDate(-6),end:mf.getDate(0)};mf.getDateString=function(date){date=date||new Date();return T.date.format(date,mf.DATE_FORMAT)};mf.getDateTimeString=function(date){date=date||new Date();return T.date.format(date,mf.DATE_TIME_FORMAT)};mf.initModel=function(opt){var loader=opt.loader;var model=opt.model;loader.set("pageSizes",mf.PAGER_MODEL.pageSizes);if(loader.get("from")&&loader.get("to")){loader.set("date",loader.get("from")+","+loader.get("to"))}var selectTxtMap={App:"应用",ProductType:"广告",Channel:"渠道",DataType:"数据",OsType:"操作系统",Selfpromote:"推广",Status:"状态"};for(var k in model){if(model.hasOwnProperty(k)){var data=model[k];if(k.indexOf("_select")===0&&$.isArray(data)){var suffix=selectTxtMap[k.substring(7)]||"";data.unshift({name:"全部"+suffix,value:""})}loader.set(k,data)}}var fields=opt.fields;if(fields){loader.set("fields",$.isFunction(fields)?fields(loader):fields)}var list=model.list;if(list){loader.set("list",list.data);loader.set("listTotalSize",list.totalSize);loader.set("total",Math.ceil(list.totalSize/loader.get("pageSize")))}var flashList=model.flashList;if(flashList){flashList.data.length<1&&flashList.data.push({date:loader.get("from"),showNum:0,clickNum:0,clickRate:0,avgClickCost:0,CPM:0,CPC:0,dldNum:0,totalCost:0,avgDldCost:0});loader.set("flashList",flashList.data)}};mf.initList=function(opt){var action=opt.action;var model=action.model;var listId=opt.listId||"list";var listOrderField=opt.listOrderField||"order";var listOrderByField=opt.listOrderByField||"orderBy";var pageSizeId=opt.pageSizeId||"pageSize";var pageSizeField=opt.pageSizeField||"pageSize";var pagerId=opt.pagerId||"pager";var pagerField=opt.pagerField||"page";var list=esui.get(listId);if(list){list.onsort=function(field,order){model.set(listOrderField,order);model.set(listOrderByField,field.field);mf.searchSubmit($.extend({},opt,{clearSelf:1}))};var scroll=$(list.main).parents(".list-table-scroll");var scrollTable=$(".scroll-wrapper",scroll)[0];var scrollBox=$(".scroll-box",scroll);var eventFlag="resize.scrollTable";$(window).unbind(eventFlag);if(scroll.length){$(window).bind(eventFlag,function(){scrollBox.unbind("scroll.table");if(scrollTable.scrollWidth>scroll[0].scrollWidth){scrollBox.show();$("div",scrollBox).width(scrollTable.scrollWidth);scrollBox.bind("scroll.table",function(){scrollTable.scrollLeft=this.scrollLeft})}else{scrollBox.hide()}}).trigger(eventFlag)}}if(esui.get(pageSizeId)){esui.get(pageSizeId).onchange=function(pageSize){model.set(pageSizeField,pageSize);mf.searchSubmit($.extend({},opt,{reset:this.startNumber}))}}if(esui.get(pagerId)){esui.get(pagerId).onchange=function(page){model.set(pagerField,page);mf.searchSubmit($.extend({},opt))}}};mf.initMultiCalendar=function(opt){var action=opt.action;opt.reset=$.isEmpty(opt.reset)?1:opt.reset;opt.clearSelf=$.isEmpty(opt.clearSelf)?1:opt.clearSelf;var model=action.model;var base=model.BASE;if(esui.get("date")){esui.get("date").onchange=function(value){var from=baidu.date.format(value.begin,mf.DATE_FORMAT);var to=baidu.date.format(value.end,mf.DATE_FORMAT);model.set("from",from);model.set("to",to);if(base){base.from=from;base.to=to}mf.searchSubmit(opt)}}};mf.initSearch=function(opt){var action=opt.action;var searchId=opt.searchId||"search";opt.word=$.isEmpty(opt.word)?1:opt.word;opt.reset=$.isEmpty(opt.reset)?1:opt.reset;opt.clearSelf=$.isEmpty(opt.clearSelf)?1:opt.clearSelf;opt.onbefore=$.isFunction(opt.onbefore)?opt.onbefore:function(){};var model=action.model;if(esui.get(searchId)){esui.get(searchId).onclick=function(){if(opt.onbefore.call(this,opt)!==false){mf.searchSubmit(opt)}}}};mf.searchSubmit=function(opt){opt=opt||{};var action=opt.action||{};var model=action.model||{};!$.isEmpty(opt.reset)&&model.set("page",opt.reset);opt.word&&(function(i){var uiKey=opt.word==1?"keyWord":opt.word;var word=esui.get(uiKey+i);if(word){model.set(uiKey+i,word.getValue());i=i||0;arguments.callee(++i)}})("");var base=model.BASE;if(base&&base.cache){opt.clearCache&&(base.cache={});if(opt.clearSelf){delete base.cache[base.cacheId];var suffix=base.cacheId.split("_")[0];for(var i in base.cache){if(i.indexOf(suffix)===0){delete base.cache[i]}}}}mf.loading();if(opt.isSub){mf.subActionRefresh(action,opt.queryMap)}else{mf.queryMapEncode(model,opt.queryMap);action.refresh(opt.queryMap||model.QUERY_MAP)}};mf.subActionRefresh=function(action,opt_queryMap){var model=action.model;model.set("_loadDirectLy",true);for(var i in (opt_queryMap||{})){model.set(i,opt_queryMap[i])}action.__fireEvent("onenter");action.__fireEvent("onbeforeloadmodel");model.load.call(model,function(){action.__fireEvent("onafterloadmodel");action.view.repaint();action.__fireEvent("onafterrepaint");action.__fireEvent("onentercomplete")})};mf.queryMapEncode=function(model,maps){maps=maps||model.QUERY_MAP;for(var i in maps){if(/^(.+)Encode$/.test(maps[i])){model.set(maps[i],encodeURIComponent(model.get(RegExp.$1)||""))}}};mf.parseQueryMap=function(model,queryMap){queryMap=queryMap||model.QUERY_MAP||{};$.each(queryMap,function(i,n){var value=model.get(i);if(value){if(/^(.+)Encode$/.test(n)){model.set(RegExp.$1,/%[a-f0-9]{2}/i.test(value)?decodeURIComponent(value):value)}else{model.set(n,value)}}})};mf.cookieKeyMap={};mf.COOKIE_KEY_MAP={_default:{name:"debug",userid:"9527",authority:"0",extFinance:"0",extAccount:"0"}};mf.getUser=function(){var keyMap=mf.cookieKeyMap;var user={};for(var i in keyMap){user[i]=T.cookie.get(keyMap[i])||mf.COOKIE_KEY_MAP._default[i]||""}return user};var NAN="NaN";mf.print=function(flo,def,dis){dis=dis||NAN;return isNaN(flo)||Number.POSITIVE_INFINITY==flo?NAN:def};mf.printFloat=function(flo,power){power=power||0;var f=flo+"";if(power<=0){return Math.floor(flo)+""}var pad=f.indexOf(".")<0?"":f.substring(f.indexOf(".")+1,f.indexOf(".")+1+power);var len=power-pad.length;for(var i=0;i<len;++i){pad+="0"}return Math.floor(flo)+"."+pad};mf.trimFloat=function(flo,power){power=typeof power!=="undefined"?power:2;return parseFloat(mf.printFloat(flo,power))};mf.printMoney=function(num,power,unit){power=typeof power!=="undefined"?power:2;unit=unit||"￥";return unit+mf.printFloat(num,power)};mf.printRound=function(num){return Math.floor(num*100+0.5)/100};mf.cancelBubble=function(e){e=e||window.event;if(e.stopPropagation){e.stopPropagation()}else{e.cancelBubble=true}};mf.fixPassword=function(id,showId){var ctrl=esui.get(id);var ele,showEle;if(ctrl){ele=ctrl.main;showEle=esui.get(showId).main}else{ele=document.getElementById(id);showEle=document.getElementById(showId)}$(showEle).bind("focus",function(){$(ele).show().focus();$(showEle).hide()});$(ele).bind("blur",function(){var val=ctrl?ctrl.getValue():ele.value;if(val===""){$(showEle).show();$(ele).hide()}})};mf.isLoginPage=function(){return mf.getErPage()==="index"||mf.getErPage()==="admin"&&mf.getErPath()==="/index/login"};mf.initSwitchTable=function(opt){opt=opt||{};var switchBox=esui.get(opt.box);var switchTable=esui.get(opt.list);var switchOptions=opt.fields||[];var listField;if(switchOptions.length&&switchBox&&switchTable){listField=switchTable.fields;switchBox.value=switchBox.datasource!==switchOptions?switchOptions[0].id:switchBox.getValue()[0];switchBox.datasource=switchOptions;switchBox.onchange=function(values,value){var option=mf.m.utils.deepSearch("",switchOptions,value,"id");if(!option){return false}var field=[];$.each(option.value.split("|"),function(i,n){n&&field.push(listField[n])});switchTable.fields=field;if("select" in option){switchTable.select=option.select}switchTable.render()};switchBox.render()}if(switchBox){if(switchOptions.length<2){$(switchBox.main).hide()}else{$(switchBox.main).show()}}};mf.formErrorHandler=function(result,onok){if(result.reflect){mf.m.utils.reflect(result.formError,result.reflect)}esui.Dialog.alert({title:"操作失败",content:$.map(result.formError||[],function(n,i){return i+" : "+n}).join("<br />"),onok:onok})};mf.switchStatusText=function(status,field){return function(datas,success,failed){var findFiled=this.field;$.each(success,function(i,n){var valueIndex=mf.m.utils.indexOfArray(datas,n,findFiled);if(valueIndex>-1){datas[valueIndex][field]=status}})}};mf.loadModelByBase=function(c,loader,f){mf.loading();if(c.loaded){mf.loaded();f(c.model)}else{loader.stop();mf.get(c.loaderSrc+(c.loaderSrc.indexOf("?")>-1?"&":"?")+loader.getQueryString(c.queryMap),function(model){mf.loaded();if(model.formError){mf.formErrorHandler(model);return false}model.page=loader.get("page");model.pageSize=loader.get("pageSize");c.model=model;c.loaded=true;f(c.model);loader.start()})}};mf.setPage=function(title,data,url,closeCallback){var dlg=window.MaskDialog=esui.util.create("Dialog",{id:"__DialogAlert"+esui.Dialog._increment(),width:1020,height:500,autoPosition:1,draggable:1,mask:{level:10000},data:data});dlg.show();dlg.setTitle(title);dlg.getBody().innerHTML='<iframe frameborder="0" scrolling="auto" src="'+url+'" style="width:100%; height:500px;"></iframe>';dlg.close=function(){closeCallback=closeCallback||function(){};dlg.onhide();closeCallback()};dlg.onhide=function(){dlg.hide();dlg.dispose();window.MaskDialog=null}}})();(function(a,d){var c={};var b={get:function(f){return c[f]},set:function(g,f){c[g]=f}};a.model=b})(mf&&mf.m||exports||{},mf||module);(function(a,b){var d={hao:{admin:{},user:{}}};function c(g){er.permission.isAllow=function(k){var m=false;var o=(k||"").split("|");for(var l=0;l<o.length;++l){var p=o[l].split("&");var n=true;for(var h=0;h<p.length;++h){n=n&&g(p[h])}m=m||n}return m}}var f=function(g,k){g=g||"hao";k=k||"user";d[g]=d[g]||{};var h=d[g][k]=d[g][k]||{};c(er.permission.isAllow);return{parse:function(q){q=q||0;var p={};if(typeof q==="string"){if(q==="false"){q=0}else{if(q==="true"){q=1}else{try{q=JSON.parse(q)}catch(r){try{q=parseInt(q)}catch(r){q=0}}}}}if(typeof q==="number"){for(var o in h){p[o]=(q&h[o])===h[o]}}else{for(o in q){var n=h[o];var m=q[o];for(var l in n){p[l]=(m&n[l])===n[l]}}}er.permission.init(p);return p},isAdminLogin:function(){return er.permission.isAllow("LOGIN")},isAppUserBinded:function(){return er.permission.isAllow("BIND_USER")},keys:h,register:function(m){for(var l in m){h[l]=m[l]}}}};a.authority=f})(mf&&mf.m||exports||{},mf||module);(function(b,c){var a={};var f=0;var d=function(h,k){k=k||"cmd";a[k]=a[k]||{};h=(h||"click")+"."+k;$("body").off(h).on(h,function(s){var o={};var l=s.target.attributes;var m=/^data\-\w+$/i;$.each(l,function(t,u){if(m.test(u.name)){o[u.name.substring(5)]=u.value}});var n;var r=o[k];if(!r){return true}for(var p in a){var q=a[p];if(q&&(n=q[r])&&n._unique==p){if(!n.region||$(s.target).parents().filter(n.region).length){n.call(s,$.extend({},n.opt,o));break}}}});var g={register:function(l,n){l=[].concat(l);n=n||{};f+=1;var m=[];var o={};$.each(l,function(p,t){var r=t[k];var q=t.handle;if(!r||!q){return false}m.push(r);var s=t.region||n.region;s&&(q.region=s);q._unique=f;q.opt=$({},n,t);o[r]=q});a[f]=o;return f},dispose:function(l){delete a[l]}};return g};d.commands=a;b.commandElement=d})(mf&&mf.m||exports||{},mf||module);(function(b,c,d){var a={};a.toBoolean=function(g){if(typeof g==="string"){if(g==="true"){return true}else{if(g==="false"){return false}else{return null}}}return !!g};a.hasValue=function(g){return g!==null&&g!==d};a.indexOfArray=function(g,h){var p=[].slice.call(arguments);var o=p.length;var n=0,l=2;if(typeof(g)==="number"){n=g;g=h;h=p[2];l=3}if(!$.isArray(g)){return -1}h=(function(q){if(typeof q==="function"){return h}else{return function(s,t){for(var r=l;r<o;r++){if(!$.isPlainObject(t)){break}t=t[p[r]]}return t==q&&r==o}}})(h);for(var k=n,m=g.length;k<m;k++){if(h.call(g[k],k,g[k])){return k}}return -1};a.deepSearch=function(){var m=[].slice.call(arguments,0);var k=m.slice(-1)[0];if(typeof k!=="number"){k=-1;m.push(k)}var q=m[0];if(typeof q!=="string"){q="";m.unshift("")}var h=[].concat(m[1]);var p;var g=h.length;var n=0;m[m.length-1]-=1;if(k&&q){for(;n<g;n++){if(h[n][q]){m[1]=h[n][q];p=arguments.callee.apply(null,m);if(p){var o=p;while(o.parent){o=o.parent}o=o.parent=$.extend({},h[n]);delete o[q];break}}}}if(!p){m[1]=h;n=a.indexOfArray.apply(null,m.slice(1,-1));if(n>-1){p=$.extend({},h[n])}}return p};a.throttle=function(l,g){g=g||100;var m;var k=[].slice.call(arguments,2);var h=[];return function(){var n=this;h=[].slice.call(arguments,0);if(!m){m=setTimeout(function(){m=null;l.apply(n,k.concat(h));h=[]},g)}}};a.nextTick=function(){var g=[].slice.call(arguments);var h=g[0];var k={};if(!$.isFunction(h)){k=h;h=g[1];g.shift()}setTimeout(function(){h&&h.apply(k,g.slice((1)))},0)};a.nextTickWrapper=function(k,h){var g=[].slice.call(arguments).slice(2);return function(){var l=[].slice.call(arguments);l.unshift(k);l.unshift(h||this);l=l.concat(g);a.nextTick.apply(null,l)}};a.reflect=function(h,k){for(var g in k){if(g in h){h[k[g]]=h[g];delete h[g]}}return h};a.urlUtil=function(k){var g=k.replace(/^\s*(https?(\:\/\/|%3a%2f%2f))+/ig,"");var h=(/^\s*https/i.test(k)?"s":"");return["http"+h+"://"+g,g]};var f=function(l,h){h=h||0;var g=new Array(h*4).join(" ");var k=new Array(h*4+4).join(" ");if($.isArray(l)){return"[\n"+$.map(l,function(o,m){return k+f(o,h+1)}).join(",\n")+"\n"+g+"]"}else{if($.isPlainObject(l)){return"{\n"+$.map(l,function(o,m){return k+'"'+m+'": '+f(o,h+1)}).join(",\n")+"\n"+g+"}"}else{if(typeof l=="string"){return'"'+l+'"'}else{return l}}}};a.inspect=f;a.JSONFormat=function(h){if(!h){throw"formatJSON get an empty target"}if(typeof h=="string"){try{h=new Function("return "+h)()}catch(g){}}return f(h,0)};a.toFirstUpperCase=function(g){return g.slice(0,1).toUpperCase()+g.slice(1)};a.recursion={get:function(o,n,h){n=n.split(".");var m=o;for(var k=0,g=n.length;k<g;k+=1){m=m[n[k]];if(!m&&k+1<g){break}}return m!==d?m:h},set:function(q,p,n){p=p.split(".");var h=p.pop();var o=q;var m;for(var k=0,g=p.length;k<g;k+=1){o[p[k]]=m=o[p[k]]||{};o=m}o[h]=n;return q},del:function(o,n){n=n.split(".");var m=o,k,p=-1,g=n.length;for(var h=0;h<g;h+=1){k=m[n[h]];if(!a.hasValue(k)){p=h;break}m=k}for(;p>-1;p-=1){k=a.recursion.get(o,n.slice(0,p-1).join);if(!a.hasValue(k)){p=h;break}}return o}};c.exports=b.utils=a})(mf&&mf.m||exports||{},mf||module);(function(a,b){var c=function(){var m={};var d={};var f={};var o={};var l={};var k;var g={email:/^\s*[a-zA-Z0-9_+.-]+\@([a-zA-Z0-9\-_]+\.)+[a-zA-Z0-9]{2,4}$/,phone:/^\s*[+＋]?([0-9０-９]+[-－])*[0-9０-９]+$/,float2:/^\s*[+-]?([1-9１-９][0-9０-９]*|[0０])(\.[0-9０-９]{1,2})?\s*$/,float1:/^\s*[+-]?([1-9１-９][0-9０-９]*|[0０])(\.[0-9０-９])?\s*$/,"float":/^\s*[+-]?([1-9１-９][0-9０-９]*|[0０])(\.[0-9０-９]+)?\s*$/};m.regexp=g;m.setModel=function(p){k=p;if(!k||!k.set){k=null}};m.setRule=function(r,q,p){if(!r||!$.isPlainObject(q)){return}if(d[r]){d[r][p||0]=q}};function n(s,p,r,q){s=typeof s=="string"?document.getElementById(s):s;q=q||s;if(document.all){s.attachEvent("on"+p,function(){r.apply(q,arguments)})}else{s.addEventListener(p,function(){r.apply(q,arguments)},false)}}function h(s){var q=esui.get(s);var r,p;if(q){p=q.getValue();if(p===q.placeholder){p=""}r=q.main}else{r=document.getElementById(s);if(!r){return[null,"",null]}p=(r.type==="text"||r.type!=="file")?r.value.replace(/^\s+/,"").replace(/\s+$/,""):"";if(p===r.holder){p=""}}return[r,p,q]}m.reg=function(p){var s=p.id;if(!s||!$.isArray(p.rule)){return}d[s]=p.rule;o[s]=p.msgId||(s+"Error");var r=h(s)[0];var q="ui-text-virtual";r.holder=p.placeholder||"";if(r.value===""){r.value=r.holder||"";baidu.dom.addClass(r,q)}if(r.type!=="file"){if(!l[s]){n(r,"blur",function(){if(r.value===""){r.value=r.holder||"";baidu.dom.addClass(r,q)}if(m.checkSingle(s)){var t=h(s)[1];if(k){k.set(s,t)}if(p.callback){p.callback(t)}}});n(r,"focus",function(){if(r.value===r.holder){r.value="";baidu.dom.removeClass(r,q)}})}else{l[s]=true}}};m.unreg=function(p){var q=p;if($.isPlainObject(p)){q=p.id}if(q){d[q]=undefined}};m.getFullWidthLength=function(s,t){var r=/^[\u4e00-\u9fa5]+$/;s=s||"";if(t){s=s.replace(/<([a-z]+).*?>(.*?)<\/\1>/gi,"$2")}var q=s.length;var p=q;while(q--){if(r.test(s[q])){p++}}return p};m.validate=function(w){var p=d[w];var G=h(w);if(!p||!$.isArray(p)){return}var z=G[1];f[w]=[];for(var B=0;B<p.length;++B){var q=g["float"];var I=p[B].tpl;if({}.toString.call(I)==="[object Function]"){var C=I.call(G[2],z,m);if(!(C===true||C===undefined)){f[w].push(C||p[B].msg)}}else{if(I==="notNull"){if(z===""){f[w].push(p[B].msg||("不能为空"))}}else{if(I==="limitS"){if(z!==""){var A=p[B].max||9999;var y=p[B].min||0;var C=[];var F=z.length;if(F>A){C.push("字符数量超出上限"+A)}if(F<y){C.push("字符数量低于下限"+y)}if(C.length>0){f[w].push(p[B].msg||C.join("，"))}}}else{if(I==="limit"){if(z!==""){var A=p[B].max||9999;var y=p[B].min||0;var C=[];var F=m.getFullWidthLength(z);if(F>A){C.push("字符数量超出上限"+A)}if(F<y){C.push("字符数量低于下限"+y)}if(C.length>0){f[w].push(p[B].msg||C.join("，"))}}}else{if(I==="gt"){if(z!==""&&q.test(z)){var H=p[B].target;var x=parseFloat(z);if(!x&&x!==0||x>H){f[w].push(p[B].msg)}}}else{if(I==="lt"){if(z!==""&&q.test(z)){var H=p[B].target;var x=parseFloat(z);if(!x&&x!==0||x<H){f[w].push(p[B].msg)}}}else{if(I==="regex"){if(z!==""){var s=p[B].regx;if($.isArray(s)){var t=p[B].operator;var u=t==="AND";for(var v=0;v<s.length;++v){var r=s[v].test(z);if(t==="OR"&&r){u=true}if(t==="AND"&&!r){u=false}}if(!u){f[w].push(p[B].msg)}}else{if(!s.test(z)){f[w].push(p[B].msg)}}}}else{if(I==="email"){if(z!==""){var s=g.email;var A=p[B].max||1;var D=[z];if(A>1){D=z.split(/[，,]/)}if(A<D.length){f[w].push(p[B].msg)}else{for(var E=0;E<D.length;++E){if(!s.test(D[E])){f[w].push(p[B].msg);break}}}}}}}}}}}}}f[w]=f[w].join("，")};m.getInfo=function(p){return f[p]};m.clear=function(){f=[]};m.result=function(){var q=true;var r;for(var p in f){var s=document.getElementById(o[p]);if(f[p].length>0){q=false;s.innerHTML=f[p];if(typeof r==="undefined"){r=s}}else{s.innerHTML=""}}f=[];return q};m.checkSingle=function(p){f=[];m.validate(p);return m.result()};m.check=function(){f=[];for(var p in d){m.validate(p)}return m.result()};return m};a.validate=c})(mf&&mf.m||exports||{},mf||module);(function(a,b){var c=function(k){var h=k.ele||"process-bar";var g=k.arrow||"process-arrow";var n=k.passed||"process-bar-pass";var m=k.active||"process-bar-activation";var f=k.arrowPassed||"process-arrow-pass";var d=k.arrowActive||"process-arrow-activation";var l=k.step;$("."+h+":eq("+l+")").addClass(m);$("."+g+":eq("+l+")").addClass(d);$("."+h+":lt("+l+")").addClass(n);$("."+g+":lt("+l+")").addClass(f)};a.processBar=c})(mf&&mf.m||exports||{},mf||module);(function(a,b){var c=function(g){var l=[];g=g||{};var f=g.url||"";var k=g.splitChar||"|";var d=esui.get(g.tableId||"list");var h=g.operationBtn||[];g.datasource=g.datasource||d&&d.datasource||[];$.each(h,function(p,r){var q=r.field=r.field||"id";var m=r.argField||"arg";m=[].concat(m);var o=esui.get(r.id);if(!o){return true}o[o.type==="Select"?"onchange":"onclick"]=function(u,t){var n=$.map(l,function(v){return v[q]});var s=(function(v){return function(w,y,x){var z=this;v.call(z,w,y,function(){x.apply(z,arguments)})}})(r.before||function(v,x,w){w(x)});s.call(r,l,n,function(w){var x=this;var v=[].slice.call(arguments,1);var y=$.map(m,function(A,z){return A+"="+($.isEmpty(v[z])?"":v[z])}).join("&");mf.loading();f=r.url||f;f+=f.indexOf("?")>-1?"":"?";mf.get(mf.f(f+"&action="+x.op+(o.type==="Select"?"&value="+u:"")+(y?"&"+y:""),w.join(k)),function(z){var C=z.success||z.successUserId;C=C&&C.split("|")||[];var A=z.failed||z.failedUserId;A=A&&A.split("|")||[];if(x.after){x.after.apply(x,[g.datasource,C,A].concat(v,z))}d&&d.render();g.afterRender&&g.afterRender.call(x);var B="";if(!d){return true}if(d.select==="multi"){B="multiSelect"}else{if(d.select==="single"){B="singleSelect"}}if(0&&B){B=d.__getId(B);$.each(w,function(E,F){var G=mf.m.utils.indexOfArray(g.datasource,F,q);if(G>-1){var D=baidu.G(B+G);D.checked=true;D.onclick()}})}$.each(A,function(D,E){var G=mf.m.utils.indexOfArray(g.datasource,E,q);if(G>-1){var F=baidu.G(d.__getId("row")+G);$("table",F).css("background","#FFd4DD")}});if(z.formError){A.length&&(z.formError.tips="错误行已用突出颜色标出。");mf.formErrorHandler(z)}if(o.type==="Select"){o.setValue(null)}})})}});if(d){d.onselect=function(o){var n=this.datasource;var m={};l=$.map(o,function(r,q){var p=n[r];g.getBtnStatus&&g.getBtnStatus.call(m,p,l);return p});$.each(h,function(r,t){var s=t.id;var q=esui.get(t.id);if(!q){return true}var p;p=l.length===0||g.setBtnStatus&&g.setBtnStatus.call(m,s,l);if(p){q.disable()}else{q.enable()}})}}return{trigger:function(r,q,p){var m=l;if(mf.m.utils.indexOfArray(h,r,"id")===-1){return false}q=[].concat(q);var o=g.datasource;l=$.map(q,function(t,s){return o[t]});var n=esui.get(r);if(n.type==="Button"){n.onclick()}else{if(n.type==="Select"){n.setSelectedIndex(p,true)}}l=m},dispose:function(){d=null;$.each(h,function(m,o){esui.get(o.id).onclick=null})}}};a.uiOperateButton=c})(mf&&mf.m||exports||{},mf||module);(function(a,b){var c=function(h,d){for(var g in h){var f=h[g];f.noAllChoice=!!f.noAllChoice;(function(o,n,r,q){var p={value:"",name:"全部"};if(!q[0]){return null}q[0].datasource=o.noAllChoice?r:[].concat(p,r);q[0].value=d.get(n[0]);q[0].render();q[0].onchange=function(t){if(q[1]){var s=mf.m.utils.indexOfArray(r,t,"value");q[1].datasource=s>-1&&r[s].children||[];q[1].datasource=o.noAllChoice?q[1].datasource:[].concat(p,q[1].datasource);q[1].render();q[1].setSelectedIndex(0,true);if(q[2]){q[2].datasource=o.noAllChoice?[]:[p];q[2].render();q[2].setSelectedIndex(0,true)}}d.set(n[0],t)};if(q[1]){q[1].onchange=function(t){if(q[2]){var s=mf.m.utils.indexOfArray(q[1].datasource,t,"value");q[2].datasource=s>-1&&q[1].datasource[s].children||[];q[2].datasource=o.noAllChoice?q[2].datasource:[].concat(p,q[2].datasource);q[2].render();q[2].setSelectedIndex(0,true)}d.set(n[1],t)}}if(q[2]){q[2].onchange=function(s){d.set(n[2],s)}}var k=q[0].selectedIndex;var m=d.get(n[1]);var l=d.get(n[2]);q[0].setSelectedIndex(k<0?0:k,true);if(k>-1&&q[1]){k=mf.m.utils.indexOfArray(q[1].datasource,m,"value");q[1].setSelectedIndex(k<0?0:k,true);if(k>-1&&q[2]){k=mf.m.utils.indexOfArray(q[2].datasource,l,"value");q[2].setSelectedIndex(k<0?0:k,true)}}})(f,[].concat(f.value),[].concat(f.data),$.map(f.ui,function(k){return esui.get(k)}))}};a.uiFilterSelect=c})(mf&&mf.m||exports||{},mf||module);(function(){if(top!==window){var a=typeof mf!=="undefined"?mf:top.mf;if(a&&!a.isLoginPage()){window._key=Math.random()*100000;top.mf.screenPage.find(window._key,function(b){b()})}}else{$(function(){var b=window.mf&&window.mf.windowMinWidth||1270;$(window).on("resize",function(){var c=$("body");var d=$(window).width();if(d<b){c.css("width",b)}else{c.css("width","auto")}}).resize()})}})();(function(){var a={getDataByForm:function(d,l){var h=this;var s=l||h.INPUT_QUERY_MAP||{},f=d||h.view.getInputList(),g={},b=er.extend.ui.adapter,m,o,q,p,r,k={};var n=document.getElementsByTagName("input");for(m=0,o=n.length;m<o;++m){q=n[m];if(q.type==="hidden"){p=q.name;if(p){if(g[p]){continue}g[p]=1;p=s[p]||p;k[p]=encodeURIComponent(q.value)}}else{if(/^_innerui/.test(q.id)&&q.checked){p=q.name;if(p&&!/_innerui/.test(p)){p=s[p]||p;if(g[p]&&/^(\d+\|?)+$/.test(k[p])){k[p]+="|"}k[p]=(g[p]?k[p]:"")+encodeURIComponent(q.value);if(!g[p]){g[p]=1}}}else{if(q.type==="text"&&!/\sui\s/i.test(q.outerHTML)){p=q.name;if(p){if(g[p]){continue}g[p]=1;p=s[p]||p;k[p]=encodeURIComponent(q.value)}}}}}for(m=0,o=f.length;m<o;++m){q=f[m];if(b.isInput(q)&&!b.isDisabled(q)){p=b.getInputName(q)||q.id;if("function"==typeof q.getQueryString){var c=q.getQueryString(k)}else{if(p){if(g[p]){continue}g[p]=1;p=s[p]||p;if(b.isInputBox(q)){r=q.getGroup().getValue();if($.isArray(r)){r=r.join(",")}}else{r=q.getValue()}k[p]=encodeURIComponent(r)}}}}return k},validateForm:function(d){var f=d||this.view.getInputList(),b=er.extend.ui.adapter,k,l,m,g,c=true,h=this;for(k=0,l=f.length;k<l;k++){m=f[k];if(b.isInput(m)&&!b.isDisabled(m)){g=m.validate();if(c){c=g}}}return c},validateBind:function(h){if(this.validateBind.__called){return}this.validateBind.__called=1;var g=h||this.view.getInputList(),d,b,c,f=this;for(d=0,b=g.length;d<b;d++){c=g[d];c.onblur=function(){f.validateForm()}}}};er.Action.extend(a);mf.Action=function(b){er.Action.call(this,b)};baidu.inherits(mf.Action,er.Action);er.Model.prototype.getQueryString=(function(b){return function(d){var c=this;mf.queryMapEncode(c,d);return b.call(c,d)}})(er.Model.prototype.getQueryString);er.permission.isAllow=(function(c){var b=function(g){g=g.split("&");var k=true;for(var h=0,f=g.length;h<f;h++){k=k&&c(g[h])}return k};var d=function(g){g=g.split("|");var k=false;for(var h=0,f=g.length;h<f;h++){k=k||b(g[h])}return k};return function(f){f=f||"";var g=d(f);return g}})(er.permission.isAllow)})();esui.Plain=function(a){this._type="plain";this._autoState=1;esui.Control.call(this,a)};esui.Plain.prototype={_tplPlain:'<div id="{2}" class="{1}">{0}</div>',_getMainHtml:function(){var a=this;return esui.util.format(a._tplPlain,a.content||"&nbsp;",a.__getClass("label"),a.__getId("label"))},render:function(){var a=this;esui.Control.prototype.render.call(a);this.setPlain(this.content);this.setTitle(this.title)},setContent:function(a){this.content=a||"";this.main.innerHTML=this._getMainHtml()},setPlain:function(a){a=a||"";this.setContent(baidu.encodeHTML(a))},setTitle:function(a){this.title=a||"";this.main.setAttribute("title",this.title)},__createMain:function(){return document.createElement("span")}};baidu.inherits(esui.Plain,esui.Control);(function(){esui.CalendarEvent=function(q){esui.Control.call(this,q);this._type="calendarevent";this._autoState=0;this._init()};esui.CalendarEvent.prototype._init=function(){this.__initOption("mode","");this.__initOption("nowDate",new Date());this.__initOption("showMode",1);this.__initOption("datasource",{});this._year=this.nowDate.getFullYear();this._month=this.nowDate.getMonth()};esui.CalendarEvent.prototype.render=function(){esui.Control.prototype.render.call(this);var q=this.main;if(this.mode==="small"){baidu.dom.addClass(q,"ui-calendarevent-small")}else{baidu.dom.removeClass(q,"ui-calendarevent-small")}q.innerHTML=["<table>",this._getCaption(),"<tbody>",this._getHeader(),this._getBody(),"</tbody>","</table>"].join("")};var k=esui.util.format;var b='<span class="date">{0}年{1}月&nbsp;</span>';esui.CalendarEvent.prototype._getCaption=function(){return"<caption>"+k(b,this._year,this._month+1)+this._getModeSwitcherHtml()+"</caption>"};var m="<th><span>星期</span>{0}</th>";var d=["日","一","二","三","四","五","六"];esui.CalendarEvent.prototype._getHeader=function(){var s=["<tr>"];for(var r=0,q;q=d[r++];){s.push(k(m,q))}s.push("</tr>");return s.join("")};var f=[31,28,31,30,31,30,31,31,30,31,30,31];var a='<td class="previous">{0}</td>';var g='<td class="next">{0}</td>';var p='<td class="active">{0}</td>';var l="<td>{0}</td>";esui.CalendarEvent.prototype._getBody=function(){var y=this._year;var x=this._month;var q=new Date();q.setFullYear(y);q.setMonth(x);q.setDate(1);var z=q.getDay();var r=this._isLeepYear(y);var u=f[(x+11)%12]+(x===2&&r?1:0);var s=f[x]+(x===1&&r?1:0);var w=["<tr>"];for(var v=1;v<=z;++v){w.push(k(a,(u-z+v)))}for(var v=1;v<=s;++v){var B=this.datasource[v];if(baidu.lang.isArray(B)){var A=[v,"<ul>"];for(var t=0;t<B.length;++t){A.push(k("<li>{0}</li>",B[t]))}A.push("</ul>");w.push(k(p,A.join("")))}else{w.push(k(l,v))}if((v+z)%7===0){w.push("</tr><tr>")}}z=(z+s)%7;z=8-(z===0?7:z);for(var v=1;v<z;++v){w.push(k(g,v))}w.push("</tr>");return w.join("")};var c="普通模式";var o="迷你模式";var h='<a class="disable">{0}</a>';esui.CalendarEvent.prototype._getModeSwitcherHtml=function(){if(this.showMode!=1){return""}var q='<a onclick="'+this.__getStrRef()+'.changeMode()">{0}</a>';return this.mode!=="small"?k(h,c)+k(q,o):k(q,c)+k(h,o)};esui.CalendarEvent.prototype._isLeepYear=function(q){return q%400===0||q%4===0&&q%100>0};esui.CalendarEvent.prototype.changeMode=function(){this.mode=this.mode==="small"?"":"small";this.render()};esui.CalendarEvent.prototype.setYear=function(q){this._year=q;this.onchange(q,this._month);this.render()};esui.CalendarEvent.prototype.getYear=function(){return this._year};esui.CalendarEvent.prototype.setMonth=function(q){this._month=q;this.onchange(this._year,q);this.render()};esui.CalendarEvent.prototype.getMonth=function(){return this._month};esui.CalendarEvent.prototype.setDatasource=function(q,r){this.datasource=q;if(r){this.render()}};esui.CalendarEvent.prototype.getDatasource=function(){return this.datasource};var n=function(){};esui.CalendarEvent.prototype.onchange=n;esui.CalendarEvent.prototype.__dispose=function(){var q=this.main;esui.Control.prototype.__dispose.call(this);q.innerHTML="";q.parentNode&&q.parentNode.removeChild(q)};baidu.inherits(esui.CalendarEvent,esui.Control)})();esui.Slide=function(a){this._type="slide";this._autoState=0;esui.Control.call(this,a);this.__initOption("slideMin",1);this.__initOption("slideMax",4);this.__initOption("slideBarLength",500);this.__initOption("slideInterval",1)};esui.Slide.prototype={render:function(){var l=this;if(!l._isRendered){esui.Control.prototype.render.call(l)}var g=parseInt(l.slideMin,10);var q=parseInt(l.slideMax,10);var p=parseInt(l.slideInterval,10);var b=parseInt(l.slideBarLength,10);var a=l.opt_isVertical;if(p<1||p>q){alert("你会看到这个信息是因为你把"+l.id+"的间隔设置为小于1或者大于最大值了;\n请将间隔设置为最大值和1之间并尽量能整除的整数");return}function s(){var v=document.createElement("div");v.className="slideBar";var u=document.createElement("div");u.className="slideBarSelected";var w=document.createElement("div");var t=document.createElement("div");if(!a){v.className+=" slideBarHorizontal";u.className+=" slideBarSelectedHorizontal";v.style.width=b+"px";w.className="slideBarLeft";t.className="slideBarRight"}else{v.className+=" slideBarVertical";v.style.height=b+"px";u.className+=" slideBarSelectedVertical";w.className="slideBarBottom";t.className="slideBarTop"}v.appendChild(u);v.appendChild(w);v.appendChild(t);return v}function f(){var t=document.createElement("div");t.className="controlBar";t.innerHTML=g;if(!l.opt_showControlBarNum){t.style.textIndent="-10000em"}if(!a){t.className+=" controlBarHorizontal";t.style.left="0"}else{t.className+=" controlBarVertical";t.style.bottom="0"}t.title=g;return t}function k(){var z=document.createElement("div");z.className="slideRulingBox";var u=document.createElement("ul");u.className="slideRuling";if(!l.opt_hideRulingNum){var w=document.createElement("ul");w.className="slideRulingNum"}if(l.opt_hideRuling){u.style.display="none"}var v=(q-g)/p;var t=b/v;v=Math.floor(v);if(!a){u.className+=" slideRulingHorizontal";if(l.opt_rulingBottom){u.style.top="25px";w.style.top="32px"}if(!l.opt_hideRulingNum){w.className+=" slideRulingNumHorizontal";w.style.left=-t/2+"px";for(var x=0;x<=v;x++){u.innerHTML+='<li style="left:'+t*x+'px" title="'+(p*x+g)+'"><!-- --></li>';w.innerHTML+='<li style="left:'+t*x+"px;width:"+t+'px" title="'+(p*x+g)+'">'+(p*x+g)+"</li>"}}else{for(var x=0;x<=v;x++){u.innerHTML+='<li style="left:'+t*x+'px" title="'+(p*x+g)+'"></li>'}}}else{u.className+=" slideRulingVertical";u.style.height=b+"px";var y="";if(l.opt_rulingLeft){u.style.right="50px";var y="right:90px;"}if(!l.opt_hideRulingNum){w.className+=" slideRulingNumVertical";w.style.height=b+"px";w.style.bottom=-t/2+"px";for(var x=0;x<=v;x++){u.innerHTML+='<li style="bottom:'+t*x+'px" title="'+(p*x+g)+'"><!-- --></li>';w.innerHTML+='<li style="bottom:'+t*x+"px;height:"+t+"px;line-height:"+t+"px;"+y+'" title="'+(p*x+g)+'">'+(p*x+g)+"</li>"}}else{for(var x=0;x<=v;x++){u.innerHTML+='<li style="bottom:'+t*x+'px" title="'+(p*x+g)+'"></li>'}}}z.appendChild(u);if(!l.opt_hideRulingNum){z.appendChild(w)}return z}var o=s();var m=f();var d=k();var h=document.createElement("span");h.className="currentValueHolder";if(!l.opt_showValueHolder){h.style.textIndent="-10000em"}h.innerHTML="当前值为"+g;o.appendChild(d);function r(A,v){var y=m.innerHTML;A=A||window.event||{};var B=A.target||A.srcElement||{nodeName:"div"};if(v&&a){B.className="slideBarVertical"}m.style["-moz-transition"]="all 0.2s ease-out";m.style["-webkit-transition"]="all 0.2s ease-out";m.style.transition="all 0.2s ease-out";o.firstChild.style["-moz-transition"]="all 0.2s ease-out";o.firstChild.style["-webkit-transition"]="all 0.2s ease-out";o.firstChild.style.transition="all 0.2s ease-out";if(B.nodeName.toLowerCase()=="li"){m.innerHTML=B.title;if(!a){m.style.left=B.style.left;o.firstChild.style.width=B.style.left}else{m.style.bottom=B.style.bottom;o.firstChild.style.height=B.style.bottom}}else{if(B.className=="slideBarRight"){var t=q;m.innerHTML=t;m.style.left=b+"px";o.firstChild.style.width=b+"px"}else{if(B.className=="slideBarLeft"){var t=g;m.innerHTML=t;m.style.left="0";o.firstChild.style.width="0"}else{if(B.className=="slideBarBottom"){var t=g;m.innerHTML=t;m.style.bottom="0";o.firstChild.style.height="0"}else{if(B.className=="slideBarTop"){var t=q;m.innerHTML=t;m.style.bottom=b+"px";o.firstChild.style.height=b+"px"}else{if(!a){var x=A.offsetX||A.layerX;var D=v||x/b*(q-g)+g;D=Math.round(D);var z=(D-g)/(q-g)*b;m.style.left=z+"px";o.firstChild.style.width=z+"px"}else{var w=A.offsetY||A.layerY;if(B.className.indexOf("slideBarVertical")!=-1){var u=b-w}else{var u=parseInt(o.firstChild.style.height,10)-w}var D=v||u/b*(q-g)+g;D=Math.round(D);var C=(D-g)/(q-g)*b;m.style.bottom=C+"px";o.firstChild.style.height=C+"px"}m.innerHTML=D}}}}}m.title=m.innerHTML;h.innerHTML="当前值为"+m.innerHTML;var t=m.innerHTML;if(t!=y){l.onchange(y,t)}}o.onclick=function(t){r(t)};o.onmouseover=o.onmousemove=function(x){x=x||window.event;var w=x.target||x.srcElement;if(w.nodeName.toLowerCase()=="div"){if(w.className=="slideBarRight"){o.title=q}else{if(w.className=="slideBarLeft"){o.title=g}else{if(w.className=="slideBarBottom"){o.title=g}else{if(w.className=="slideBarTop"){o.title=q}else{if(!a){var t=x.offsetX||x.layerX;var v=t/b*(q-g)+g;o.title=Math.round(v)}else{var y=x.offsetY||x.layerY;if(w.className.indexOf("slideBarVertical")!=-1){var u=b-y}else{var u=parseInt(o.firstChild.style.height,10)-y}var v=u/b*(q-g)+g;o.title=Math.round(v)}}}}}}};m.onmousedown=function(w){var A=this;w=w||window.event;var v=m.innerHTML;var z=w.clientX;var t=w.clientY;var x=parseFloat(A.style.left);var B=parseFloat(A.style.bottom);if(w.button==0||w.button==1){var u=function(H){m.style["-moz-transition"]="all 0s ease-out";m.style["-webkit-transition"]="all 0s ease-out";m.style.transition="all 0s ease-out";o.firstChild.style["-moz-transition"]="all 0s ease-out";o.firstChild.style["-webkit-transition"]="all 0s ease-out";o.firstChild.style.transition="all 0s ease-out";H=H||window.event;if(!a){var G=H.clientX-z;var C=x+G;if(C<0){C=0}else{if(C>b){C=b}}A.style.left=C+"px";o.firstChild.style.width=C+"px";var E=C/b*(q-g)+g}else{var G=t-H.clientY;var D=B+G;if(D<0){D=0}else{if(D>b){D=b}}A.style.bottom=D+"px";o.firstChild.style.height=D+"px";var E=D/b*(q-g)+g}var F=Math.round(E);A.innerHTML=F;A.title=F;h.innerHTML="当前值为"+F};var y=function(){baidu.un(document,"mouseup",y);baidu.un(document,"mousemove",u);var C=m.innerHTML;var D=(C-g)/(q-g)*b;if(!a){m.style.left=D+"px";o.firstChild.style.width=D+"px"}else{m.style.bottom=D+"px";o.firstChild.style.height=D+"px"}if(v!=C){l.onchange(v,C)}};baidu.on(document,"mousemove",u);baidu.on(document,"mouseup",y)}return false};function c(){var v=document.createElement("div");var t="slide-box";var u=l.__getId("box");v.className=t;v.id=u;v.onselectstart=function(){return false};v.style["-webkit-user-select"]="none";v.style["-moz-user-select"]="none";v.style["-ms-user-select"]="none";v.style["-khtml-user-select"]="none";if(!a){v.className+=" slide-horizontal";v.style.width=b+"px"}else{v.className+=" slide-vertical";v.style.height=b+"px"}v.appendChild(m);v.appendChild(o);v.appendChild(h);return v}var n=c();l.main.appendChild(n);l.getValue=function(){return m.innerHTML};l.setValue=function(u){if(u>=g&&u<=q){r({},u);var t=m.innerHTML;if(t!=u){l.onchange(t,u)}}else{alert("超出范围了，请设在"+g+"-"+q+"之间");return false}};l.onchange=new Function()}};baidu.inherits(esui.Slide,esui.Control);esui.Line=function(a){this._type="line";this._autoState=0;esui.Control.call(this,a);this.__initOption("start",{x:0,y:0});this.__initOption("end",{x:0,y:0})};esui.Line.prototype={render:function(){var m=this;var f=m.main;var b=Math.abs(m.end.x-m.start.x)+1;var q=Math.abs(m.end.y-m.start.y)+1;var c=Math.min(m.end.x,m.start.x);var n=Math.min(m.end.y,m.start.y);f.style.cssText="position:absolute; width: "+b+"px; height: "+q+"px; left: "+c+"px; top: "+n+"px; z-index: -1;";var h=this.__getStyle(f.parentNode,"position");if(h!="relative"||h!="absolute"||h!="fixed"){f.parentNode.style.position="relative"}var d=(m.end.y-m.start.y)/(m.end.x-m.start.x);var o=m.start.x;if(b>=q){for(var g=0;g<b;g++){var a=document.createElement("div");var l=g*d;if(d<0){l=g*d+q}var p=g;a.style.cssText="width: 1px; height: 1px; background-color: #000; position: absolute; top: "+l+"px; left: "+p+"px;";f.appendChild(a)}}else{for(var g=0;g<q;g++){var a=document.createElement("div");var p=g/d;if(d<0){p=g/d+b}var l=g;a.style.cssText="width: 1px; height: 1px; background-color: #000; position: absolute; top: "+l+"px; left: "+p+"px;";f.appendChild(a)}}if(!m._isRendered){esui.Control.prototype.render.call(m)}},__dispose:function(){var a=this.main;esui.Control.prototype.__dispose.call(this);a.innerHTML="";a.parentNode&&a.parentNode.removeChild(a)},__getStyle:function(b,c){b=("string"==typeof b)?document.getElementById("elem"):b;if(!b){return null}if(b.style[c]){return b.style[c]}else{if(b.currentStyle){return b.currentStyle[c]}else{if(window.getComputedStyle){var a=window.getComputedStyle(b,null);return a[c]}else{if(document.defaultView&&document.defaultView.getComputedStyle){c=c.replace(/([A-Z])/g,"-$1");c=c.toLowerCase();var a=document.defaultView.getComputedStyle(b,"");return a&&a.getPropertyValue(c)}else{return null}}}}}};baidu.inherits(esui.Line,esui.Control);esui.TreeSelect=function(a){this._type="treeSelect";this._autoState=1;esui.Control.call(this,a);this.__initOption("maxItem",null,"MAX_ITEM");this.__initOption("valueField",null,"VALUE_FILED");this.__initOption("textField",null,"TEXT_FILED")};esui.TreeSelect.MAX_ITEM=0;esui.TreeSelect.VALUE_FILED="id";esui.TreeSelect.TEXT_FILED="text";esui.TreeSelect.prototype={render:function(){var a=this;if(!a._isRendered){esui.Control.prototype.render.call(a);a._isRendered=1}a._renderTreeSelect();if(a.dataLength>0){a.setValue(a.value,true,false);a.disabled&&a.__setDisabled(true,true)}return a},_tplUl:"<ul{1}>{0}</ul>",_tplLi:'<li><div class="{2}" onclick="{6}"><span class="{3}" onclick="{7}"></span><input type="checkbox" id="{0}" value="{1}"{5}><label for="{0}">{4}</label></div>{8}</li>',_getUniqueID:function(a){return"Unique"+Math.round((new Date()).getTime()*Math.random(),0)+(a||"")},_renderTreeSelect:function(){var t=this;var f=t.main;var u=[].concat(t.datasource||[]);var g=0;var k=[];var d=t.__getStrRef();var h=t.maxItem;var n=" "+t.__getClass("icon-hasChild");var s=t.__getClass("node");var b=t.__getClass("node-icon");var p=' class="'+t.__getClass("subtree")+'"';var a=t.valueField;var m=t.textField;var c=' disabled="disabled"';var o=' checked chk="1"';var l;var r;function q(w,C,D,E){var A="",B;E||(E="");C=!!C;D=!!D;if(baidu.lang.isArray(w)){B=w.length;for(var z=0;z<B;z++){A+=q(w[z],C,D,E+z)}A=esui.util.format(t._tplUl,A,E==""?"":p)}else{C=C||!!w.selected;D=D||!!w.disabled;var v=t._getUniqueID(w[a]+E);var x=baidu.lang.isArray(w.children)&&w.children.length>0;var y="";C&&(y+=o);D&&(y+=c);g++;A=esui.util.format(t._tplLi,v,w[a],s,b+(x?n:""),w[m],y,d+"._nodeClickHandler(event, this)",d+"._nodeExpandHandler(event, this)",x?q(w.children,C,D,E):"")}return A}f.style.width="auto";f.style.height="auto";f.innerHTML=q(u);l=f.offsetWidth;if(g>h&&h>0){r=parseInt(esui.util.getStyle(f.firstChild.firstChild.firstChild,"height"));f.style.height=h*(r+1)+"px"}if(t.width){l>t.width?f.style.width=l+"px":f.style.width=t.width+"px"}t.dataLength=g},onchange:new Function(),oncollapse:new Function(),onexpand:new Function(),getValue:function(c){var h=[];var f=this;var d;var a;function b(n){var o,l,m,k;for(m=0,k=n.childNodes.length;m<k;m++){l=n.childNodes[m];o=f.__getInput(l);if(o.checked){h.push(o.value)}else{if(l.childNodes.length==2){b(l.childNodes[1])}}}}if(c===true){var g=f._getInputByValue(true);for(d=0,a=g.length;d<a;d++){if(g[d].checked){h.push(g[d].value)}}}else{for(d=0,a=f.main.childNodes.length;d<a;d++){b(f.main.childNodes[d])}}return h},clearSelection:function(d,c){var f=this.main.getElementsByTagName("input");var a=f.length;c=!!c;for(var b=0;b<a;b++){f[b].checked=c&&f[b].getAttribute("chk")=="1"}this._setHasChildStatus();d===true&&this.__onchangeHandler(null);return this},_setHasChildStatus:function(g){var l;var k;var b=true;var h=true;var d=true;var a=false;var c;var f;g||(g=this.main);if(g.nodeName=="INPUT"){l=g.parentNode.parentNode.parentNode;if(l.parentNode.nodeName=="DIV"){return false}k=l.getElementsByTagName("input");for(c=0,f=k.length;c<f;c++){b=b&&k[c].checked;k[c].disabled||(h=h&&k[c].checked);d=d&&k[c].disabled}k=this.__getInput(l.parentNode);k.checked=!d&&h||b;k.disabled=d;this._setHasChildStatus(k)}else{if(g.nodeName=="DIV"){k=g.childNodes;for(c=0,f=k.length;c<f;c++){this._setHasChildStatus(k[c])}}else{k=g.childNodes;for(c=0,f=k.length;c<f;c++){if(k[c].childNodes.length==2){this._setHasChildStatus(k[c].childNodes[1]);a=true}}if(!a&&f>0){this._setHasChildStatus(this.__getInput(k[0]))}}}return this},__getInput:function(a){return a.firstChild.getElementsByTagName("input")[0]},_getInputByValue:function(l,h){if(this.dataLength<1){return[]}l!==true&&l!==false&&(h=l);var f=this;var g=f.main.getElementsByTagName("input");var k=g.length;var a=[];if(l===true){a=g}else{h=[].concat(h);var b=h.length;var m;for(var d=0;d<b;d++){for(var c=0;c<k;c++){m=g[c].getAttribute("value");if(m==h[d]){a.push(g[c]);break}}}}return a},_selectChildren:function(g,h){var d=g.parentNode.nextSibling;var f=g.checked;var b;if(d){d=d.childNodes;for(var c=0,a=d.length;c<a;c++){b=this.__getInput(d[c]);if(h||!b.disabled){b.checked=f;this._selectChildren(b,h)}}}return this},setValue:function(c,d,g,f){f===false||(f=true);if(this.dataLength<1){return null}c=[].concat(c);var h=this._getInputByValue(false,c),a=h.length;if(d!==false&&a>0){this.clearSelection(false,false)}for(var b=0;b<a;b++){h[b].checked=f;this._selectChildren(h[b],h[b].disabled)}this._setHasChildStatus();g===true&&b>0&&this.__onchangeHandler(null);return this},cancelValue:function(a,b){return this.setValue(a,false,b,false)},disable:function(a,b){return this.__setDisabled(a,true,b)},enable:function(a,b){return this.__setDisabled(a,false,b)},__setDisabled:function(d,c,f){var g=this._getInputByValue(d,f);var a=g.length;for(var b=0;b<a;b++){g[b].disabled=c;this._disableChildren(g[b])}this._setHasChildStatus();return this},_disableChildren:function(g){var d=g.parentNode.nextSibling;var f=g.disabled;var b;if(d){d=d.childNodes;for(var c=0,a=d.length;c<a;c++){b=this.__getInput(d[c]);b.disabled=f;this._disableChildren(b)}}return this},__onchangeHandler:function(a){this.onchange(this.getValue(),a)},_nodeExpandHandler:function(b,a){var d=this.__getClass("icon-expanded");var c=[a.nextSibling.value];if(baidu.dom.hasClass(a,d)){this.expand(false,c,true,true)}else{this.expand(false,c,true,false)}},expand:function(k,o,g,h){(o===true||o===false)&&(g=o);var l=this;var c=l.__getClass("icon-expanded");var a=l.__getClass("subtree-expanded");var n=l._getInputByValue(k,o);var p=n.length;var m,f,b;o=[];for(var d=0;d<p;d++){m=n[d].previousSibling;f=m.parentNode.nextSibling;if(!f||f.nodeName!="UL"){continue}b=f.parentNode;o.push(n[d].value);if(h){baidu.dom.removeClass(m,c);baidu.dom.removeClass(f,a)}else{do{baidu.dom.addClass(m,c);baidu.dom.addClass(f,a);b=b.parentNode.parentNode;m=b.firstChild.firstChild;f=b.lastChild}while(b.nodeName!="DIV")}}g===true&&(h?l.oncollapse(o):l.onexpand(o));return l},collapse:function(a,b,c){return this.expand(a,b,c,true)},_nodeClickHandler:function(c,b){var a=this;c=c||window.event;var d=c.target||c.srcElement;if(d.nodeName=="INPUT"||(d.nodeName=="LABEL"&&(d=d.previousSibling))){if(!d.disabled){a._selectChildren(d);this._setHasChildStatus(d);this.__onchangeHandler(d.value)}}},__dispose:function(){this.onchange=null;this.onexpande=null;this.oncollapse=null;esui.Control.prototype.__dispose.call(this)}};baidu.inherits(esui.TreeSelect,esui.Control);(function(){function a(k){return !!k&&!((/^false$/i).test(k))}function c(k){return Object.prototype.toString.call(k)==="[object Object]"}var g=['<input type="{1}" id="{0}" value="{2}" name="{5}">','<label class="{4}" for="{0}">{3}{6}</label>'].join("");var f="buttonSelect";var d=["checked","disabled","readonly",""].join(",");var b=['<div ui="type:Tip;id:${id}Tip;title:${title};content:${content};arrow:${arrow};skin:${skin};"></div>'].join("");function h(k){esui.Control.call(this,k);this._type=f;this._autoState=0;this._init();this._hasTopRadio=a(this.hasTopRadio);this._hasBottomRadio=a(this.hasBottomRadio);this._hasLeftRadio=a(this.hasLeftRadio);this._hasRightRadio=a(this.hasRightRadio);this.disabled=a(this.disabled);this._single=a(this.single)}h.VALUE_FIELD="id";h.TEXT_FIELD="text";h.EACH_LINE=4;h.SKIN="gray";h.SINGLE=true;h.prototype._init=function(){this.__initOption("eachLine",null,"EACH_LINE");this.__initOption("valueField",null,"VALUE_FIELD");this.__initOption("textField",null,"TEXT_FIELD");this.__initOption("skin",null,"SKIN");this.__initOption("single",true,"SINGLE");this.__initOption("disabled",false);this.__initOption("hasTopRadio",true);this.__initOption("hasBottomRadio",true);this.__initOption("hasLeftRadio",true);this.__initOption("hasRightRadio",true);this.__initOption("fieldName",null);this.__initOption("lineSplit","<br />")};h.prototype.datasource=[];h.prototype._oraginalSelect=[];h.prototype._oraginalDisable=[];h.prototype._storage=[];h.prototype.render=function(){if(!this._isRendered){esui.Control.prototype.render.call(this);this.__setEvent()}this.main.innerHTML=this._getButtonSelectHTML();baidu.object.extend(this._controlMap,esui.init(this.main));this._setStorage();if(this.getDataLength()>0){this._setDisabled(true,this.disabled?undefined:this._oraginalDisable);if(this._oraginalSelect.length>0){this.setValue(this._oraginalSelect,{clear:false,dispatch:true})}if(this.value){this.setValue(this.value,{dispatch:true})}}return this};h.prototype.getDataLength=function(){return this._storage.length};h.prototype._setStorage=function(){this._storage=[];var k=this.main.getElementsByTagName("input");for(var m=0,l;l=k[m++];){var n={value:l.value,disabled:false,checked:false,elemInput:l,elemLabel:l.nextSibling,single:l.type==="radio",controlTip:this._controlMap[l.id+"Tip"]};n.text=n.elemLabel.innerHTML;this._storage.push(n)}};h.prototype._getClassWrap=function(n,l){n=n||1;var o=this.__getClass("button");var m=this.__getClass("button-single");var p=[this.__getClass("button-left")];var k=[this.__getClass("button-right")];if(this._hasTopRadio){if(this._hasLeftRadio){p.push(this.__getClass("border-radios-tl"))}if(this._hasRightRadio){k.push(this.__getClass("border-radios-tr"))}}if(this._hasBottomRadio){if(this._hasLeftRadio){p.push(this.__getClass("border-radios-bl"))}if(this._hasRightRadio){k.push(this.__getClass("border-radios-br"))}}return function(r,s){var q=[o];if(r%n===0){q=q.concat(p)}if(r%n===n-1||r===l-1){q=q.concat(k)}if(s){q.push(m)}return q.join(" ")}};h.prototype._getButtonSelectHTML=function(){var o=[].concat(this.datasource||[]);var s=o.length;var l=this.eachLine||s;var t=esui.util.getGUID;var u=this.fieldName||t();var w=this._getClassWrap(l,s);var r=[];this._oraginalSelect=[];this._oraginalDisable=[];for(var p=0,n;n=o[p];p++){var k=t();var m=n[this.valueField];if(n.checked||n.selected){this._oraginalSelect.push(m)}if(n.disabled){this._oraginalDisable.push(m)}var q=n.single||(n.single!==false&&this._single);var y="";var x=n.tip;if(x){var v={};if(typeof x==="string"){v.content=x}else{v=baidu.object.clone(x)}v.title=baidu.string.encodeHTML(v.title||"");v.content=baidu.string.encodeHTML(v.content||"");v.id=k;"arrow" in v||(v.arrow=1);"skin" in v||(v.skin="help");y=esui.util.format(b,v)}r.push(esui.util.format(g,k,q?"radio":"checkbox",n[this.valueField],n[this.textField],w(p,q),u,y));if(p%l===l-1&&p<s-1){r.push(this.lineSplit)}}return r.join("")};h.prototype._getFieldValue=function(n,k){var m=[];if(this.getDataLength()<1){return m}for(var l=0,o;o=this._storage[l++];){if(k||o.checked){m.push(o[n])}}return m};h.prototype.getValue=function(k){return this._getFieldValue("value",k)};h.prototype.getTip=function(k){return(this._storage[this._storage.length-k-1]||{}).controlTip};h.prototype.getText=function(k){return this._getFieldValue("text",k)};h.prototype._getValueIndex=function(p){var q=this._storage;var m=[];if(p===undefined){for(var n=0;q[n];n++){m.push(n)}}else{p=[].concat(p);for(var n=0,o;o=q[n];n++){for(var l=0,k;k=p[l];l++){if(k==o.value){m.push(n);p.splice(l,1);break}}}}return m};h.prototype._modifyButton=function(k){k=k||{};var o=this._getValueIndex(k.targetValue);if(o.length<1){return this}var p=this._storage;var q=function(t){if(d.indexOf(k.field+",")>-1){t.elemInput[k.field]=k.value}t[k.field]=k.value;if(k.className){baidu.dom[(k.value?"add":"remove")+"Class"](t.elemLabel,k.className)}};var r=null;var s=false;for(var n=0,m;m=p[o[n++]];){s=s||m.single;m[k.field]===k.value||q(m);r=m}if(s&&k.field==="checked"&&k.value===true){this.clearSelection();for(var n=0;m=p[o[n++]];){m.single&&(r=m)}q(r);for(var n=0;m=p[o[n++]];){m.single||q(m)}}if(k.eventName&&r){var l=this["_on"+k.eventName+"Handler"];l&&l.call(this,r.value,r.text)}return this};h.prototype._setDisabled=function(m,l){var k=this;return k._modifyButton({targetValue:l,field:"disabled",value:m,className:k.__getClass("button-disabled")})};h.prototype.disable=function(){var k=[].slice.call(arguments,0);k.unshift(true);return this._setDisabled.apply(this,k)};h.prototype.enable=function(){var k=[].slice.call(arguments,0);k.unshift(false);return this._setDisabled.apply(this,k)};h.prototype._onchangeHandler=function(k,l){this.onchange.call(this,this.getValue(),k,l);return this};h.prototype.onchange=function(){};h.prototype.__setEvent=function(){var k=this;k.main.onclick=function(l){l=l||window.event;var m=l.target||l.srcElement;if(m&&m.nodeName.toLowerCase()==="input"){if(!m.disabled){k._setValue(m.checked,m.value,{clear:m.type==="radio"&&m.checked,dispatch:true})}}};return k};h.prototype._setValue=function(m,l,k){if(this.getDataLength()<1){return this}m===false||(m=true);if(c(l)){k=l;l=undefined}k=k||{};if(k.clear){this.clearSelection()}return this._modifyButton({targetValue:l,value:m,field:"checked",className:this.__getClass("button-activation"),eventName:k.dispatch?"change":null})};h.prototype.clearSelection=function(k){k=k||{};k.recover=!!k.recover;this._setValue(false,{dispatch:k.dispatch&&!k.recover});k.recover&&this._setValue(true,this._oraginalSelect,{dispatch:k.dispatch});return this};h.prototype.setValue=function(){var k=[].slice.call(arguments,0);k.unshift(true);return this._setValue.apply(this,k)};h.prototype.cancelValue=function(){var k=[].slice.call(arguments,0);k.unshift(false);return this._setValue.apply(this,k)};h.prototype.__dispose=function(){esui.Control.prototype.__dispose.call(this);this.onchange=null};baidu.inherits(h,esui.Control);esui.ButtonSelect=h})();esui.util.getStyle=function(b,a){if(!+"\v1"){a=a.replace(/\-(\w)/g,function(c,d){return d.toUpperCase()});return b.currentStyle[a]}else{return document.defaultView.getComputedStyle(b,null).getPropertyValue(a)}};esui.PlainView=function(a){this._type="plainView";this._autoState=0;esui.Control.call(this,a);this.__initOption("valueField",null,"VALUE_FILED");this.__initOption("textField",null,"TEXT_FILED");this.__initOption("delete",true,"DELETE");this.autoLocate=this.convertBoolean(this.autoLocate||false);this.setData(this.datasource)};esui.PlainView.VALUE_FILED="id";esui.PlainView.TEXT_FILED="text";esui.PlainView.DELETE=true;esui.PlainView.prototype={setData:function(c){var b=this;var a=b.valueField;var d={};b.datasource=c=[].concat(c||[]);return b},render:function(){var h=this;if(!h._isRendered){esui.Control.prototype.render.call(h);h._isRendered=1;h.height&&(h.main.style.height=h.height);h.width&&(h.main.style.width=h.width);h._setEvent()}var a=h.valueMap={};h.checkedCount=0;h.main.innerHTML=h._getPlain();var c=h.__getClass("last");var g=h.main.getElementsByTagName("span");var d=h.dataLength=g.length;if(d){h.main.lastChild.className=c}while(d--){var m=g[d];var l=m.getAttribute("data-value");var b=m.parentNode.parentNode.parentNode;var k=b.parentNode;var f={valid:true,text:m.previousSibling.data};if(/dt/i.test(b.nodeName)){f.node=k;k.value=l;k.sub||(k.sub=[])}else{f.node=b;f.parent=k;b.value=l;if(k.sub){k.sub.push(l)}else{k.sub=[l]}}a[l]=f}h.cancelValue(true,{});if(h.dataLength>0){h.setValue(h.value,{})}return h},encodeHTML:function(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},convertBoolean:function(a){if(a==="false"){a=false}else{if(a==="true"){a=true}}return a},_tplDD:'<d{0}><a title="{2}"><div>{2}<span data-value="{1}" {3}>×</span></div></a></d{0}>',_getPlain:function(){var o=this;var h=o.datasource;var m=[];var r=o.valueField;var c=o.textField;var k=h.length;var n=o.convertBoolean;var q=o.__getClass("row-clear");var g=(function(){var u=o.encodeHTML;var t=n(o["delete"])?"":'style="display:none"';var l=o._tplDD;return function(){var v=[].slice.call(arguments,0);v.push(t);v.unshift(l);v[3]=u(v[3]);return esui.util.format.apply(null,v)}})();while(k--){var f=h[k];var s=["<dl>"];s.push(g("t",f[r],f[c]));var a=f.children;if(a){for(var d=0,b=a.length;d<b;d+=1){var p=a[d];s.push(g("d",p[r],p[c]))}}s.push('<div class="'+q+'"></div>');s.push("</dl>");m.unshift(s.join(""))}return m.join("")},_setEvent:function(){var b=this;var a=b.__getClass("last");var c=b.valueMap;b.main.onclick=function(g){g=g||window.event;var d=g.target||g.srcElement;if(/span/i.test(d.nodeName)){var f=d.getAttribute("data-value");b.checkedCount-=1;b.cancelValue(f,{dispatch:true})}}},_hasValidChild:function(c){var d=this;var f=d.valueMap;var b=c.sub;var a=b.length;while(a--){if(f[b[a]].valid){return true}}return false},isAllChecked:function(){return this.checkedCount===this.dataLength},onchange:new Function(),onset:new Function(),ondelete:new Function(),getValue:function(d){var f={};var k={};var m=[];var l=this;var c=l.valueMap;var b=d==="detail";for(var h in c){var o=c[h];if(d===true){f[h]=3}else{if(o.valid){if(o.parent){var n=o.parent.value;if(k[n]){k[n]++}else{k[n]=1}}else{k[h]=k[h]||0}f[h]=o.parent?2:1}}}for(var h in k){var a=c[h].node.sub;var g=a.length;if(k[h]===g){if(!b){while(g--){f[a[g]]=0}}}else{f[h]=0}}for(var h in f){if(f[h]>0){m.push(h)}}return m},getText:function(c,b){var g=[];var f=this;var a=b||-1;var h=f.valueMap;for(var d in h){if(a&&(h[d].valid||c)){g.push(h[d].text);a--}}return g},locateItem:function(f){var d=this;if(!d.autoLocate){return false}var a=d.main;var c=a.scrollTop-f.offsetTop+a.offsetTop+a.clientHeight;var b=0;b=c<0?c-a.clientHeight:b;b=c>a.clientHeight?c-a.clientHeight:b;a.scrollTop-=b},setValue:function(m,a,o){o===false||(o=true);var k=this;var h=m;var n;var b=k.valueMap;var d=k.__getClass("last");a=a||{};a.append===false||(a.append=true);if(m===true){a.notLocate=true;k.setValue(k.getValue(true),a,o)}else{if(o&&!a.append){k.cancelValue(true,{notLocate:true})}m=[].concat(m||[]);var f=m.length;while(f--){var p=b[m[f]];if(!p){continue}var c=p.node;var l=p.parent;var g=c;p.valid=o;if((c.style.display==="none"?false:true)!==o){k.checkedCount+=o?1:-1}c.style.display=o?(l?"inline-block":"block"):"none";if(o){if(l){k.setValue(l.value,{onlyParent:true,notLocate:true},true)}else{if(!a.onlyParent){k.setValue(c.sub,{notLocate:true})}}while(g=g.previousSibling){if(g.className===d){g.className=null;c.className=d;break}}g=c;if(g.className!==d){while(g=g.nextSibling){if(g.style.display!=="none"){break}}if(!g){c.className=d}}}if(!o){if(l&&!a.onlySub){if(!k._hasValidChild(l)){k.setValue(l.value,{notLocate:true},false)}}else{if(!l){k.setValue(c.sub,{onlySub:true,notLocate:true},false);if(c.className===d){c.className=null;while(g=g.previousSibling){if(g.style.display!=="none"){g.className=d;break}}}}}}f===0&&!a.notLocate&&o&&k.locateItem(c)}a.dispatch===true&&k.__onchangeHandler(o,h)}return this},cancelValue:function(b,a){return this.setValue(b,a,false)},__onchangeHandler:function(b,f){var d=this;var a=d.getValue();var c;if(b){c=d.onset(a,f)}else{c=d.ondelete(a,f)}if(c===false){d.setValue(f,{},!b)}else{this.onchange(a,f)}},__dispose:function(){this.ondelete=null;this.onset=null;this.onchange=null;esui.Control.prototype.__dispose.call(this)}};baidu.inherits(esui.PlainView,esui.Control);esui.PlainSelect=function(a){this._type="plainSelect";this._autoState=0;esui.Control.call(this,a);this.__initOption("valueField",null,"VALUE_FILED");this.__initOption("textField",null,"TEXT_FILED");this.__initOption("perLine",null,"PER_LINE");this.__initOption("skin",null,"SKIN");this.__initOption("selectAll",true);this.__initOption("disabled",false);this.__initOption("searchable",false);this.__initOption("single",false);this.__initOption("name",esui.util.getGUID());this.perLine=parseInt(this.perLine,10);this.perLine=this.perLine<1?4:this.perLine;this.skin=this.skin||[];this.setData(this.datasource)};esui.PlainSelect.VALUE_FILED="id";esui.PlainSelect.TEXT_FILED="text";esui.PlainSelect.PER_LINE=4;esui.PlainSelect.SKIN="layer";esui.PlainSelect.prototype={setData:function(c){var b=this;var a=b.valueField;var d={};b.datasource=c=[].concat(c||[]);return b},render:function(){var p=this;p.disabled=p.convertBoolean(p.disabled);p.searchable=p.convertBoolean(p.searchable);p.selectAll=p.convertBoolean(p.selectAll);p.single=p.convertBoolean(p.single);if(!p._isRendered){esui.Control.prototype.render.call(p);p._isRendered=1;if(p.single){baidu.addClass(p.main,p.__getClass("single"))}p.width&&(p.main.style.width=p.width);p.height&&(p.main.style.height=p.height);p._setEvent()}var d=p.valueMap={};p.checkedCount=0;p.subCount=0;var h=p.skin.join(",");var s={name:/plain/i.test(h)?RegExp.lastMatch:"",inline:/inline/i.test(h)&&/plain/i.test(h)};switch(s.name){case"plain":s.getHTMLFn=p._getPlainHTML;s.scrollWidth=20;s.perLine=1;s.parseHTML=function(w,x,u){u=u||{};var v=w.parentNode.parentNode.parentNode;var y={node:w,text:w.nextSibling.firstChild.data};if(/dt/i.test(v.nodeName)){w.sub||(w.sub=[])}else{v=v.parentNode.firstChild.firstChild.firstChild.firstChild;y.parent=v;if(v.sub){v.sub.push(x)}else{v.sub=[x]}}return y};break;default:s.getHTMLFn=p._getLayerHTML;s.scrollWidth=0;s.perLine=p.perLine;s.parseHTML=function(v,w){var u=v.parentNode;var x={node:v,text:v.nextSibling.firstChild.data};if(/div/i.test(u.nodeName)){v.sub||(v.sub=[])}else{u=u.parentNode.parentNode.parentNode.previousSibling.firstChild;x.parent=u;if(u.sub){u.sub.push(w)}else{u.sub=[w]}}return x}}p.main.innerHTML=p._getHTML(s);p.searchResultBox=p.main.firstChild.firstChild.lastChild;if(!p.searchable){p.main.firstChild.style.display="none"}var g=p.__getClass("last");p.main.lastChild.className=g;p._selectAllButton=document.getElementById(p.__getId("selectAll"));var o=p.main.lastChild.getElementsByTagName("input");var n=p.dataLength=o.length;while(n--){var t=o[n];var q=t.value;d[q]=s.parseHTML.call(p,t,q,s)}for(n in d){var f=d[n].node;if(f.sub){p.subCount+=1;if(f.sub.length===0){f.sub=null}else{p.subCount+=1}}}if(p.dataLength>0){var r=p.main.lastChild;var m=r.getElementsByTagName("dd");if(m.length<1){m=r.getElementsByTagName("dt")}m=m[0].firstChild.firstChild;var b=p.perLine;if(s.inline){b+=1}var c=parseInt(esui.util.getStyle(m,"width"),10)||88;var l=parseInt(esui.util.getStyle(m,"height"),10)||18;var k=(c+13)*b+40+s.scrollWidth;p.main.style.width=k+"px";p.setValue(p.value,{});if(s.inline){o=p.main.lastChild.getElementsByTagName("dt");n=o.length;b-=1;while(n--){var t=o[n].firstChild.firstChild;var a=t.firstChild.sub;if(a){k=(l+9)*(Math.floor(a.length/b-0.1)+1);k-=9;t.style.lineHeight=t.style.height=k+"px"}}}}if(!p.selectAll||p.dataLength<1){p._selectAllButton.parentNode.style.display="none"}return p},_tplItem:'<{0} title="{2}"><input type="{6}" value="{1}" id="{3}" name="{4}" {5}><label for="{3}">{2}</label></{0}>',_tplRow:'<div class="{1}">{0}<div class="{2}"></div></div>',_tplSearch:'<div class="{0}"><a><button></button><div class="{1}"><input type="text" name="searchKey"></div><div class="{2}"></div></a></div>',_tplResult:'<input type="checkbox" value="{0}" id="_search_{2}" name="{2}"><label for="_search_{2}">{1}</label>',_tplPreResult:"<span>{0}</span><span>&gt;</span>",encodeHTML:function(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},convertBoolean:function(a){if(a==="false"){a=false}else{if(a==="true"){a=true}}return a},_getHTML:function(c){c=c||{};var s=this;var t=s.datasource;var q=s.single;var g=c.getHTMLFn;var f=[];var d=c.perLine;var a=s.valueField;var k=s.textField;var b=' class="'+s.__getClass("noSub")+'"';var l=s.__getClass("row");var u=s.__getClass("row-odd");var r=s.__getClass("row-clear");var v=s.name;var o=(function(){var A=s.encodeHTML;var z=s.disabled?'disabled="disabled"':"";var x=s._tplItem;var y=q?"radio":"checkbox";v+=q?"_unique_radio_"+esui.util.getGUID():"";var w=0;return function(){var C=[].slice.call(arguments,0);var B=C.slice(3);C.length=3;C.push(esui.util.getGUID());C.push(v+q?w++:"");C.push(z);C.push(B[0]||y);C.unshift(x);C[1]=A(C[1]);C[2]=A(C[2]);return esui.util.format.apply(null,C)}})();var n=t.length;var p=[];while(n--){var h=t[n];p.unshift(g.call(s,n,h,b,a,k,o));if(n%d===0&&p){f.unshift(esui.util.format(s._tplRow,p.join(""),l+(f.length%2?" "+u:""),r));p.length=0}}f.unshift("<dl>");f.push("</dl>");var m=s.__getId("selectAll");f.unshift(esui.util.format(s._tplRow,'<input type="checkbox" id="'+m+'" /><label for="'+m+'">全选</label>',l+" "+u+" "+s.__getClass("selectAll"),r));f.unshift(esui.util.format(s._tplSearch,s.__getClass("search"),s.__getClass("search-key"),s.__getClass("search-result")));return f.join("")},_getLayerHTML:function(h,f,m,n,c,g){var p=[];p.push("<dd><a");var a=f.children;a||(p.push(m));p.push(">");p.push(g("div",f[n],f[c],"checkbox"));if(a){var o=0;p.push('<table cellspacing="0"><tbody>');for(var d=0,b=a.length;d<b;d+=1){if(o==0){p.push("<tr>")}var k=a[d];p.push(g("td",k[n],k[c]));o+=1;if(o==2){o=0;p.push("</tr>")}}if(o){p.push("</tr>")}p.push("</tbody></table>")}p.push("</a></dd>");return p.join("")},_getPlainHTML:function(h,f,m,o,c,g){var n=[];n.push("<dt><a");var a=f.children;a||(n.push(m));n.push(">");n.push(g("div",f[o],f[c],"checkbox"));n.push("</a></dt>");if(a){for(var d=0,b=a.length;d<b;d+=1){var k=a[d];n.push("<dd><a>");n.push(g("div",k[o],k[c]));n.push("</a></dd>")}}return n.join("")},_setEvent:function(){var b=this;var a=b.__getClass("last");var c=b.valueMap;b.main.onclick=function(h){h=h||window.event;var d=h.target||h.srcElement;if(/input/i.test(d.nodeName)){var g=d.type;if(/selectAll/i.test(d.id)){var f=b.getValue();b.setValue(true,{dispatch:!d.checked||!b.single},d.checked);if(b.single&&d.checked){b.setValue(f,{dispatch:true},true)}}else{if(/checkbox|radio/i.test(g)){if(/_search/i.test(d.id)){d.parentNode.removeChild(d.nextSibling);d.parentNode.removeChild(d)}else{b.checkedCount+=d.checked?1:-1}b.setValue(d.value,{dispatch:true,event:true},d.checked)}else{setTimeout(function(l,k){var n=d.value;if(n!==k){b.searchKey(d.value)}d.onblur=function(){l=true};var m=arguments.callee;setTimeout(function(){if(!l){m(l,n)}},300)},300)}}}else{if(/button/i.test(d.nodeName)){b.searchKey(d.nextSibling.firstChild.value)}}}},searchKey:function(q){q=q||"";q=q.split(/\s*[,，]\s*/);var g=this;var r={};var m;var b=g.valueMap;var o=g._tplPreResult;var p=g._tplResult;var h=[];var k=esui.util.format;var a=g.pre?k(o,g.pre):"";for(var f=0,c=q.length;f<c;f+=1){var n=q[f];for(var d in b){var m=b[d];if(!r[d]&&!m.node.checked&&m.text.indexOf(n)>-1){r[d]=["<b>",m.text,"</b>"];if(m.parent){r[d].unshift(k(o,b[m.parent.value].text))}r[d].unshift(a);h.push(k(p,d,r[d].join(""),esui.util.getGUID()))}}}g.searchResultBox.innerHTML=h.join("")},_isAllChildChecked:function(c){var d=this;var f=d.valueMap;var b=c.sub;var a=b.length;while(a--){if(!f[b[a]].node.checked){return false}}return true},_hasChildChecked:function(c){var d=this;var f=d.valueMap;var b=c.sub;var a=b.length;while(a--){if(f[b[a]].node.checked){return true}}return false},isAllChecked:function(){return this.checkedCount===this.dataLength},onchange:new Function(),onselect:new Function(),ondeselect:new Function(),getValue:function(c){var d={};var h=[];var g=this;var b=g.valueMap;var a=c==="detail";var k=g.__getClass("partial");for(var f in b){var m=b[f];if(c===true){d[f]=3}else{if(m.node.checked&&m.node.className!==k){if(a){d[f]=1}else{if(m.parent){var l=m.parent.value;if(!d[l]){if(b[l].node.checked&&b[l].node.className!==k){d[l]=2}else{d[f]=1}}}else{d[f]=1}}}}}for(var f in d){h.push(f)}return h},getText:function(d,c){var h=[];var g=this;var b=c||-1;var k=g.valueMap;var a=g.__getClass("partial");for(var f in k){if(b&&(k[f].node.checked&&k[f].node.className!==a||d)){h.push(k[f].text);b--}}return h},setValue:function(l,b,p){p===false||(p=true);var h=this;var n=h.single;var g=l;var o;var c=h.valueMap;b=b||{};b.append===false||(b.append=true);if(l===true){h.setValue(h.getValue(true),b,p)}else{var m=h.__getClass("partial");if(p&&!b.append){h.cancelValue(true)}var l=[].concat(l||[]);var f=l.length;while(f--){var q=c[l[f]];if(!q){continue}var d=q.node;var k=q.parent;var a=d.sub;if(d.checked!==p){h.checkedCount+=p?1:-1}h._selectAllButton.checked=(h.checkedCount===h.dataLength||(n&&h.checkedCount===h.subCount));d.checked=p;if(n){if(p){if(a&&!b.onlyParent){h.setValue(d.value,{onlyParent:true},false);h.setValue(a.slice(-1)[0],{},true)}else{if(!b.onlySub&&k){h.setValue(k.sub,{onlySub:true},false);h.setValue(d.value,{onlySub:true},true);k.className=m;h.setValue(k.value,{onlyParent:true},true)}}}else{if(a&&!b.onlyParent){h.setValue(a,{onlySub:true},false);d.className=null}}}else{if(p){if(k&&!b.onlySub){if(h._isAllChildChecked(k)){k.className=null}else{k.className=m}h.setValue(k.value,{onlyParent:true},true)}if(a&&!b.onlyParent){h.setValue(a,{onlySub:true})}}else{if(d.className===m&&!b.onlyParent&&b.event){d.className=null;h.setValue(d.value,{},true);p=!n}else{if(d.className===m){d.className=null}if(k&&!b.onlySub){if(h._hasChildChecked(k)){k.className=m}else{k.className=null;h.setValue(k.value,{onlyParent:true},false)}}if(a&&!b.onlyParent){h.setValue(a,{onlySub:true},false)}}}}}b.dispatch===true&&h.__onchangeHandler(p,g)}return this},cancelValue:function(b,a){return this.setValue(b,a,false)},__onchangeHandler:function(b,f){var d=this;var a=d.getValue();var c;if(b){c=d.onselect(a,f)}else{c=d.ondeselect(a,f)}if(c===false){d.setValue(f,{},!b)}else{this.onchange(a,f)}},__dispose:function(){this.ondeselect=null;this.onselect=null;this.onchange=null;esui.Control.prototype.__dispose.call(this)}};baidu.inherits(esui.PlainSelect,esui.Control);esui.Table.EditorManager.add("select",new esui.Table.Editor({type:"select",tpl:'<div ui="type:Select;id:{5}" style="margin-right: 0.5em;"></div><div ui="id:{0};type:Button;skin:em" style="display: none;">{2}</div><div ui="id:{1};type:Button;">{3}</div><div id="{4}" class="ui-table-editor-error"></div>',selectId:"_ctrlTableEditorSelectInput",initLayer:function(){this.fillLayer([this.selectId]);var a=this.initLayerControl();this.selectCtrl=a[this.selectId];this.initButton(a)},setValue:function(a){var b=this.currentOptions.field;this.selectCtrl.datasource=b.datasource;this.selectCtrl.value=a;this.selectCtrl.width=b.width||100;this.selectCtrl.render();this.selectCtrl.onchange=this.getOkHandler()},getValue:function(){return this.selectCtrl.getValue()},getOkHandler:function(){var a=this;return function(c){if(a.currentOptions.field.validator){var b=a.currentOptions.field.validator.call(a.currentTable,c,a.currentTable.datasource[a.currentOptions.rowIndex]);if(b){a.setError(b);return}}a.doOk()}}}));(function(a){a.slider=function(b){var C=parseInt($.browser.version,10);C=document.all&&C<9?false:true;var B=false;var A=b.per;var n=$("#"+b.outerId);var s=$("#"+b.innerId);var q=b.animInv||300;var y=b.slideInv||5000;var v=b.css||false;var k=b.dot||{visible:true,event:"click",pos:"center",offsetLeft:0};var z=b.onDotChange||function(){};var p=0;var c=b.num||5;var d=function(){if(k.visible){var D=b.innerId+"Dots";var E=o(D)+1;var F=$("#"+D).find("span");$(F[E-1]).removeClass("current");if(E<c){$(F[E]).addClass("current")}else{$(F[0]).addClass("current")}}z(F.filter(".current").index())};var u=function(E){var H=E.container||n;var G=E.event||"scrollLeft";var D=E.org;var F=Math.floor(E.interval/30)+1;var I=F;var J=setInterval(function(){if(--I<0){clearInterval(J);if(E.callback){E.callback()}}else{D+=(E.dest-E.org)/F;if(G==="scrollLeft"){H.scrollLeft(D)}else{H.scrollTop(D)}}},E.interval/F)};var l=function(){if(!B){if(C){n.animate({scrollLeft:A},q,"linear",function(){s.append(s.children().first());n.scrollLeft(0)})}else{u({org:$(n).scrollLeft(),dest:A,interval:q,callback:function(){s.append(s.children().first());n.scrollLeft(0)}})}d()}};var x=function(){if(!B){if(C){n.animate({scrollTop:A},q,"linear",function(){s.append(s.children().first());n.scrollTop(0)})}else{u({event:"scrollTop",interval:q,org:$(n).scrollTop(),dest:A,callback:function(){s.append(s.children().first());n.scrollTop(0)}})}d()}};var w=function(){n.mouseover(function(){B=true}).mouseout(function(){B=false})};var m=function(D){n.css("overflow","hidden");n.css(D,A+"px");s.css(D,(A*c)+"px")};var o=function(D){var F=$("#"+D).find("span");var E=0;for(;E<F.length;++E){if(F[E].className.indexOf("current")>-1){return E}}return -1};var r=function(D,E){var F=$("#"+D).find("span");$(F).each(function(H,G){$(G).bind(k.event,function(){var I=o(D);if(I!==H){$(F[I]).removeClass("current");$(G).addClass("current");if(E==="height"){h(I,H)}else{if(E==="width"){g(I,H)}}}})})};var h=function(G,D){var F=q*0.3*(D-G);if(G>D){for(var E=0;E<G-D;E++){s.prepend(s.children().last())}n.scrollTop(A*(G-D));if(C){n.animate({scrollTop:0},q-F,"linear")}else{u({event:"scrollTop",interval:q-F,org:A*(G-D),dest:0})}}else{if(C){n.animate({scrollTop:A*(D-G)},q+F,"linear",function(){for(var H=0;H<D-G;H++){s.append(s.children().first())}n.scrollTop(0)})}else{u({event:"scrollTop",interval:q+F,org:n.scrollTop(),dest:A*(D-G),callback:function(){for(var H=0;H<D-G;H++){s.append(s.children().first())}n.scrollTop(0)}})}}clearInterval(p);p=setInterval(x,y);z(D)};var g=function(H,D,G){var F=q*0.3*(D-H);if(H>D){for(var E=0;E<H-D;++E){s.prepend(s.children().last())}n.scrollLeft(A*(H-D));if(C){n.animate({scrollLeft:0},q-F,"linear")}else{u({interval:q-F,org:A*(H-D),dest:0})}}else{if(C){n.animate({scrollLeft:A*(D-H)},q+F,"linear",function(){for(var I=0;I<D-H;++I){s.append(s.children().first())}n.scrollLeft(0)})}else{u({org:n.scrollLeft(),dest:A*(D-H),interval:q+F,callback:function(){for(var I=0;I<D-H;I++){s.append(s.children().first())}n.scrollLeft(0)}})}}if(!G){clearInterval(p);p=setInterval(l,y)}z(D)};var t=function(){n.css("position","relative");var J="";var D=k.offsetLeft||0;if(k.pos==="right"){J="right:18px"}else{if(k.pos==="left"){J="left:18px"}else{if(k.pos==="center"){var I=n.css("width");var F=c<8?60:c*8;I=I.substring(0,I.indexOf("px"));I=parseInt(I,10);J="left:"+(I/2-F-D)+"px"}}}var H=['<div id="'+b.innerId+'Dots" ','class="slide_dot" style="'+J+'">'];for(var G=1;G<=c;G++){H.push('<span class="dot_list');if(G===1){H.push(" current")}H.push('"></span>')}H.push("</div>");n.parent().append(H.join(""));var E=b.innerId+"Dots";if(c<2){$("#"+E).hide()}return E};var f=function(D){w();if(v){m(D)}if(k.visible){r(t(),D)}};return{horizontal:function(D){f("width");if(!D&&s.width()>A){p=setInterval(l,y)}},vertical:function(D){f("height");if(!D&&s.height()>A){p=setInterval(x,y)}},stop:function(){if(p<=0){clearInterval(p)}n.stop(true,true)},jumpTop:h,jumpLeft:g}}})(window.mf||window||exports||module||{});(function(){mf.Upload=function(){var l=-1;var s=1000;var t="";var b={};var q="";var d;var g=[];var r={};var m={};function h(y,v,x,w){y=typeof y=="string"?document.getElementById(y):y;w=w||y;if(document.all){y.attachEvent("on"+v,function(){x.apply(w,arguments)})}else{y.addEventListener(v,function(){x.apply(w,arguments)},false)}}function u(y){var z=y.id||"";var x=document.getElementById(z);var w=y.effect||"change";var v;if(x){g.push(x);r[z]=y.callback;if(w==="change"){v=x}else{v=document.getElementById(y.btnId)}if(v){h(v,w,function(){if(x.value===""){return}var D=n(y.vali||[]);if(D.result){for(var A=0;A<g.length;++A){if(g[A].id!==z){g[A].disabled=true}}if(y.beforeSubmit){y.beforeSubmit()}var C=document.getElementById(t);C.action=y.action||q;var B=location.search.match(/outId=(\d+)(?=\&|$)/);if(B&&!/outId=(\d+)(?=\&|$)/.test(C.action)){C.action+=(C.action.indexOf("?")>=0?"&":"?")+"outId="+B[1]}C.submit();d=z;mf.loading();l=window.setInterval(f,s)}else{c(z,D.msg)}})}}}function n(w){var x=[];var v=true;return{result:v,msg:x.join("")}}function f(){var D=document.getElementById(b.frameId);D=D.contentWindow.document;var y=D.getElementById(b.fetchId);var I="";var H=r[d];if(y){I=y.innerHTML}else{I=D.body.innerHTML}I=I.replace(/^\s+/,"").replace(/\s+$/,"");if(I!==""){I=I.replace(b.filter,"");var G=I.indexOf("{");var C=I.lastIndexOf("}");I=I.substring(G,C+1);D.body.innerHTML="";window.clearInterval(l);mf.loaded();document.getElementById(t).action=q;l=-1;for(var z=0;z<g.length;++z){if(g[z].id!==d){g[z].disabled=false}}var v;try{v=T.json.decode(I)}catch(F){}if(!v||!v.model){c(d,"上传文件失败！请稍候再试或联系管理员解决。");return}v=v.model;var B="";if(v.sessionTimeout){location.reload()}else{if(v.formError){var A=[];var x=v.formError;for(var E in x){A.push(x[E])}if(v.lbsUpload){H({lbsUpload:A.join("，")})}else{if(v.showDetail){var w='<a target="_blank" href="{1}">{0}</a>';A.push(mf.f(w,"查看详情",v.showDetail))}c(d,A.join("，"))}}else{mf.uploadSucceed();if(v.file){B=v.file}c(d,"");if(v.locations){if(H){H(B,v.locations)}return}}}p(d+"Link",B);a(d+"View",B==="");o("lastName_"+d,B);if(H&&B!==""){H(B,v)}}}function p(x,w){var v=document.getElementById(x);if(v){v.getElementsByTagName("a")[0].href=w;v.style.display=w===""?"none":m[d]}}function a(x,w){var v=document.getElementById(x);if(v){v.style.display=w?"none":m[d]}}function o(x,v){var w=document.getElementById(x);if(w){w.value=v}}function c(x,w){x="lastName_"+x+"Error";var v=document.getElementById(x);if(v){v.innerHTML=w}}function k(x){var z=x.id;var y=x.btnId||(x.id+"Upload");var v=document.getElementById(y);var w=document.getElementById(z);m[z]=x.style||"block";if(v){if(document.all){w.className=x.className||"myFile";w.hideFocus=true}else{w.style.display="none";h(v,"click",function(){w.click()})}v.style.display=m[z]}}return{reg:function(v){var x=v.ids||[];if(t===""){t=v.formId||"myForm"}var z=document.getElementById(t);if(!z){return}if(q===""){q=v.action||z.action}if(!b.frameId){b=v.frameOpt||{frameId:"hiddenFrame",fetchId:"",errorMsg:"failed",filter:/<\/{0,1}[a-z]+>/g};if(!document.getElementById(b.frameId)){var y=document.createElement("iframe");y.id=b.frameId;y.name=b.frameId;y.style.display="none";document.body.appendChild(y)}}if(x.length===0){x=[v.info]}for(var w=0;w<x.length;++w){u(x[w]);if(!(x[w].hide)){k(x[w])}}}}}})();(function(){mf.postError=function(f){var c=f.model;var g={};var h=f.keys||[];for(var d in c){var b=mf.m.utils.deepSearch(h,d,"key");var l=b>-1?h[b].dom:d;var k=$("#"+l+"Error");if(k.length){k.html(c[d]).show();k[0].scrollIntoView()}else{g[d]=c[d]}}if(!$.isEmptyObject(g)){mf.formErrorHandler({formError:g,reflect:f.reflect})}};var a=mf.m.commandElement;if(a){mf.clickCommand=a("click");mf.clickCommand.register({cmd:"toggleExpend",handle:function(c){var h=document.getElementById(c.target);if(!h){return true}var g=this.target;var d=g.txtOpen||c.open;var l=g.txtClose||c.close;var k=c.method||"display";var b=h.onshow;var f=h.onhide;if(g.isOpened){if(f&&f()===false){return true}d=d||g.innerHTML||"收起";g.isOpened=false;g.txtOpen=d;g.innerHTML=l||"展开";k==="visibility"?h.style.visibility="hidden":h.style.display="none"}else{if(b&&b()===false){return true}l=l||g.innerHTML||"展开";g.isOpened=true;g.txtClose=l;g.innerHTML=d||"收起";if(/absolute|fixed/i.test($(h).css("position"))){h.style.top=($(g).offset().top-$(g.parentNode).offset().top+26)+"px"}k==="visibility"?h.style.visibility="visible":h.style.display="block"}}})}})();mf=typeof mf==="undefined"?{}:mf;(function(){var c=function(o,n,k){var m={};for(var l in o){m[l]=o[l]}if(n){m.authority=n}if(k){m.noAuthLocation=k}return m};mf.MAP={__module:{model:{},authority:{},commandElement:{},utils:{},validate:{},processBar:{},uiOperateButton:{},uiFilterSelect:{},preview:{"private":true}}};mf.MAP.index=(function(){var n={__module:{},__mockData:{config:{}}};var m=function(r,q,p){r=r||{};q="LOGIN"+(q?"&"+q:"");p=p||"/index/login";return c(r,q,p)};var k=function(p){return{nav1:"index",list:[{nav2:"/index/dailyReport"}],label:p||""}};n.index={login:k("登录"),dailyReport:m(k("日况")),__mockData:{}};var l=function(p){return{nav1:"media",list:[{nav2:"/media/site"},{nav2:"/media/sitePosition",parentPath:"/media/site"},{nav2:"/media/app"}],label:p||""}};n.media={site:m(l("网站管理")),sitePosition:m(l("网站广告位")),app:m(l("应用管理")),__mockData:{siteUpdate:{},appUpdate:{},sitePositionUpdate:{}}};var o=function(p){return{nav1:"account",list:[{nav2:"/account/info"},{nav2:"/account/password"}],label:p||""}};n.account={info:m(o("基本信息")),password:m(o("密码设置")),__mockData:{}};n.__nav1={media:{label:"媒体管理",url:"#/media/site",hideNav2:true}};n.__nav2={"/":{nav1:"index",label:"首页"}};return n})();for(var h in mf.MAP){if(h.indexOf("__")>-1){continue}var g=mf.MAP[h].__nav2=mf.MAP[h].__nav2||{};for(var f in mf.MAP[h]){if(f.indexOf("__")>-1){continue}for(var b in mf.MAP[h][f]){var d="/"+f+"/"+b;if(b.indexOf("__")>-1||g[d]){continue}var a=mf.MAP[h][f][b];g[d]={nav1:a.nav1||(function(l){for(var k in l){return k}})(mf.MAP[h].__nav1),label:a.label||b,list:a.list||a}}}}})();if(typeof exports!=="undefined"){exports.MAP=mf.MAP}$(function(){try{mf.authority.parse(mf.getUser().authority)}catch(a){}er.init()});mf.union=mf.union||{};mf.onenter=(function(a){return function(b){b=b||{};b.sep="|";a(this,b)}})(mf.onenter);esui.Table.prototype.startEdit=function(d,h,c){if(this.editable){var a=baidu.g(this._getBodyCellId(h,c));var b=-5;var g=baidu.dom.getPosition(a);var f=this._fields[c];this._currentEditor=esui.Table.EditorManager.startEdit(this,d,{left:g.left+b,top:g.top+b,rowIndex:h,columnIndex:c,field:f,value:mf.m.utils.recursion.get(this.datasource[h],f.field)})}};esui.Select.prototype.setValue=function(d){var c=this,a,b;if(esui.util.hasValue(d)){for(b=0,a=c.datasource.length;b<a;b++){if(c.datasource[b].value===d){c.setSelectedIndex(b);return}}}c.value=null;c.setSelectedIndex(-1)};(function(){var a={json:{contentType:"application/json",encode:JSON.stringify}};mf.urlDebugRouter={routers:{},reg:function(d){$.extend(mf.urlDebugRouter.routers,d)},get:function(d){var f;$.each(mf.urlDebugRouter.routers,function(g,h){if(typeof h==="string"){if(d===h){f=g;return false}}else{if(typeof h.test==="function"){if(h.test(d)){f=g;return false}}}});return f}};mf.ajaxParamFactory=function(k,g){k=k||{};g=g||{};k.type=k.type||"GET";k.data=k.data||{};k.requestType=k.requestType||"json";k.dataType=k.dataType||"json";k.cache=k.cache===true;if(k.type==="GET"){k.requestType=null}var d=a[k.requestType];if(d){k.data=d.encode?d.encode(k.data):k.data;k.contentType=k.contentType||d.contentType}var f=k.url.split("?");var h=f[1]||"";f=f[0]||"";if(mf.DEBUG){f=mf.urlDebugRouter.get(f)||f}if(!g.notAppendExt){g.ext=g.ext||(mf.DEBUG?"json":"");f+=g.ext?"."+g.ext:""}k.url=f+(h?"?":"")+h;return k};function c(d){if(!d.success){if(d.errorType==="formError"){throw d.message||"网络错误，请联系管理员！<br>"}else{if(d.errorType==="NoLogin"){throw"sessionTimeout"}else{throw"请求失败，请稍后重试。<br>"}}}return d.entities||[]}function b(){var d=[].slice.call(arguments);return function(f){mf.loaded();if(f==="sessionTimeout"){if(typeof(mf.userLoad)==="function"){mf.userLoad(function(){mf.parallelAjax.apply(null,d)})}else{mf.msg("登录超时，操作无法完成，请重新登录！",typeof(mf.userLoad)==="string"?function(){T.cookie.set(mf.cookieKeyMap.authority,0);er.locator.redirect(mf.userLoad)}:null)}}else{mf.msg(f)}}}mf.parallelAjax=function(f,d,h){f=[].concat(f);var k=[];for(var g=0,l;(l=f[g]);g+=1){if(typeof l==="string"){l={url:l}}l=mf.ajaxParamFactory(l);k[g]=(function(m){var n=$.Deferred();$.ajax(m).done(function(o){try{o=c(o)}catch(p){n.reject(p);return}n.resolve(o)}).fail(function(o,q,p){n.reject("网络错误！")});return n.promise()})(l)}mf.loading();$.when.apply($,k).done(function(){var m=[].slice.call(arguments);mf.loaded();d.apply(h,m)}).fail(b.call(null,f,d,h))}})();(function(){mf.mockTableFields=function(c,f){var a=[];for(var b in c){if(f[b]&&f[b].isShow===false){continue}var d=$.extend({align:"center",content:"",listKey:b},f[b]||{},c[b]);d.content=d.content||d.field;a.push(d)}return a};mf.tableSavingValidator=function(d,a){var c=[];var b=this;$.each(a,function(g,k){if(!k.field){return true}var h=mf.m.utils.recursion.get(d,k.field);if(k.validator){var f=k.validator.call(b,h,d);if(f){c.push("【"+(k.title||"")+"】"+f);return true}}});if(c.length){esui.Dialog.alert({title:"操作失败",content:c.join("<br>")});return false}return true};mf.grepDataInConfig=function(c,a){var b=$.deepExtend({},c);$.each(a,function(d,g){if(!g.field){return true}var f=mf.m.utils.recursion.get(b,g.field);if(g.request===false){delete b[g.field]}else{if(!g.request&&!mf.m.utils.hasValue(f)){delete b[g.field]}}});$.each(b,function(d){if(d.charAt(0)==="_"){delete b[d]}});return b};mf.mockFieldInConfig=function(a,b){b=b||"field";return function(c){return(a[c]||{})[b]}};mf.initEntityInConfig=function(b,a){a=a||{};$.each(b,function(c,d){if("defaultValue" in d){mf.m.utils.recursion.set(a,d.field,d.defaultValue)}});return a};mf.reflectDataInConfig=function(b,c){var a={};$.each(c,function(d,f){if(f.field){a[d]=mf.m.utils.recursion.get(b,f.field,f.defaultValue)}});return a};mf.operateDataInConfigField=function(b){var a=mf.mockFieldInConfig(b);return{get:function(f,d,c){return mf.m.utils.recursion.get(f,a(d),c)},set:function(f,c,d){return mf.m.utils.recursion.set(f,a(c),d)}}};mf.mockPager=function(d,b){var h=b.table;var c=b.pageSizer;var a=b.pager;h.onedit=function(m,k,l){var n=h.datasource[k.rowIndex];mf.m.utils.recursion.set(n,k.field.field,m);n._isModify=true;h.render()};a.onchange=mf.m.utils.nextTickWrapper(function(){g()});c.onchange=mf.m.utils.nextTickWrapper(function(){g({page:0})});h.onsort=mf.m.utils.nextTickWrapper(function(){g({page:0})});var f;return g;function g(m){m=m||{};if("pageSize" in m){c.setVaue(m.pageSize)}else{m.pageSize=parseInt(c.getValue(),10)}var o=d;if("filter" in m){f=m.filter}else{f=null}if(f){o=$.grep(o,f)}var n=Math.ceil(o.length/m.pageSize);if(a.total!==n||"page" in m){a.total=n;a.render()}if("page" in m){a.setPage(m.page)}else{m.page=parseInt(a.getPage(),10)}if("order" in m){h.order=m.order}else{m.order=h.order}if("orderBy" in m){h.orderBy=m.orderBy}else{m.orderBy=h.orderBy}var k=m.order==="asc"?1:-1;var p=m.orderBy;var l=mf.m.utils.recursion.get;o.sort(function(r,q){return l(r,p)>l(q,p)?k:-k});h.datasource=o.slice(m.page*m.pageSize,(m.page+1)*m.pageSize);h.render()}}})();(function(){mf.initEntities=function(c){var b=c.loader;var d=c.entities;if(b.get("from")&&b.get("to")){b.set("date",b.get("from")+","+b.get("to"))}var a=c.fields;if(a){b.set("fields",$.isFunction(a)?a(b):a)}if(d){b.set("list",d);b.set("listTotalSize",d.length);b.set("total",Math.ceil(d.length/b.get("pageSize")))}}})();mf.clickCommand=mf.m.commandElement("click");(function(a,b){var c=function(l,m){var g="_preview";var k={contextId:g};er.context.addPrivate(g);var d=parseInt(l.height||0,10);if(d<20){d=20}d=d/12;$.each(l,function(o,p){er.context.set(o,p,k)});var f=["position-content"];if(l.displayType==1&&l.position==2){f.push("position-absolute-bottom")}if(l.type==10){var h=d/500*600;if(h>26.66){h=26.66;d=h/600*500}er.context.set("relativeWidth",h,k);er.context.set("halfRelativeWidth",h/2,k)}er.context.set("relativeHeight",d,k);er.context.set("positionExtraClass",f.join(" "),k);if(typeof m==="string"){m=document.getElementById(m)||document.getElementsByClassName(m)[0]}m=m||{};er.template.merge(m,"position_preview",g);er.context.removePrivate(g);return m.innerHTML};a.preview=c})(mf&&mf.m||exports||{},mf||module);mf.index={};er.config.TEMPLATE_LIST=["asset/union-index.html"];er.config.DEFAULT_INDEX="/media/site";mf.authority=mf.m.authority("union","index");mf.cookieKeyMap={name:"union_username",authority:"union_adminauthority"};mf.authority.register({LOGIN:1});mf.authority.isUserLogin=function(){return er.permission.isAllow("LOGIN")};mf.urlDebugRouter.reg({"/index/index/login":"/login","/index/config":"/config","/index/media/site":/^\/media\/?/i,"/index/media/sitePosition":/^\/adslot\/?/i});mf.windowMinWidth=600;mf.userLoad="/index/login~force=1";$(function(){if("index"===mf.getErPage()){mf.clickCommand.register({cmd:"loginOut",handle:function(){T.cookie.set(mf.cookieKeyMap.authority,0);window.location.reload();return false},rewrite:true})}});mf.index.indexActions=[{path:"/index/login",action:"mf.index.index.login"},{path:"/index/dailyReport",action:"mf.index.index.dailyReport",authority:"LOGIN",noAuthLocation:"/index/login"}];(function(){mf.index.index=new er.Module({config:{action:mf.index.indexActions.concat({path:"/",action:"mf.union.index.dailyReport"})}})})();mf.index.index.model={};(function(){var a=function(b){return[]};mf.index.index.model.login=new er.Model({QUERY_MAP:{},LOADER_LIST:["modelLoader"],modelLoader:new er.Model.Loader(function(){var b=this})})})();(function(){function a(){if(mf.authority.isUserLogin()){$("#Nav1, #Nav2, .header-login").show();mf.updateNav1.__called=0;er.locator.redirect("/media/site~force=1");return true}return false}var b="union_userpwd";mf.index.index.login=new er.Action({model:mf.index.index.model.login,view:new er.View({template:"mf_index_index_login",UI_PROP:{}}),STATE_MAP:{},onenter:function(){mf.onenter();$("#Nav1, #Nav2, .header-login").hide();var c=T.cookie.get(mf.cookieKeyMap.name)||"";this.model.set("username",c)},onentercomplete:function(){if(!this.model.get("force")){a()}},onafterrepaint:function(){mf.loaded()},onafterrender:function(){mf.loaded();var d=this;var c=mf.m.validate();mf.fixPassword("password","show_password");if(d.model.get("pwd")){$(esui.get("show_password").main).hide();$(esui.get("password").main).show()}c.reg({id:"username",rule:[{tpl:"notNull",msg:"用户名不能为空"}]});c.reg({id:"password",rule:[{tpl:"notNull",msg:"密码不能为空"}]});esui.get("submit").onclick=function(){if(!d.validateForm()||!c.check()){return}mf.loading();mf.parallelAjax({url:"/login",type:"POST",data:{username:esui.get("username").getValue(),password:esui.get("password").getValue()}},function(f){var g={authority:255};g.authority=parseInt(g.authority||0);if(g.authority>0){g.authority|=1}var h={expires:3600000*24*15};T.cookie.set(mf.cookieKeyMap.name,esui.get("username").getValue(),h);T.cookie.set(mf.cookieKeyMap.authority,g.authority);mf.authority.parse(g.authority);if(!a()){esui.Dialog.alert({title:"登录失败",content:"请联系管理员"})}})};$("body").unbind("keypress.login").bind("keypress.login",function(f){if(f.keyCode===13){esui.get("username").main.blur();esui.get("password").main.blur();esui.get("submit").onclick()}})},onleave:function(){$("body").unbind("keypress.login")}})})();(function(){var a=function(b){return[{title:"日期",field:"applyDate",sortable:1,content:"applyDate"},{title:"总申请数",field:"applyNum",sortable:1,content:"applyNum"}]};mf.index.index.model.dailyReport=new er.Model({QUERY_MAP:{from:"from",to:"to"},LOADER_LIST:["modelLoader"],modelLoader:new er.Model.Loader(function(){var b=this;b.stop();mf.get("index/index/dailyReport?"+b.getQueryString(),function(d){var c=d.user;if(c){c.name&&T.cookie.set(mf.cookieKeyMap.name,c.name)}d.flashList=baidu.object.clone(d.list);mf.initModel({loader:b,model:d,fields:a});b.set("originList",b.get("list"));b.start()})})})})();(function(){mf.index.index.dailyReport=new er.Action({model:mf.index.index.model.dailyReport,view:new er.View({template:"mf_index_index_dailyReport",UI_PROP:{date:{range:mf.DEF_DATE_RANGE}}}),STATE_MAP:{page:0,pageSize:mf.PAGER_MODEL.pageSize,order:"desc",orderBy:"date",from:mf.getDateString(mf.DEF_DATE_VALUE.begin),to:mf.getDateString(mf.DEF_DATE_VALUE.end)},onenter:function(){mf.loading()},onafterloadmodel:function(){var b=this;var a=b.model;mf.updateNav1.__called=0;mf.onenter.call(this);mf.loaded()},onafterrender:function(){var b=this;var a=b.model;mf.initMultiCalendar({action:b,reset:0});mf.initList({action:b})},onentercomplete:function(){mf.loaded();var b=this;var a=b.model},onleave:function(){var a=this}})})();mf.index.mediaActions=[{path:"/media/site",action:"mf.index.media.site",authority:"LOGIN",noAuthLocation:"/index/login"},{path:"/media/sitePosition",action:"mf.index.media.sitePosition",authority:"LOGIN",noAuthLocation:"/index/login"},{path:"/media/app",action:"mf.index.media.app",authority:"LOGIN",noAuthLocation:"/index/login"}];(function(){mf.index.media=new er.Module({config:{action:mf.index.mediaActions}})})();mf.index.media.model={};(function(){var a=function(d,c){var b=c.lists.siteMediaList;var g=mf.operateDataInConfigField(b);var f={id:{content:function(k,h){return'<a data-cmd="position" data-index="'+h+'">'+g.get(k,"id","")+"</a>"}},name:{},note:{},createTime:{width:80},modifyTime:{width:80},isPopups:{datasource:c.maps.toggleMap,content:function(k){var h=mf.m.utils.deepSearch("children",c.maps.toggleMap,g.get(k,"isPopups"),"value",0);return h?h.name||"-":"-"}},popupInterval:{content:function(m,l,k,h){if(g.get(m,"isPopups")){return g.get(m,"popupInterval")||0}else{h.push("ui-table-cell-editor-disabled");return"-"}},validator:function(k,h){return g.get(h,"isPopups")&&k<1&&"不能小于0"}},operation:{title:"操作",width:70,content:function(l,h){var k=[];if(l._isModify){k.unshift('<a data-cmd="save" data-index="'+h+'">保存</a>')}if(l._isNew){k.unshift('<a data-cmd="delete_add" data-index="'+h+'">撤销新增</a>')}else{k.unshift('<a data-cmd="copy" data-index="'+h+'">复制</a>')}return k.join("&nbsp;")}}};return mf.mockTableFields(f,b)};mf.index.media.model.site=new er.Model({QUERY_MAP:{},LOADER_LIST:["modelLoader"],modelLoader:new er.Model.Loader(function(){var b=this;b.stop();mf.parallelAjax([{url:"/config",cache:true},"/media?"+b.getQueryString()],function(c,d){mf.initEntities({loader:b,entities:d,fields:a(d,c)});b.set("config",c);b.set("siteMediaList",c.lists.siteMediaList);b.set("siteMediaCount",d.length);b.start()})})})})();(function(){mf.index.media.site=new er.Action({model:mf.index.media.model.site,view:new er.View({template:"mf_index_media_site",UI_PROP:{}}),STATE_MAP:{page:0,pageSize:mf.PAGER_MODEL.pageSize,pageSizes:mf.PAGER_MODEL.pageSizes},onenter:function(){mf.onenter()},onafterloadmodel:function(){},onafterrender:function(){mf.loaded();var f=this;var l=f.model;var q=esui.get("list");var d=esui.get("pager");var p=esui.get("pageSize");var a=esui.get("popupsCount");var r=esui.get("siteMediaCount");var o=l.get("list");var c=l.get("config");var b=l.get("siteMediaList");var n=mf.mockFieldInConfig(b);var m=mf.operateDataInConfigField(b);var k=mf.initEntityInConfig(b);q.order="asc";q.orderBy=n("id");var h=mf.mockPager(o,{pager:d,pageSizer:p,table:q});h();var g=function(){var s=$.grep(o,function(t){return m.get(t,"isPopups")}).length;a.setContent(s.toString())};g();q.onedit=(function(s){return function(u,t){if(t.field.listKey==="isPopups"){m.set(this.datasource[t.rowIndex],"popupInterval",0)}g();s.apply(this,arguments)}})(q.onedit);l.set("commands",mf.clickCommand.register([{cmd:"search",handle:function(s){var u=esui.get("siteMediaId").getValue();var t;if(u){t=function(v){return String(m.get(v,"id")).indexOf(u)>-1}}h({page:0,filter:t})}},{cmd:"add",handle:function(t){var s=$.deepExtend({},k);s=mf.grepDataInConfig(s,b);s._isNew=true;q.datasource=q.datasource||[];q.datasource.unshift(s);q.render()}},{cmd:"delete_add",handle:function(s){q.datasource.splice(s.index,1);q.render()}},{cmd:"save",handle:function(s){var t=q.datasource[s.index];if(mf.tableSavingValidator(t,q.fields)){mf.parallelAjax({type:"POST",url:"/media"+(t._isNew?"":"/"+m.get(t,"id")),data:mf.grepDataInConfig(t,b)},function(u){var x=u[0];if(t._isNew){o.unshift(x);r.setContent(o.length);g()}else{var w=n("id");var v=mf.m.utils.indexOfArray(o,t[w],w);v>-1&&(o[v]=x)}q.datasource[s.index]=x;q.render()})}}},{cmd:"copy",handle:function(t){var u=q.datasource[t.index];var s=$.deepExtend({},k,u);s=mf.grepDataInConfig(s,b);s._isModify=true;s._isNew=true;q.datasource.unshift(s);q.render()}},{cmd:"position",handle:function(t){var v=q.datasource[t.index];var u=m.get(v,"id");if(u){var s="/media/sitePosition~"+$.param({siteId:u,siteName:m.get(v,"name")});mf.m.utils.nextTick(function(){er.locator.redirect(s)})}}}],{region:"#"+f.view.target,rewrite:true}))},onentercomplete:function(){},onleave:function(){var a=this.model.get("commands");a&&mf.clickCommand.dispose(a)}})})();(function(){var a=function(d,c){var b=c.lists.sitePositionList;var h=mf.operateDataInConfigField(b);var g=mf.mockFieldInConfig(b);var f={id:{},media:{},modifyTime:{},name:{},type:{datasource:c.maps.sitePositionTypeMap,content:function(l){var k=mf.m.utils.deepSearch("children",c.maps.sitePositionTypeMap,h.get(l,"type"),"value",0);return k?k.name||"-":"-"}},displayType:{datasource:c.maps.sitePositionDisplayTypeMap,content:function(o,m,l,k){if(h.get(o,"type")!==c.maps.sitePositionTypeMap[1].value){var n=mf.m.utils.deepSearch("children",c.maps.sitePositionDisplayTypeMap,h.get(o,"displayType"),"value",0);return n?n.name||"-":"-"}else{k.push("ui-table-cell-editor-disabled");return"-"}}},position:{datasource:c.maps.displayPositionMap,content:function(o,m,l,k){if(h.get(o,"displayType")==c.maps.sitePositionDisplayTypeMap[0].value&&h.get(o,"type")!=c.maps.sitePositionTypeMap[1].value){var n=mf.m.utils.deepSearch("children",c.maps.displayPositionMap,h.get(o,"position"),"value",0);return n?n.name||"-":"-"}else{k.push("ui-table-cell-editor-disabled");return"-"}}},hasCloseBtn:{datasource:c.maps.judgeMap,content:function(l){var k=mf.m.utils.deepSearch("children",c.maps.judgeMap,h.get(l,"hasCloseBtn"),"value",0);return k?k.name||"-":"-"}},height:{title:function(){return'高度(px)<div ui="type:Tip;title:说明;content:-1 表示全屏;skin:help;arrow:tl;"></div>'},content:function(k){return h.get(k,"height")||0},validator:function(n,m){var l=mf.m.utils.deepSearch("children",c.maps.sitePositionTypeMap,h.get(m,"type"),"value",0);if(n==-1){return""}var k=l.heightRange;if(n<k[0]||n>k[1]){return"值不在范围内，请修改。（范围："+k[0]+" ~ "+k[1]+"）"}}},autoPlayInterval:{content:function(k){return h.get(k,"autoPlayInterval")||0},validator:function(l,k){return h.get(k,"autoPlayInterval")&&l<1&&"不能小于0"}},operation:{title:"操作",content:function(m,k){var l=[];if(m._isModify){l.unshift('<a data-cmd="save" data-index="'+k+'">保存</a>')}if(m._isNew){l.unshift('<a data-cmd="delete_add" data-index="'+k+'">撤销新增</a>')}else{l.unshift('<a data-cmd="copy" data-index="'+k+'">复制</a>')}return l.join("&nbsp;")}}};return mf.mockTableFields(f,b)};mf.index.media.model.sitePosition=new er.Model({QUERY_MAP:{media:"siteId"},LOADER_LIST:["modelLoader"],modelLoader:new er.Model.Loader(function(){var b=this;b.stop();mf.parallelAjax([{url:"/config",cache:true},"/adslot?"+b.getQueryString()],function(c,d){mf.initEntities({loader:b,entities:d,fields:a(d,c)});b.set("config",c);b.set("sitePositionList",c.lists.sitePositionList);b.set("sitePositionCount",d.length);b.start()})})})})();(function(){mf.index.media.sitePosition=new er.Action({model:mf.index.media.model.sitePosition,view:new er.View({template:"mf_index_media_sitePosition",UI_PROP:{list:{}}}),STATE_MAP:{page:0,pageSize:mf.PAGER_MODEL.pageSize,pageSizes:mf.PAGER_MODEL.pageSizes},onenter:function(){mf.onenter()},onbeforemodelload:function(){},onafterrender:function(){},onentercomplete:function(){mf.loaded();var c=this;var g=c.model;var o=esui.get("list");var b=esui.get("pager");var l=esui.get("pageSize");var k=g.get("list");var a=g.get("config");var m=g.get("sitePositionList");var n=mf.mockFieldInConfig(m);var h=mf.operateDataInConfigField(m);var d={};d[n("media")]=g.get("siteId");d=mf.initEntityInConfig(m,d);o.order="asc";o.orderBy=n("id");var f=mf.mockPager(k,{pager:b,pageSizer:l,table:o});f();o.onedit=(function(p){return function(t,q){if(q.field.listKey==="type"){var s=mf.m.utils.deepSearch("children",a.maps.sitePositionTypeMap,t,"value",0);var u=o.datasource[q.rowIndex];h.set(u,"height",s.heightDefault)}p.apply(this,arguments)}})(o.onedit);o._rowOverHandler=function(p){esui.Table.prototype._rowOverHandler.call(this,p);mf.m.preview(mf.reflectDataInConfig(o.datasource[p],m),"positionPreview")};$.extend(c._controlMap,esui.init(o.main));g.set("commands",mf.clickCommand.register([{cmd:"search",handle:function(p){var r=esui.get("sitePositionId").getValue();var q;if(r){q=function(s){return String(h.get(s,"id")).indexOf(r)>-1}}f({page:0,filter:q})}},{cmd:"add",handle:function(q){var p=$.deepExtend({},d);p=mf.grepDataInConfig(p,m);p._isNew=true;o.datasource=o.datasource||[];o.datasource.unshift(p);o.render()}},{cmd:"delete_add",handle:function(p){o.datasource.splice(p.index,1);o.render()}},{cmd:"save",handle:function(p){var q=o.datasource[p.index];if(mf.tableSavingValidator.call(o,q,o.fields)){mf.parallelAjax({type:"POST",url:"/adslot"+(q._isNew?"":"/"+h.get(q,"id")),data:mf.grepDataInConfig(q,m)},function(r){var u=r[0];if(q._isNew){k.unshift(u)}else{var t=n("id");var s=mf.m.utils.indexOfArray(k,q[t],t);s>-1&&(k[s]=u)}o.datasource[p.index]=u;o.render()})}}},{cmd:"copy",handle:function(q){var r=o.datasource[q.index];var p=$.deepExtend({},d,r);p=mf.grepDataInConfig(p,m);p._isModify=true;p._isNew=true;o.datasource.unshift(p);o.render()}}],{region:"#"+c.view.target,rewrite:true}))},onleave:function(){var a=this.model.get("commands");a&&mf.clickCommand.dispose(a)}})})();(function(){var a=function(d,c){var b=c.lists.appMediaList;var g=mf.mockFieldInConfig(b);var f={id:{},name:{},note:{},createTime:{width:100},modifyTime:{width:100},operation:{title:"操作",content:function(l,h){var k=[];if(l._isModify){k.unshift('<a data-cmd="save" data-index="'+h+'">保存</a>')}if(l._isNew){k.unshift('<a data-cmd="delete_add" data-index="'+h+'">撤销新增</a>')}else{k.unshift('<a data-cmd="copy" data-index="'+h+'">复制</a>')}return k.join("&nbsp;")}}};return mf.mockTableFields(f,b)};mf.index.media.model.app=new er.Model({QUERY_MAP:{},LOADER_LIST:["modelLoader"],modelLoader:new er.Model.Loader(function(){var b=this;b.stop();mf.parallelAjax([{url:"index/config",cache:true},"index/media/app?"+b.getQueryString()],function(c,f){mf.initModel({loader:b,model:f,fields:a(f,c)});var d={_isNew:true};var g=c.lists.appMediaList;$.each(g,function(h,k){d[k.field]=k.defaultValue});b.set("emptySiteMedia",d);b.set("appMediaList",g);b.set("appMediaCount",b.get("list").length);b.start()})})})})();(function(){function a(c){var b=$.Deferred();mf.parallelAjax({method:"POST",url:"index/media/appUpdate",data:c},function(d){b.resolve(d)});return b.promise()}mf.index.media.app=new er.Action({model:mf.index.media.model.app,view:new er.View({template:"mf_index_media_app",UI_PROP:{list:{order:"asc",orderBy:"id"}}}),STATE_MAP:{page:0,pageSize:mf.PAGER_MODEL.pageSize,pageSizes:mf.PAGER_MODEL.pageSizes},onenter:function(){mf.onenter()},onafterrepaint:function(){},onafterrender:function(){},onentercomplete:function(){mf.loaded();var f=this;var h=f.model;var n=esui.get("list");var d=esui.get("pager");var m=esui.get("pageSize");var b=esui.get("popupsCount");var c=esui.get("appMediaCount");var l=h.get("list");var k=h.get("appMediaList");var o=mf.mockFieldInConfig(k);n.onedit=function(r,p,q){var s=n.datasource[p.rowIndex];s[p.field.field]=r;s._isModify=true;n.render()};var g=mf.mockPager(l,{pager:d,pageSizer:m,table:n});d.onchange=function(){g()};m.onchange=function(){g({page:0})};n.onsort=function(){g({page:0})};g();h.set("commands",mf.clickCommand.register([{cmd:"search",handle:function(p){var r=esui.get("appMediaId").getValue();var q;if(r){q=function(s){return String(s[searchField]).indexOf(r)>-1}}g({page:0,filter:q})}},{cmd:"add",handle:function(p){var q=$.extend({},h.get("emptyAppMedia"));n.datasource=n.datasource||[];n.datasource.unshift(q);n.render()}},{cmd:"delete_add",handle:function(p){n.datasource.splice(p.index,1);n.render()}},{cmd:"save",handle:function(p){var q=n.datasource[p.index];if(mf.tableSavingValidator(q,n.fields)){a(q).done(function(r){$.extend(q,r);q._isModify=false;if(q._isNew){q._isNew=false;l.unshift(q);c.setContent(l.length)}n.render()})}}},{cmd:"copy",handle:function(q){var r=n.datasource[q.index];var p=$.extend({},h.get("emptyAppMedia"),r);p[sitePositionListField("id")]="";p[sitePositionListField("createTime")]="";p[sitePositionListField("modifyTime")]="";p._isModify=true;p._isNew=true;n.datasource.unshift(p);n.render()}}],{region:"#"+f.view.target,rewrite:true}))},onleave:function(){var b=this.model.get("commands");b&&mf.clickCommand.dispose(b)}})})();mf.index.accountActions=[{path:"/account/info",action:"mf.index.account.info",authority:"LOGIN",noAuthLocation:"/index/login"},{path:"/account/password",action:"mf.index.account.password",authority:"LOGIN",noAuthLocation:"/index/login"}];(function(){mf.index.account=new er.Module({config:{action:mf.index.accountActions}})})();mf.index.account.model={};(function(){var a=function(b){return[]};mf.index.account.model.info=new er.Model({QUERY_MAP:{},LOADER_LIST:["modelLoader"],modelLoader:new er.Model.Loader(function(){var b=this})})})();(function(){mf.index.account.info=new er.Action({model:mf.index.account.model.info,view:new er.View({template:"mf_index_account_info",UI_PROP:{}}),STATE_MAP:{},onenter:function(){mf.onenter()},onafterrepaint:function(){},onafterrender:function(){},onentercomplete:function(){mf.loaded();var b=this;var a=b.model},onleave:function(){}})})();(function(){var a=function(b){return[]};mf.index.account.model.password=new er.Model({QUERY_MAP:{},LOADER_LIST:["modelLoader"],modelLoader:new er.Model.Loader(function(){var b=this})})})();(function(){mf.index.account.password=new er.Action({model:mf.index.account.model.password,view:new er.View({template:"mf_index_account_password",UI_PROP:{}}),STATE_MAP:{},onenter:function(){mf.onenter()},onafterrender:function(){mf.loaded();var f=this;var d=esui.get("oldpassword");var g=esui.get("newpassword");var b=esui.get("newpassword2");var a=esui.get("confirm");var c=esui.get("cancel");c.onclick=function(){window.location.href="index.html#/index/main"};a.onclick=function(){var m=g.getValue();var k=b.getValue();var l=d.getValue();var o=[{msgContainerId:"oldpasswordError",value:l,targetValue:"",valueRelation:"===",showMsg:"值不能为空"},{msgContainerId:"newpasswordError",value:m,targetValue:"",valueRelation:"===",showMsg:"值不能为空"},{msgContainerId:"newpassword2Error",value:m,targetValue:k,valueRelation:"!==",showMsg:"新密码两次输入不一致"}];if(h(o)){return false}else{var n={oldpassword:l,newpassword:m}}};function h(q){var p=q.length;var m=false;for(var n=0;n<p;n++){var o=q[n];var l=document.getElementById(o.msgContainerId);l.innerHTML="";var k=(new Function("return '"+o.value+"' "+o.valueRelation+" '"+o.targetValue+"';"))();if(k){m=true;l.innerHTML=o.showMsg}}return m}}})})();