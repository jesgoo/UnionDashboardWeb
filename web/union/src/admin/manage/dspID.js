/**
 * @file Generated by er-sync
 * @author killeryyl<longgeyang@jesgoo.com>
 * @date Thu Oct 15 2015 15:54:49 GMT+0800 (CST)
 * Copyright (c) 2015 jesgoo.com, Inc. All Rights Reserved
 */
(function () {
    mf.admin.manage.dspID = new er.Action({
        model: mf.admin.manage.model.dspID,
        view: new er.View({
            template: 'mf_admin_manage_dspID',
            UI_PROP: {}
        }),
        STATE_MAP: {},

        onenter: function () {
            console.log('onenter');
            mf.onenter();
        },
        onentercomplete: function () {
            console.log('onentercomplete');
            mf.loaded();
            var action = this;
            var model = action.model;
            var dspTab = esui.get('dspTab');
            var dspTabs = model.get('dspTabs');
            var currentIndex;
            dspTab.onchange = function (index) {
                if (currentIndex === index) return false;
                currentIndex = index;
                action.subAction && action.subAction.leave();
                console.log('mf.admin.manage.' + dspTabs[index].actionName);
                action.subAction = er.controller.loadSub(
                    'dspContainer',
                    'mf.admin.manage.' + dspTabs[index].actionName,
                    {
                        queryMap: {}
                    }
                );
            };
            dspTab._select(0);
        },
        onleave: function () {
            console.log('onleave');
            this.subAction && this.subAction.leave();
        }
    });
})();