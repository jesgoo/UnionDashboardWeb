/**
 * @file Generated by er-sync
 * @author killeryyl<longgeyang@jesgoo.com>
 * @date Thu Aug 06 2015 13:10:03 GMT+0800 (CST)
 * Copyright (c) 2015 jesgoo.com, Inc. All Rights Reserved
 */
(function () {
    mf.index.account.index = new er.Action({
        model: mf.index.account.model.index,
        view: new er.View({
            template: 'mf_index_account_index',
            UI_PROP: {}
        }),
        STATE_MAP: {},

        onenter: function () {
            console.log('onenter');
            mf.onenter();
        },
        onafterrepaint: function () {
            console.log('onafterrepaint');
        },
        onafterrender: function () {
            console.log('onafterrender');
            console.log('siteMediaCount', this.model.get('siteMediaCount'));
        },
        onentercomplete: function () {
            console.log('onentercomplete');
            mf.loaded();
            var action = this;
            var model = action.model;
            var reportLoader = mf.index.reportBind(action, '#reportArea');
            reportLoader({
                dailyTotal: {
                    action: 'dailyTotal'
                }
            });
            esui.get('newSite').onclick = mf.m.utils.nextTickWrapper(function () {
                er.locator.redirect('/media/site~addNew=1');
            });
            esui.get('newApp').onclick = mf.m.utils.nextTickWrapper(function () {
                er.locator.redirect('/media/app~addNew=1');
            });
            console.log('siteMediaCount', model.get('siteMediaCount'));
        },
        onleave: function () {
            console.log('onleave');
        }
    });
})();