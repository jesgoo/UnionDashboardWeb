/**
 * @file Generated by er-sync, module
 * @author Luics<xukai01@baidu.com>
 * @date Thu Apr 09 2015 17:17:07 GMT+0800 (CST)
 * Copyright (c) 2012 Baidu.com, Inc. All Rights Reserved
 * shortcut mf.m.highchart_monitor
 */
(function (exports, module) {
    var highchart_monitor = function (element, cData) {
        console.log('chart original', element, cData);
        var startDate = new Date(cData.time[0] * 60000);
        var UTCStartDate = Date.UTC(
            startDate.getFullYear(),
            startDate.getMonth(),
            startDate.getMonth(),
            startDate.getHours(),
            startDate.getMinutes()
        );
        return $(element).highcharts({
            chart: {
                animation: false,
                spacingTop: 60,
                marginTop: 60,
                zoomType: 'x'
            },
            title: {
                text: null
            },
            colors: ["#f6505c", "#1c62b8", "#f6c928", "#19b2b7", "#8772cd", "#eb6f25"],
            credits: {
                enabled: false
            },
            exporting: {
                enabled: false
            },
            tooltip: {
                shared: true,
                crosshairs: {
                    width: 2,
                    color: 'gray',
                    dashStyle: 'shortdot'
                }
            },
            legend: {
                align: 'left',
                verticalAlign: 'top',
                itemMarginTop: -40,
                floating: true,
                itemStyle: {
                    fontWeight: 'normal',
                    color: '#777',
                    fontSize: 12,
                    symbolPadding: 10
                },
                itemDistance: 20
            },
            plotOptions: {
                line: {
                    marker: {
                        symbol: 'circle',
                        radius: 2
                    },
                    lineWidth: 1
                },
                spline: {
                    marker: {
                        enabled: false
                    }
                }
            },
            xAxis: {
                type: 'datetime',
                maxZoom: 3600 * 1000,
                //minRange: 3600 * 1000,
                //categories: cData.time,
                lineColor: '#e5e5e5',
                tickColor: '#e5e5e5',
                labels: {
                    style: {
                        color: '#7a7a7a'
                    },
                    rotation: -45,
                    align: 'right'
                },
                tickPosition: 'inside',
                tickLength: 4,
                tickmarkPlacement: 'on'
            },
            yAxis: [
                { // Primary yAxis
                    min: 0,
                    gridLineWidth: 1,
                    title: {
                        text: null
                    },
                    labels: {
                        align: 'left',
                        enabled: true
                    },
                    opposite: true
                }, { // Secondary yAxis
                    min: 0,
                    gridLineWidth: 0,
                    title: {
                        text: null
                    },
                    labels: {
                        align: 'right',
                        enabled: true
                    }

                }
            ],
            series: [
                {
                    name: '点击数',
                    field: 'event',
                    type: 'spline',
                    pointInterval: 2 * 60 * 1000,
                    pointStart: UTCStartDate,
                    yAxis: 0,
                    data: cData.data.event,
                    marker: {
                        symbol: null
                    },
                    tooltip: {
                        valueSuffix: ' 次'
                    },
                    lineWidth: 2
                }, {
                    name: '展现数',
                    type: 'spline',
                    yAxis: 1,
                    pointInterval: 2 * 60 * 1000,
                    pointStart: UTCStartDate,
                    field: 'show',
                    data: cData.data.show,
                    lineWidth: 2,
                    tooltip: {
                        valueSuffix: ' 次'
                    }

                }, {
                    name: '请求数',
                    type: 'spline',
                    yAxis: 1,
                    pointInterval: 2 * 60 * 1000,
                    pointStart: UTCStartDate,
                    field: 'ui',
                    data: cData.data.ui,
                    lineWidth: 2,
                    tooltip: {
                        valueSuffix: ' 次'
                    }
                }
            ]
        }).highcharts();
    };
    exports.highchart_monitor = highchart_monitor;
})(mf && mf.m || exports || {}, mf || module);