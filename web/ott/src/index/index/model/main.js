/**
 * @file Generated by er-sync
 * @author Luics<xukai01@baidu.com>
 * @date Mon Sep 22 2014 10:36:40 GMT+0800 (中国标准时间)
 * Copyright (c) 2012 Baidu.com, Inc. All Rights Reserved
 */
(function () {
    var FIELDS = function (model) {
        return [
            {
                title: '日期',
                field: 'applyDate',
                sortable: 1,
                content: 'applyDate'
            },
            {
                title: '总申请数',
                field: 'applyNum',
                sortable: 1,
                content: 'applyNum'
            }
        ];
    };
    mf.index.index.model.main = new er.Model({
        QUERY_MAP: {
            from: 'from',
            to: 'to'
        },
        LOADER_LIST: ['modelLoader'],
        modelLoader: new er.Model.Loader(function () {
            console.log('modelLoader');
            var loader = this;
            loader.stop();
            mf.get(
                    'index/index/main?' + loader.getQueryString(),
                function (model) {
                    var user = model.user;
                    if (user) {
                        user.name && T.cookie.set(mf.cookieKeyMap.name, user.name);
                    }
                    model.flashList = baidu.object.clone(model.list);
                    mf.initModel({ loader: loader, model: model, fields: FIELDS });
                    loader.set('originList', loader.get('list'));
                    loader.start();
                }
            );
        })
    });
})();